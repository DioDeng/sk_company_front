"use strict";(self["webpackChunkweb"]=self["webpackChunkweb"]||[]).push([[457],{6457:function(t,e,l){l.r(e),l.d(e,{default:function(){return $}});var n=l(6252),s=l(3577);const o={class:"py-4"},i={class:"mb-3 d-flex justify-content-between"},a=(0,n._)("ul",{class:"list-unstyled"},[(0,n._)("li",{class:"nav-item dropdown"},[(0,n._)("a",{class:"nav-link dropdown-toggle",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," 篩選 "),(0,n._)("ul",{class:"dropdown-menu"},[(0,n._)("li",null,[(0,n._)("a",{class:"dropdown-item",href:"#"},"Action")]),(0,n._)("li",null,[(0,n._)("a",{class:"dropdown-item",href:"#"},"Another action")]),(0,n._)("li",null,[(0,n._)("hr",{class:"dropdown-divider"})]),(0,n._)("li",null,[(0,n._)("a",{class:"dropdown-item",href:"#"},"Something else here")])])])],-1),c={class:"table table-striped table-hover"},d=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",{scope:"col"},"#"),(0,n._)("th",{scope:"col"},"公司名"),(0,n._)("th",{scope:"col"},"負責人"),(0,n._)("th",{scope:"col"},"電話"),(0,n._)("th",{scope:"col"},"統編"),(0,n._)("th",{scope:"col"},"地址"),(0,n._)("th",{scope:"col"},"合作記錄"),(0,n._)("th",{scope:"col"},"修改")])],-1),r={scope:"row"},u=["onClick"],h=(0,n._)("i",{class:"bi bi-journal-text"},null,-1),_=[h],m=["onClick"],p=(0,n._)("i",{class:"bi bi-pencil"},null,-1),b=[p];function w(t,e,l,h,p,w){return(0,n.wg)(),(0,n.iD)("section",o,[(0,n._)("div",i,[a,(0,n._)("button",{class:"btn btn-dark",onClick:e[0]||(e[0]=t=>this.$emitter.emit("addEditCom",{status:!0}))}," 新增廠商 ")]),(0,n._)("table",c,[d,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(p.companyList,((t,e)=>((0,n.wg)(),(0,n.iD)("tr",{key:e},[(0,n._)("th",r,(0,s.zw)(e+1),1),(0,n._)("td",null,(0,s.zw)(t.companyName),1),(0,n._)("td",null,(0,s.zw)(t.name),1),(0,n._)("td",null,(0,s.zw)(t.phone),1),(0,n._)("td",null,(0,s.zw)(t.taxIdNumber),1),(0,n._)("td",null,(0,s.zw)(t.address),1),(0,n._)("td",null,[(0,n._)("button",{class:"btn btn-dark",onClick:e=>this.$emitter.emit("cooperList",t._id)},_,8,u)]),(0,n._)("td",null,[(0,n._)("button",{class:"btn btn-success",onClick:e=>this.$emitter.emit("addEditCom",{status:!1,data:t})},b,8,m)])])))),128))])])])}l(560);var g=l(5044),k=l(8769),f={data(){return{companyList:[]}},methods:{checkSignIn(){const t=(0,k.LP)();t?this.$http.defaults.headers.common.Authorization=`Bearer ${t}`:this.$router.push("/login")},getCompanys(){this.$emitter.emit("loadingStatus",!0),(0,g.rO)().then((t=>{this.companyList=t.data.data,this.$emitter.emit("loadingStatus",!1)})).catch((t=>{this.$emitter.emit("loadingStatus",!1),console.log(t)}))}},mounted(){this.getCompanys(),this.$emitter.on("getCompanyLsit",(()=>{this.getCompanys()}))},created(){this.checkSignIn()}},y=l(3744);const C=(0,y.Z)(f,[["render",w]]);var $=C}}]);
//# sourceMappingURL=457.b21a58f7.js.map