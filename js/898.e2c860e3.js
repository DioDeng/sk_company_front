"use strict";(self["webpackChunkweb"]=self["webpackChunkweb"]||[]).push([[898],{8898:function(t,e,l){l.r(e),l.d(e,{default:function(){return y}});var s=l(6252),o=l(3577);const n={class:"py-4"},i={class:"mb-3 d-flex justify-content-between"},r=(0,s._)("ul",{class:"list-unstyled"},[(0,s._)("li",{class:"nav-item dropdown"},[(0,s._)("a",{class:"nav-link dropdown-toggle",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," 篩選 "),(0,s._)("ul",{class:"dropdown-menu"},[(0,s._)("li",null,[(0,s._)("a",{class:"dropdown-item",href:"#"},"Action")]),(0,s._)("li",null,[(0,s._)("a",{class:"dropdown-item",href:"#"},"Another action")]),(0,s._)("li",null,[(0,s._)("hr",{class:"dropdown-divider"})]),(0,s._)("li",null,[(0,s._)("a",{class:"dropdown-item",href:"#"},"Something else here")])])])],-1),a={class:"table table-striped table-hover"},c=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{scope:"col"},"#"),(0,s._)("th",{scope:"col"},"姓名"),(0,s._)("th",{scope:"col"},"電話"),(0,s._)("th",{scope:"col"},"身份證"),(0,s._)("th",{scope:"col"},"年資"),(0,s._)("th",{scope:"col"},"職別"),(0,s._)("th",{scope:"col"},"工作記錄"),(0,s._)("th",{scope:"col"},"修改")])],-1),d={scope:"row"},u=["onClick"],h=["onClick"],_=(0,s._)("i",{class:"bi bi-journal-text"},null,-1),b=[_],p=["onClick"],k=(0,s._)("i",{class:"bi bi-pencil"},null,-1),w=[k];function m(t,e,l,_,k,m){return(0,s.wg)(),(0,s.iD)("section",n,[(0,s._)("div",i,[r,(0,s._)("button",{class:"btn btn-dark",onClick:e[0]||(e[0]=t=>this.$emitter.emit("addEditWorker",{status:!0}))}," 新增員工 ")]),(0,s._)("table",a,[c,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(k.workerList,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:e},[(0,s._)("th",d,(0,o.zw)(e+1),1),(0,s._)("td",null,(0,o.zw)(t.name),1),(0,s._)("td",null,(0,o.zw)(t.phone),1),(0,s._)("td",null,[(0,s._)("button",{type:"button",onClick:e=>this.$refs.idModal.showModal(t),class:"btn btn-outline-dark"},(0,o.zw)(t.idNumber),9,u)]),(0,s._)("td",null,(0,o.zw)(t.seniority),1),(0,s._)("td",null,(0,o.zw)(t.position),1),(0,s._)("td",null,[(0,s._)("button",{class:"btn btn-dark",onClick:e=>this.$emitter.emit("workerList",t._id)},b,8,h)]),(0,s._)("td",null,[(0,s._)("button",{class:"btn btn-success",onClick:e=>this.$emitter.emit("addEditWorker",{status:!1,data:t})},w,8,p)])])))),128))])])])}l(560);var g=l(5044),f=l(8769),$={data(){return{workerList:[]}},methods:{checkSignIn(){const t=(0,f.LP)();t?this.$http.defaults.headers.common.Authorization=`Bearer ${t}`:this.$router.push("/login")},getWorkers(){this.$emitter.emit("loadingStatus",!0),(0,g.mL)().then((t=>{this.workerList=t.data.data,this.$emitter.emit("loadingStatus",!1)})).catch((t=>{console.log(t),this.$emitter.emit("loadingStatus",!1)}))}},mounted(){this.getWorkers(),this.$emitter.on("getWorkerLsit",(()=>{this.getWorkers()}))},created(){this.checkSignIn()}},C=l(3744);const v=(0,C.Z)($,[["render",m]]);var y=v}}]);
//# sourceMappingURL=898.e2c860e3.js.map