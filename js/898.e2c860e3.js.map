{"version":3,"file":"js/898.e2c860e3.js","mappings":"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","sources":["webpack://web/./src/views/PersonnelView.vue","webpack://web/./src/views/PersonnelView.vue?970d"],"sourcesContent":["<template>\n  <section class=\"py-4\">\n    <div class=\"mb-3 d-flex justify-content-between\">\n      <ul class=\"list-unstyled\">\n        <li class=\"nav-item dropdown\">\n          <a\n            class=\"nav-link dropdown-toggle\"\n            href=\"#\"\n            role=\"button\"\n            data-bs-toggle=\"dropdown\"\n            aria-expanded=\"false\"\n          >\n            篩選\n          </a>\n          <ul class=\"dropdown-menu\">\n            <li><a class=\"dropdown-item\" href=\"#\">Action</a></li>\n            <li><a class=\"dropdown-item\" href=\"#\">Another action</a></li>\n            <li><hr class=\"dropdown-divider\" /></li>\n            <li><a class=\"dropdown-item\" href=\"#\">Something else here</a></li>\n          </ul>\n        </li>\n      </ul>\n      <button class=\"btn btn-dark\" @click=\"this.$emitter.emit('addEditWorker', { status: true })\">\n        新增員工\n      </button>\n    </div>\n    <table class=\"table table-striped table-hover\">\n      <thead>\n        <tr>\n          <th scope=\"col\">#</th>\n          <th scope=\"col\">姓名</th>\n          <th scope=\"col\">電話</th>\n          <th scope=\"col\">身份證</th>\n          <th scope=\"col\">年資</th>\n          <th scope=\"col\">職別</th>\n          <th scope=\"col\">工作記錄</th>\n          <th scope=\"col\">修改</th>\n        </tr>\n      </thead>\n      <tbody>\n        <template v-for=\"(item, index) in workerList\" :key=\"index\">\n          <tr>\n            <th scope=\"row\">{{ index + 1 }}</th>\n            <td>{{ item.name }}</td>\n            <td>{{ item.phone }}</td>\n            <td>\n              <button\n                type=\"button\"\n                @click=\"this.$refs.idModal.showModal(item)\"\n                class=\"btn btn-outline-dark\"\n              >\n                {{ item.idNumber }}\n              </button>\n            </td>\n            <td>{{ item.seniority }}</td>\n            <td>{{ item.position }}</td>\n            <td>\n              <button class=\"btn btn-dark\" @click=\"this.$emitter.emit('workerList' ,item._id)\">\n                <i class=\"bi bi-journal-text\"></i>\n              </button>\n            </td>\n            <td>\n              <button\n                class=\"btn btn-success\"\n                @click=\"this.$emitter.emit('addEditWorker', { status: false, data: item })\"\n              >\n                <i class=\"bi bi-pencil\"></i>\n              </button>\n            </td>\n          </tr>\n        </template>\n      </tbody>\n    </table>\n  </section>\n</template>\n\n<script>\nimport { apiGetWorkers } from '@/assets/javascript/api';\nimport { getToken } from '@/assets/javascript/methods';\n\nexport default {\n  data() {\n    return {\n      workerList: [],\n    };\n  },\n  methods: {\n    checkSignIn() {\n      // 取得 cookie 中的 token\n      const token = getToken();\n\n      // 若有 token 則登入，反之轉為登入頁面\n      if (token) {\n        this.$http.defaults.headers.common.Authorization = `Bearer ${token}`;\n      } else {\n        this.$router.push('/login');\n      }\n    },\n    getWorkers() {\n      this.$emitter.emit('loadingStatus', true);\n      apiGetWorkers()\n        .then((res) => {\n          this.workerList = res.data.data;\n          this.$emitter.emit('loadingStatus', false);\n        })\n        .catch((err) => {\n          console.log(err);\n          this.$emitter.emit('loadingStatus', false);\n        });\n    },\n  },\n  mounted() {\n    this.getWorkers();\n    this.$emitter.on('getWorkerLsit', () => {\n      this.getWorkers();\n    });\n  },\n  created() {\n    this.checkSignIn();\n  },\n};\n</script>\n","import { render } from \"./PersonnelView.vue?vue&type=template&id=68221163\"\nimport script from \"./PersonnelView.vue?vue&type=script&lang=js\"\nexport * from \"./PersonnelView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","href","role","scope","_hoisted_9","_hoisted_12","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","onClick","_cache","$event","$emitter","emit","status","_hoisted_4","_hoisted_5","_Fragment","_renderList","$data","workerList","item","index","key","_hoisted_6","_toDisplayString","name","phone","type","$refs","idModal","showModal","idNumber","_hoisted_7","seniority","position","_id","_hoisted_10","_hoisted_8","data","_hoisted_13","_hoisted_11","methods","checkSignIn","token","getToken","this","$http","defaults","headers","common","Authorization","$router","push","getWorkers","apiGetWorkers","then","res","catch","err","console","log","mounted","on","created","__exports__","render"],"sourceRoot":""}