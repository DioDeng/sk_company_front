{"version":3,"file":"js/796.cb22b224.js","mappings":"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","sources":["webpack://web/./src/views/HomeView.vue","webpack://web/./src/components/home/InfoCard.vue","webpack://web/./src/components/home/InfoCard.vue?8620","webpack://web/./src/components/home/D3Model.vue","webpack://web/./node_modules/@kurkle/color/dist/color.esm.js","webpack://web/./node_modules/chart.js/dist/chunks/helpers.segment.js","webpack://web/./node_modules/chart.js/dist/chart.js","webpack://web/./node_modules/vue-chartjs/dist/index.js","webpack://web/./src/components/home/D3Model.vue?3800","webpack://web/./src/components/home/BarModel.vue","webpack://web/./src/components/home/BarModel.vue?9139","webpack://web/./src/components/home/LineModel.vue","webpack://web/./src/components/home/LineModel.vue?1dab","webpack://web/./src/components/home/CalendarModel.vue","webpack://web/./node_modules/preact/dist/preact.module.js","webpack://web/./node_modules/preact/hooks/dist/hooks.module.js","webpack://web/./node_modules/preact/compat/dist/compat.module.js","webpack://web/./node_modules/@fullcalendar/core/internal-common.js","webpack://web/./node_modules/@fullcalendar/core/index.js","webpack://web/./node_modules/@fullcalendar/vue3/dist/options.js","webpack://web/./node_modules/@fullcalendar/vue3/dist/FullCalendar.js","webpack://web/./node_modules/@fullcalendar/vue3/dist/index.js","webpack://web/./node_modules/@fullcalendar/daygrid/internal.js","webpack://web/./node_modules/@fullcalendar/daygrid/index.js","webpack://web/./src/components/home/CalendarModel.vue?8e83","webpack://web/./src/components/home/TodoList.vue","webpack://web/./src/components/home/TodoList.vue?b706","webpack://web/./src/views/HomeView.vue?1da1"],"sourcesContent":["<template>\n  <Infor class=\"mb-5\" :workerList=\"workerList\" :comapnyList=\"comapnyList\" :orderList=\"orderList\" />\n  <Bar class=\"mb-5\" />\n  <!-- <Case class=\"mb-5\" /> -->\n  <div class=\"row row-cols-1 row-cols-md-2 g-4 mb-5\">\n    <div class=\"col\">\n      <div class=\"card h-100\">\n        <Q1 />\n      </div>\n    </div>\n    <div class=\"col\">\n      <div class=\"card h-100\">\n        <Line />\n      </div>\n    </div>\n  </div>\n  <div class=\"row row-cols-1 row-cols-md-2 g-4 mb-5\">\n    <div class=\"col\">\n      <div class=\"card h-100\">\n        <Calendar />\n      </div>\n    </div>\n    <div class=\"col\">\n      <div class=\"card h-100 py-3\">\n        <h3 class=\"text-center\"></h3>\n        <Todolist />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Infor from '@/components/home/InfoCard.vue';\nimport Bar from '@/components/home/D3Model.vue';\nimport Q1 from '@/components/home/BarModel.vue';\nimport Line from '@/components/home/LineModel.vue';\nimport Calendar from '@/components/home/CalendarModel.vue';\nimport Todolist from '@/components/home/TodoList.vue';\nimport {\n  apiGetWorkers,\n  apiGetCompanys,\n  apiGetOrders,\n} from '@/assets/javascript/api';\n\nexport default {\n  data() {\n    return {\n      workerList: [],\n      comapnyList: [],\n      orderList: [],\n    };\n  },\n  components: {\n    Infor,\n    Bar,\n    Q1,\n    Line,\n    Calendar,\n    Todolist,\n  },\n  methods: {\n    getWorkers() {\n      apiGetWorkers()\n        .then((res) => {\n          this.workerList = res.data.data;\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    getCompanys() {\n      apiGetCompanys()\n        .then((res) => {\n          this.comapnyList = res.data.data;\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    getOrders() {\n      apiGetOrders()\n        .then((res) => {\n          this.orderList = res.data.data;\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n  },\n  mounted() {\n    this.getWorkers();\n    this.getCompanys();\n    this.getOrders();\n  },\n};\n</script>\n","<template>\n  <div class=\"row row-cols-1 row-cols-sm-4 g-4 pt-4\">\n    <!--  -->\n    <div class=\"col\">\n      <div\n        class=\"card h-100 border border-primary-subtle text-primary-emphasis bg-primary-subtle\"\n      >\n        <div class=\"card-header text-center h5\"></div>\n        <div class=\"card-body position-relative\">\n          <i\n            class=\"opacity-50 position-absolute top-0 h1 start-0 p-3 bi bi-file-text\"\n          ></i>\n          <div class=\"card-text py-4 d-flex flex-column align-items-center\">\n            <div class=\"h1\">\n              {{ this.$toCurrency(orderNum) }}\n            </div>\n            <!-- <h6>+13% </h6> -->\n          </div>\n        </div>\n        <div class=\"card-footer\"></div>\n      </div>\n    </div>\n    <!-- 2 -->\n    <div class=\"col\">\n      <div\n        class=\"card h-100 border border-success-subtle text-success-emphasis bg-success-subtle\"\n      >\n        <div class=\"card-header text-center h5\"></div>\n        <div class=\"card-body position-relative\">\n          <i\n            class=\"opacity-50 position-absolute top-0 h1 start-0 p-3 bi bi-file-text\"\n          ></i>\n          <div class=\"card-text py-4 d-flex flex-column align-items-center\">\n            <div class=\"h1\">\n              ${{ this.$toCurrency(total) }}\n            </div>\n          </div>\n        </div>\n        <div class=\"card-footer\">2023</div>\n      </div>\n    </div>\n    <!-- 3 -->\n    <div class=\"col\">\n      <div\n        class=\"card h-100 border border-warning-subtle text-warning-emphasis bg-warning-subtle\"\n      >\n        <div class=\"card-header text-center h5\"></div>\n        <div class=\"card-body position-relative\">\n          <i\n            class=\"opacity-50 position-absolute top-0 h1 start-0 p-3 bi bi-people-fill\"\n          ></i>\n          <div class=\"card-text py-4 d-flex flex-column align-items-center\">\n            <div class=\"h1\">\n              {{ this.$toCurrency(workerNum) }}\n            </div>\n            <!-- <h6>+13% </h6> -->\n          </div>\n        </div>\n        <div class=\"card-footer\"></div>\n      </div>\n    </div>\n    <!-- 4 -->\n    <div class=\"col\">\n      <div\n        class=\"card h-100 border border-dark-subtle text-dark-emphasis bg-dark-subtle\"\n      >\n        <div class=\"card-header text-center h5\"></div>\n        <div class=\"card-body position-relative\">\n          <i class=\"opacity-50 position-absolute top-0 h1 start-0 p-3 bi bi-building\"></i>\n          <div class=\"card-text py-4 d-flex flex-column align-items-center\">\n            <div class=\"h1\">\n              {{ this.$toCurrency(companyNum) }}\n            </div>\n            <!-- <h6>+13% </h6> -->\n          </div>\n        </div>\n        <div class=\"card-footer\"></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      workerNum: 0,\n      companyNum: 0,\n      orderNum: 0,\n      total: 0,\n    };\n  },\n  props: ['workerList', 'comapnyList', 'orderList'],\n  watch: {\n    workerList() {\n      this.workerNum = this.workerList.length;\n    },\n    comapnyList() {\n      this.companyNum = this.comapnyList.length;\n    },\n    orderList() {\n      this.orderNum = this.orderList.length;\n      this.total = 0;\n      this.orderList.forEach((item) => {\n        this.total += item.total;\n      });\n    },\n  },\n};\n</script>\n","import { render } from \"./InfoCard.vue?vue&type=template&id=548fb922\"\nimport script from \"./InfoCard.vue?vue&type=script&lang=js\"\nexport * from \"./InfoCard.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <Bar id=\"my-chart-id\" :options=\"chartOptions\" :data=\"chartData\" />\n</template>\n\n<script>\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport { Bar } from 'vue-chartjs';\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport {\n  Chart as ChartJS,\n  Title,\n  Tooltip,\n  Legend,\n  BarElement,\n  CategoryScale,\n  LinearScale,\n} from 'chart.js';\n\nChartJS.register(Title, Tooltip, Legend, BarElement, CategoryScale, LinearScale);\n\nexport default {\n  name: 'BarChart',\n  components: { Bar },\n  data() {\n    return {\n      chartData: {\n        labels: [\n          'January',\n          'February',\n          'March',\n          'April',\n          'May',\n          'June',\n          'July',\n          'August',\n          'September',\n          'October',\n          'November',\n          'December',\n        ],\n        datasets: [\n          {\n            label: '2023',\n            backgroundColor: '#478058',\n            data: [40, 30, 72, 39, 100, 40, 59, 80, 40, 60, 42, 21],\n          },\n          {\n            label: '2023',\n            backgroundColor: '#f87979',\n            data: [10, 20, 12, 19, 10, 20, 19, 10, 23, 16, 22, 20],\n          },\n        ],\n      },\n      chartOptions: {\n        responsive: true,\n      },\n    };\n  },\n};\n</script>\n","/*!\n * @kurkle/color v0.3.2\n * https://github.com/kurkle/color#readme\n * (c) 2023 Jukka Kurkela\n * Released under the MIT License\n */\nfunction round(v) {\n  return v + 0.5 | 0;\n}\nconst lim = (v, l, h) => Math.max(Math.min(v, h), l);\nfunction p2b(v) {\n  return lim(round(v * 2.55), 0, 255);\n}\nfunction b2p(v) {\n  return lim(round(v / 2.55), 0, 100);\n}\nfunction n2b(v) {\n  return lim(round(v * 255), 0, 255);\n}\nfunction b2n(v) {\n  return lim(round(v / 2.55) / 100, 0, 1);\n}\nfunction n2p(v) {\n  return lim(round(v * 100), 0, 100);\n}\n\nconst map$1 = {0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, A: 10, B: 11, C: 12, D: 13, E: 14, F: 15, a: 10, b: 11, c: 12, d: 13, e: 14, f: 15};\nconst hex = [...'0123456789ABCDEF'];\nconst h1 = b => hex[b & 0xF];\nconst h2 = b => hex[(b & 0xF0) >> 4] + hex[b & 0xF];\nconst eq = b => ((b & 0xF0) >> 4) === (b & 0xF);\nconst isShort = v => eq(v.r) && eq(v.g) && eq(v.b) && eq(v.a);\nfunction hexParse(str) {\n  var len = str.length;\n  var ret;\n  if (str[0] === '#') {\n    if (len === 4 || len === 5) {\n      ret = {\n        r: 255 & map$1[str[1]] * 17,\n        g: 255 & map$1[str[2]] * 17,\n        b: 255 & map$1[str[3]] * 17,\n        a: len === 5 ? map$1[str[4]] * 17 : 255\n      };\n    } else if (len === 7 || len === 9) {\n      ret = {\n        r: map$1[str[1]] << 4 | map$1[str[2]],\n        g: map$1[str[3]] << 4 | map$1[str[4]],\n        b: map$1[str[5]] << 4 | map$1[str[6]],\n        a: len === 9 ? (map$1[str[7]] << 4 | map$1[str[8]]) : 255\n      };\n    }\n  }\n  return ret;\n}\nconst alpha = (a, f) => a < 255 ? f(a) : '';\nfunction hexString(v) {\n  var f = isShort(v) ? h1 : h2;\n  return v\n    ? '#' + f(v.r) + f(v.g) + f(v.b) + alpha(v.a, f)\n    : undefined;\n}\n\nconst HUE_RE = /^(hsla?|hwb|hsv)\\(\\s*([-+.e\\d]+)(?:deg)?[\\s,]+([-+.e\\d]+)%[\\s,]+([-+.e\\d]+)%(?:[\\s,]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction hsl2rgbn(h, s, l) {\n  const a = s * Math.min(l, 1 - l);\n  const f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n  return [f(0), f(8), f(4)];\n}\nfunction hsv2rgbn(h, s, v) {\n  const f = (n, k = (n + h / 60) % 6) => v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);\n  return [f(5), f(3), f(1)];\n}\nfunction hwb2rgbn(h, w, b) {\n  const rgb = hsl2rgbn(h, 1, 0.5);\n  let i;\n  if (w + b > 1) {\n    i = 1 / (w + b);\n    w *= i;\n    b *= i;\n  }\n  for (i = 0; i < 3; i++) {\n    rgb[i] *= 1 - w - b;\n    rgb[i] += w;\n  }\n  return rgb;\n}\nfunction hueValue(r, g, b, d, max) {\n  if (r === max) {\n    return ((g - b) / d) + (g < b ? 6 : 0);\n  }\n  if (g === max) {\n    return (b - r) / d + 2;\n  }\n  return (r - g) / d + 4;\n}\nfunction rgb2hsl(v) {\n  const range = 255;\n  const r = v.r / range;\n  const g = v.g / range;\n  const b = v.b / range;\n  const max = Math.max(r, g, b);\n  const min = Math.min(r, g, b);\n  const l = (max + min) / 2;\n  let h, s, d;\n  if (max !== min) {\n    d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n    h = hueValue(r, g, b, d, max);\n    h = h * 60 + 0.5;\n  }\n  return [h | 0, s || 0, l];\n}\nfunction calln(f, a, b, c) {\n  return (\n    Array.isArray(a)\n      ? f(a[0], a[1], a[2])\n      : f(a, b, c)\n  ).map(n2b);\n}\nfunction hsl2rgb(h, s, l) {\n  return calln(hsl2rgbn, h, s, l);\n}\nfunction hwb2rgb(h, w, b) {\n  return calln(hwb2rgbn, h, w, b);\n}\nfunction hsv2rgb(h, s, v) {\n  return calln(hsv2rgbn, h, s, v);\n}\nfunction hue(h) {\n  return (h % 360 + 360) % 360;\n}\nfunction hueParse(str) {\n  const m = HUE_RE.exec(str);\n  let a = 255;\n  let v;\n  if (!m) {\n    return;\n  }\n  if (m[5] !== v) {\n    a = m[6] ? p2b(+m[5]) : n2b(+m[5]);\n  }\n  const h = hue(+m[2]);\n  const p1 = +m[3] / 100;\n  const p2 = +m[4] / 100;\n  if (m[1] === 'hwb') {\n    v = hwb2rgb(h, p1, p2);\n  } else if (m[1] === 'hsv') {\n    v = hsv2rgb(h, p1, p2);\n  } else {\n    v = hsl2rgb(h, p1, p2);\n  }\n  return {\n    r: v[0],\n    g: v[1],\n    b: v[2],\n    a: a\n  };\n}\nfunction rotate(v, deg) {\n  var h = rgb2hsl(v);\n  h[0] = hue(h[0] + deg);\n  h = hsl2rgb(h);\n  v.r = h[0];\n  v.g = h[1];\n  v.b = h[2];\n}\nfunction hslString(v) {\n  if (!v) {\n    return;\n  }\n  const a = rgb2hsl(v);\n  const h = a[0];\n  const s = n2p(a[1]);\n  const l = n2p(a[2]);\n  return v.a < 255\n    ? `hsla(${h}, ${s}%, ${l}%, ${b2n(v.a)})`\n    : `hsl(${h}, ${s}%, ${l}%)`;\n}\n\nconst map = {\n  x: 'dark',\n  Z: 'light',\n  Y: 're',\n  X: 'blu',\n  W: 'gr',\n  V: 'medium',\n  U: 'slate',\n  A: 'ee',\n  T: 'ol',\n  S: 'or',\n  B: 'ra',\n  C: 'lateg',\n  D: 'ights',\n  R: 'in',\n  Q: 'turquois',\n  E: 'hi',\n  P: 'ro',\n  O: 'al',\n  N: 'le',\n  M: 'de',\n  L: 'yello',\n  F: 'en',\n  K: 'ch',\n  G: 'arks',\n  H: 'ea',\n  I: 'ightg',\n  J: 'wh'\n};\nconst names$1 = {\n  OiceXe: 'f0f8ff',\n  antiquewEte: 'faebd7',\n  aqua: 'ffff',\n  aquamarRe: '7fffd4',\n  azuY: 'f0ffff',\n  beige: 'f5f5dc',\n  bisque: 'ffe4c4',\n  black: '0',\n  blanKedOmond: 'ffebcd',\n  Xe: 'ff',\n  XeviTet: '8a2be2',\n  bPwn: 'a52a2a',\n  burlywood: 'deb887',\n  caMtXe: '5f9ea0',\n  KartYuse: '7fff00',\n  KocTate: 'd2691e',\n  cSO: 'ff7f50',\n  cSnflowerXe: '6495ed',\n  cSnsilk: 'fff8dc',\n  crimson: 'dc143c',\n  cyan: 'ffff',\n  xXe: '8b',\n  xcyan: '8b8b',\n  xgTMnPd: 'b8860b',\n  xWay: 'a9a9a9',\n  xgYF: '6400',\n  xgYy: 'a9a9a9',\n  xkhaki: 'bdb76b',\n  xmagFta: '8b008b',\n  xTivegYF: '556b2f',\n  xSange: 'ff8c00',\n  xScEd: '9932cc',\n  xYd: '8b0000',\n  xsOmon: 'e9967a',\n  xsHgYF: '8fbc8f',\n  xUXe: '483d8b',\n  xUWay: '2f4f4f',\n  xUgYy: '2f4f4f',\n  xQe: 'ced1',\n  xviTet: '9400d3',\n  dAppRk: 'ff1493',\n  dApskyXe: 'bfff',\n  dimWay: '696969',\n  dimgYy: '696969',\n  dodgerXe: '1e90ff',\n  fiYbrick: 'b22222',\n  flSOwEte: 'fffaf0',\n  foYstWAn: '228b22',\n  fuKsia: 'ff00ff',\n  gaRsbSo: 'dcdcdc',\n  ghostwEte: 'f8f8ff',\n  gTd: 'ffd700',\n  gTMnPd: 'daa520',\n  Way: '808080',\n  gYF: '8000',\n  gYFLw: 'adff2f',\n  gYy: '808080',\n  honeyMw: 'f0fff0',\n  hotpRk: 'ff69b4',\n  RdianYd: 'cd5c5c',\n  Rdigo: '4b0082',\n  ivSy: 'fffff0',\n  khaki: 'f0e68c',\n  lavFMr: 'e6e6fa',\n  lavFMrXsh: 'fff0f5',\n  lawngYF: '7cfc00',\n  NmoncEffon: 'fffacd',\n  ZXe: 'add8e6',\n  ZcSO: 'f08080',\n  Zcyan: 'e0ffff',\n  ZgTMnPdLw: 'fafad2',\n  ZWay: 'd3d3d3',\n  ZgYF: '90ee90',\n  ZgYy: 'd3d3d3',\n  ZpRk: 'ffb6c1',\n  ZsOmon: 'ffa07a',\n  ZsHgYF: '20b2aa',\n  ZskyXe: '87cefa',\n  ZUWay: '778899',\n  ZUgYy: '778899',\n  ZstAlXe: 'b0c4de',\n  ZLw: 'ffffe0',\n  lime: 'ff00',\n  limegYF: '32cd32',\n  lRF: 'faf0e6',\n  magFta: 'ff00ff',\n  maPon: '800000',\n  VaquamarRe: '66cdaa',\n  VXe: 'cd',\n  VScEd: 'ba55d3',\n  VpurpN: '9370db',\n  VsHgYF: '3cb371',\n  VUXe: '7b68ee',\n  VsprRggYF: 'fa9a',\n  VQe: '48d1cc',\n  VviTetYd: 'c71585',\n  midnightXe: '191970',\n  mRtcYam: 'f5fffa',\n  mistyPse: 'ffe4e1',\n  moccasR: 'ffe4b5',\n  navajowEte: 'ffdead',\n  navy: '80',\n  Tdlace: 'fdf5e6',\n  Tive: '808000',\n  TivedBb: '6b8e23',\n  Sange: 'ffa500',\n  SangeYd: 'ff4500',\n  ScEd: 'da70d6',\n  pOegTMnPd: 'eee8aa',\n  pOegYF: '98fb98',\n  pOeQe: 'afeeee',\n  pOeviTetYd: 'db7093',\n  papayawEp: 'ffefd5',\n  pHKpuff: 'ffdab9',\n  peru: 'cd853f',\n  pRk: 'ffc0cb',\n  plum: 'dda0dd',\n  powMrXe: 'b0e0e6',\n  purpN: '800080',\n  YbeccapurpN: '663399',\n  Yd: 'ff0000',\n  Psybrown: 'bc8f8f',\n  PyOXe: '4169e1',\n  saddNbPwn: '8b4513',\n  sOmon: 'fa8072',\n  sandybPwn: 'f4a460',\n  sHgYF: '2e8b57',\n  sHshell: 'fff5ee',\n  siFna: 'a0522d',\n  silver: 'c0c0c0',\n  skyXe: '87ceeb',\n  UXe: '6a5acd',\n  UWay: '708090',\n  UgYy: '708090',\n  snow: 'fffafa',\n  sprRggYF: 'ff7f',\n  stAlXe: '4682b4',\n  tan: 'd2b48c',\n  teO: '8080',\n  tEstN: 'd8bfd8',\n  tomato: 'ff6347',\n  Qe: '40e0d0',\n  viTet: 'ee82ee',\n  JHt: 'f5deb3',\n  wEte: 'ffffff',\n  wEtesmoke: 'f5f5f5',\n  Lw: 'ffff00',\n  LwgYF: '9acd32'\n};\nfunction unpack() {\n  const unpacked = {};\n  const keys = Object.keys(names$1);\n  const tkeys = Object.keys(map);\n  let i, j, k, ok, nk;\n  for (i = 0; i < keys.length; i++) {\n    ok = nk = keys[i];\n    for (j = 0; j < tkeys.length; j++) {\n      k = tkeys[j];\n      nk = nk.replace(k, map[k]);\n    }\n    k = parseInt(names$1[ok], 16);\n    unpacked[nk] = [k >> 16 & 0xFF, k >> 8 & 0xFF, k & 0xFF];\n  }\n  return unpacked;\n}\n\nlet names;\nfunction nameParse(str) {\n  if (!names) {\n    names = unpack();\n    names.transparent = [0, 0, 0, 0];\n  }\n  const a = names[str.toLowerCase()];\n  return a && {\n    r: a[0],\n    g: a[1],\n    b: a[2],\n    a: a.length === 4 ? a[3] : 255\n  };\n}\n\nconst RGB_RE = /^rgba?\\(\\s*([-+.\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?(?:[\\s,/]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction rgbParse(str) {\n  const m = RGB_RE.exec(str);\n  let a = 255;\n  let r, g, b;\n  if (!m) {\n    return;\n  }\n  if (m[7] !== r) {\n    const v = +m[7];\n    a = m[8] ? p2b(v) : lim(v * 255, 0, 255);\n  }\n  r = +m[1];\n  g = +m[3];\n  b = +m[5];\n  r = 255 & (m[2] ? p2b(r) : lim(r, 0, 255));\n  g = 255 & (m[4] ? p2b(g) : lim(g, 0, 255));\n  b = 255 & (m[6] ? p2b(b) : lim(b, 0, 255));\n  return {\n    r: r,\n    g: g,\n    b: b,\n    a: a\n  };\n}\nfunction rgbString(v) {\n  return v && (\n    v.a < 255\n      ? `rgba(${v.r}, ${v.g}, ${v.b}, ${b2n(v.a)})`\n      : `rgb(${v.r}, ${v.g}, ${v.b})`\n  );\n}\n\nconst to = v => v <= 0.0031308 ? v * 12.92 : Math.pow(v, 1.0 / 2.4) * 1.055 - 0.055;\nconst from = v => v <= 0.04045 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);\nfunction interpolate(rgb1, rgb2, t) {\n  const r = from(b2n(rgb1.r));\n  const g = from(b2n(rgb1.g));\n  const b = from(b2n(rgb1.b));\n  return {\n    r: n2b(to(r + t * (from(b2n(rgb2.r)) - r))),\n    g: n2b(to(g + t * (from(b2n(rgb2.g)) - g))),\n    b: n2b(to(b + t * (from(b2n(rgb2.b)) - b))),\n    a: rgb1.a + t * (rgb2.a - rgb1.a)\n  };\n}\n\nfunction modHSL(v, i, ratio) {\n  if (v) {\n    let tmp = rgb2hsl(v);\n    tmp[i] = Math.max(0, Math.min(tmp[i] + tmp[i] * ratio, i === 0 ? 360 : 1));\n    tmp = hsl2rgb(tmp);\n    v.r = tmp[0];\n    v.g = tmp[1];\n    v.b = tmp[2];\n  }\n}\nfunction clone(v, proto) {\n  return v ? Object.assign(proto || {}, v) : v;\n}\nfunction fromObject(input) {\n  var v = {r: 0, g: 0, b: 0, a: 255};\n  if (Array.isArray(input)) {\n    if (input.length >= 3) {\n      v = {r: input[0], g: input[1], b: input[2], a: 255};\n      if (input.length > 3) {\n        v.a = n2b(input[3]);\n      }\n    }\n  } else {\n    v = clone(input, {r: 0, g: 0, b: 0, a: 1});\n    v.a = n2b(v.a);\n  }\n  return v;\n}\nfunction functionParse(str) {\n  if (str.charAt(0) === 'r') {\n    return rgbParse(str);\n  }\n  return hueParse(str);\n}\nclass Color {\n  constructor(input) {\n    if (input instanceof Color) {\n      return input;\n    }\n    const type = typeof input;\n    let v;\n    if (type === 'object') {\n      v = fromObject(input);\n    } else if (type === 'string') {\n      v = hexParse(input) || nameParse(input) || functionParse(input);\n    }\n    this._rgb = v;\n    this._valid = !!v;\n  }\n  get valid() {\n    return this._valid;\n  }\n  get rgb() {\n    var v = clone(this._rgb);\n    if (v) {\n      v.a = b2n(v.a);\n    }\n    return v;\n  }\n  set rgb(obj) {\n    this._rgb = fromObject(obj);\n  }\n  rgbString() {\n    return this._valid ? rgbString(this._rgb) : undefined;\n  }\n  hexString() {\n    return this._valid ? hexString(this._rgb) : undefined;\n  }\n  hslString() {\n    return this._valid ? hslString(this._rgb) : undefined;\n  }\n  mix(color, weight) {\n    if (color) {\n      const c1 = this.rgb;\n      const c2 = color.rgb;\n      let w2;\n      const p = weight === w2 ? 0.5 : weight;\n      const w = 2 * p - 1;\n      const a = c1.a - c2.a;\n      const w1 = ((w * a === -1 ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n      w2 = 1 - w1;\n      c1.r = 0xFF & w1 * c1.r + w2 * c2.r + 0.5;\n      c1.g = 0xFF & w1 * c1.g + w2 * c2.g + 0.5;\n      c1.b = 0xFF & w1 * c1.b + w2 * c2.b + 0.5;\n      c1.a = p * c1.a + (1 - p) * c2.a;\n      this.rgb = c1;\n    }\n    return this;\n  }\n  interpolate(color, t) {\n    if (color) {\n      this._rgb = interpolate(this._rgb, color._rgb, t);\n    }\n    return this;\n  }\n  clone() {\n    return new Color(this.rgb);\n  }\n  alpha(a) {\n    this._rgb.a = n2b(a);\n    return this;\n  }\n  clearer(ratio) {\n    const rgb = this._rgb;\n    rgb.a *= 1 - ratio;\n    return this;\n  }\n  greyscale() {\n    const rgb = this._rgb;\n    const val = round(rgb.r * 0.3 + rgb.g * 0.59 + rgb.b * 0.11);\n    rgb.r = rgb.g = rgb.b = val;\n    return this;\n  }\n  opaquer(ratio) {\n    const rgb = this._rgb;\n    rgb.a *= 1 + ratio;\n    return this;\n  }\n  negate() {\n    const v = this._rgb;\n    v.r = 255 - v.r;\n    v.g = 255 - v.g;\n    v.b = 255 - v.b;\n    return this;\n  }\n  lighten(ratio) {\n    modHSL(this._rgb, 2, ratio);\n    return this;\n  }\n  darken(ratio) {\n    modHSL(this._rgb, 2, -ratio);\n    return this;\n  }\n  saturate(ratio) {\n    modHSL(this._rgb, 1, ratio);\n    return this;\n  }\n  desaturate(ratio) {\n    modHSL(this._rgb, 1, -ratio);\n    return this;\n  }\n  rotate(deg) {\n    rotate(this._rgb, deg);\n    return this;\n  }\n}\n\nfunction index_esm(input) {\n  return new Color(input);\n}\n\nexport { Color, b2n, b2p, index_esm as default, hexParse, hexString, hsl2rgb, hslString, hsv2rgb, hueParse, hwb2rgb, lim, n2b, n2p, nameParse, p2b, rgb2hsl, rgbParse, rgbString, rotate, round };\n","/*!\n * Chart.js v4.4.2\n * https://www.chartjs.org\n * (c) 2024 Chart.js Contributors\n * Released under the MIT License\n */\nimport { Color } from '@kurkle/color';\n\n/**\n * @namespace Chart.helpers\n */ /**\n * An empty function that can be used, for example, for optional callback.\n */ function noop() {\n/* noop */ }\n/**\n * Returns a unique id, sequentially generated from a global variable.\n */ const uid = (()=>{\n    let id = 0;\n    return ()=>id++;\n})();\n/**\n * Returns true if `value` is neither null nor undefined, else returns false.\n * @param value - The value to test.\n * @since 2.7.0\n */ function isNullOrUndef(value) {\n    return value === null || typeof value === 'undefined';\n}\n/**\n * Returns true if `value` is an array (including typed arrays), else returns false.\n * @param value - The value to test.\n * @function\n */ function isArray(value) {\n    if (Array.isArray && Array.isArray(value)) {\n        return true;\n    }\n    const type = Object.prototype.toString.call(value);\n    if (type.slice(0, 7) === '[object' && type.slice(-6) === 'Array]') {\n        return true;\n    }\n    return false;\n}\n/**\n * Returns true if `value` is an object (excluding null), else returns false.\n * @param value - The value to test.\n * @since 2.7.0\n */ function isObject(value) {\n    return value !== null && Object.prototype.toString.call(value) === '[object Object]';\n}\n/**\n * Returns true if `value` is a finite number, else returns false\n * @param value  - The value to test.\n */ function isNumberFinite(value) {\n    return (typeof value === 'number' || value instanceof Number) && isFinite(+value);\n}\n/**\n * Returns `value` if finite, else returns `defaultValue`.\n * @param value - The value to return if defined.\n * @param defaultValue - The value to return if `value` is not finite.\n */ function finiteOrDefault(value, defaultValue) {\n    return isNumberFinite(value) ? value : defaultValue;\n}\n/**\n * Returns `value` if defined, else returns `defaultValue`.\n * @param value - The value to return if defined.\n * @param defaultValue - The value to return if `value` is undefined.\n */ function valueOrDefault(value, defaultValue) {\n    return typeof value === 'undefined' ? defaultValue : value;\n}\nconst toPercentage = (value, dimension)=>typeof value === 'string' && value.endsWith('%') ? parseFloat(value) / 100 : +value / dimension;\nconst toDimension = (value, dimension)=>typeof value === 'string' && value.endsWith('%') ? parseFloat(value) / 100 * dimension : +value;\n/**\n * Calls `fn` with the given `args` in the scope defined by `thisArg` and returns the\n * value returned by `fn`. If `fn` is not a function, this method returns undefined.\n * @param fn - The function to call.\n * @param args - The arguments with which `fn` should be called.\n * @param [thisArg] - The value of `this` provided for the call to `fn`.\n */ function callback(fn, args, thisArg) {\n    if (fn && typeof fn.call === 'function') {\n        return fn.apply(thisArg, args);\n    }\n}\nfunction each(loopable, fn, thisArg, reverse) {\n    let i, len, keys;\n    if (isArray(loopable)) {\n        len = loopable.length;\n        if (reverse) {\n            for(i = len - 1; i >= 0; i--){\n                fn.call(thisArg, loopable[i], i);\n            }\n        } else {\n            for(i = 0; i < len; i++){\n                fn.call(thisArg, loopable[i], i);\n            }\n        }\n    } else if (isObject(loopable)) {\n        keys = Object.keys(loopable);\n        len = keys.length;\n        for(i = 0; i < len; i++){\n            fn.call(thisArg, loopable[keys[i]], keys[i]);\n        }\n    }\n}\n/**\n * Returns true if the `a0` and `a1` arrays have the same content, else returns false.\n * @param a0 - The array to compare\n * @param a1 - The array to compare\n * @private\n */ function _elementsEqual(a0, a1) {\n    let i, ilen, v0, v1;\n    if (!a0 || !a1 || a0.length !== a1.length) {\n        return false;\n    }\n    for(i = 0, ilen = a0.length; i < ilen; ++i){\n        v0 = a0[i];\n        v1 = a1[i];\n        if (v0.datasetIndex !== v1.datasetIndex || v0.index !== v1.index) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * Returns a deep copy of `source` without keeping references on objects and arrays.\n * @param source - The value to clone.\n */ function clone(source) {\n    if (isArray(source)) {\n        return source.map(clone);\n    }\n    if (isObject(source)) {\n        const target = Object.create(null);\n        const keys = Object.keys(source);\n        const klen = keys.length;\n        let k = 0;\n        for(; k < klen; ++k){\n            target[keys[k]] = clone(source[keys[k]]);\n        }\n        return target;\n    }\n    return source;\n}\nfunction isValidKey(key) {\n    return [\n        '__proto__',\n        'prototype',\n        'constructor'\n    ].indexOf(key) === -1;\n}\n/**\n * The default merger when Chart.helpers.merge is called without merger option.\n * Note(SB): also used by mergeConfig and mergeScaleConfig as fallback.\n * @private\n */ function _merger(key, target, source, options) {\n    if (!isValidKey(key)) {\n        return;\n    }\n    const tval = target[key];\n    const sval = source[key];\n    if (isObject(tval) && isObject(sval)) {\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        merge(tval, sval, options);\n    } else {\n        target[key] = clone(sval);\n    }\n}\nfunction merge(target, source, options) {\n    const sources = isArray(source) ? source : [\n        source\n    ];\n    const ilen = sources.length;\n    if (!isObject(target)) {\n        return target;\n    }\n    options = options || {};\n    const merger = options.merger || _merger;\n    let current;\n    for(let i = 0; i < ilen; ++i){\n        current = sources[i];\n        if (!isObject(current)) {\n            continue;\n        }\n        const keys = Object.keys(current);\n        for(let k = 0, klen = keys.length; k < klen; ++k){\n            merger(keys[k], target, current, options);\n        }\n    }\n    return target;\n}\nfunction mergeIf(target, source) {\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    return merge(target, source, {\n        merger: _mergerIf\n    });\n}\n/**\n * Merges source[key] in target[key] only if target[key] is undefined.\n * @private\n */ function _mergerIf(key, target, source) {\n    if (!isValidKey(key)) {\n        return;\n    }\n    const tval = target[key];\n    const sval = source[key];\n    if (isObject(tval) && isObject(sval)) {\n        mergeIf(tval, sval);\n    } else if (!Object.prototype.hasOwnProperty.call(target, key)) {\n        target[key] = clone(sval);\n    }\n}\n/**\n * @private\n */ function _deprecated(scope, value, previous, current) {\n    if (value !== undefined) {\n        console.warn(scope + ': \"' + previous + '\" is deprecated. Please use \"' + current + '\" instead');\n    }\n}\n// resolveObjectKey resolver cache\nconst keyResolvers = {\n    // Chart.helpers.core resolveObjectKey should resolve empty key to root object\n    '': (v)=>v,\n    // default resolvers\n    x: (o)=>o.x,\n    y: (o)=>o.y\n};\n/**\n * @private\n */ function _splitKey(key) {\n    const parts = key.split('.');\n    const keys = [];\n    let tmp = '';\n    for (const part of parts){\n        tmp += part;\n        if (tmp.endsWith('\\\\')) {\n            tmp = tmp.slice(0, -1) + '.';\n        } else {\n            keys.push(tmp);\n            tmp = '';\n        }\n    }\n    return keys;\n}\nfunction _getKeyResolver(key) {\n    const keys = _splitKey(key);\n    return (obj)=>{\n        for (const k of keys){\n            if (k === '') {\n                break;\n            }\n            obj = obj && obj[k];\n        }\n        return obj;\n    };\n}\nfunction resolveObjectKey(obj, key) {\n    const resolver = keyResolvers[key] || (keyResolvers[key] = _getKeyResolver(key));\n    return resolver(obj);\n}\n/**\n * @private\n */ function _capitalize(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n}\nconst defined = (value)=>typeof value !== 'undefined';\nconst isFunction = (value)=>typeof value === 'function';\n// Adapted from https://stackoverflow.com/questions/31128855/comparing-ecma6-sets-for-equality#31129384\nconst setsEqual = (a, b)=>{\n    if (a.size !== b.size) {\n        return false;\n    }\n    for (const item of a){\n        if (!b.has(item)) {\n            return false;\n        }\n    }\n    return true;\n};\n/**\n * @param e - The event\n * @private\n */ function _isClickEvent(e) {\n    return e.type === 'mouseup' || e.type === 'click' || e.type === 'contextmenu';\n}\n\n/**\n * @alias Chart.helpers.math\n * @namespace\n */ const PI = Math.PI;\nconst TAU = 2 * PI;\nconst PITAU = TAU + PI;\nconst INFINITY = Number.POSITIVE_INFINITY;\nconst RAD_PER_DEG = PI / 180;\nconst HALF_PI = PI / 2;\nconst QUARTER_PI = PI / 4;\nconst TWO_THIRDS_PI = PI * 2 / 3;\nconst log10 = Math.log10;\nconst sign = Math.sign;\nfunction almostEquals(x, y, epsilon) {\n    return Math.abs(x - y) < epsilon;\n}\n/**\n * Implementation of the nice number algorithm used in determining where axis labels will go\n */ function niceNum(range) {\n    const roundedRange = Math.round(range);\n    range = almostEquals(range, roundedRange, range / 1000) ? roundedRange : range;\n    const niceRange = Math.pow(10, Math.floor(log10(range)));\n    const fraction = range / niceRange;\n    const niceFraction = fraction <= 1 ? 1 : fraction <= 2 ? 2 : fraction <= 5 ? 5 : 10;\n    return niceFraction * niceRange;\n}\n/**\n * Returns an array of factors sorted from 1 to sqrt(value)\n * @private\n */ function _factorize(value) {\n    const result = [];\n    const sqrt = Math.sqrt(value);\n    let i;\n    for(i = 1; i < sqrt; i++){\n        if (value % i === 0) {\n            result.push(i);\n            result.push(value / i);\n        }\n    }\n    if (sqrt === (sqrt | 0)) {\n        result.push(sqrt);\n    }\n    result.sort((a, b)=>a - b).pop();\n    return result;\n}\nfunction isNumber(n) {\n    return !isNaN(parseFloat(n)) && isFinite(n);\n}\nfunction almostWhole(x, epsilon) {\n    const rounded = Math.round(x);\n    return rounded - epsilon <= x && rounded + epsilon >= x;\n}\n/**\n * @private\n */ function _setMinAndMaxByKey(array, target, property) {\n    let i, ilen, value;\n    for(i = 0, ilen = array.length; i < ilen; i++){\n        value = array[i][property];\n        if (!isNaN(value)) {\n            target.min = Math.min(target.min, value);\n            target.max = Math.max(target.max, value);\n        }\n    }\n}\nfunction toRadians(degrees) {\n    return degrees * (PI / 180);\n}\nfunction toDegrees(radians) {\n    return radians * (180 / PI);\n}\n/**\n * Returns the number of decimal places\n * i.e. the number of digits after the decimal point, of the value of this Number.\n * @param x - A number.\n * @returns The number of decimal places.\n * @private\n */ function _decimalPlaces(x) {\n    if (!isNumberFinite(x)) {\n        return;\n    }\n    let e = 1;\n    let p = 0;\n    while(Math.round(x * e) / e !== x){\n        e *= 10;\n        p++;\n    }\n    return p;\n}\n// Gets the angle from vertical upright to the point about a centre.\nfunction getAngleFromPoint(centrePoint, anglePoint) {\n    const distanceFromXCenter = anglePoint.x - centrePoint.x;\n    const distanceFromYCenter = anglePoint.y - centrePoint.y;\n    const radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\n    let angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\n    if (angle < -0.5 * PI) {\n        angle += TAU; // make sure the returned angle is in the range of (-PI/2, 3PI/2]\n    }\n    return {\n        angle,\n        distance: radialDistanceFromCenter\n    };\n}\nfunction distanceBetweenPoints(pt1, pt2) {\n    return Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\n}\n/**\n * Shortest distance between angles, in either direction.\n * @private\n */ function _angleDiff(a, b) {\n    return (a - b + PITAU) % TAU - PI;\n}\n/**\n * Normalize angle to be between 0 and 2*PI\n * @private\n */ function _normalizeAngle(a) {\n    return (a % TAU + TAU) % TAU;\n}\n/**\n * @private\n */ function _angleBetween(angle, start, end, sameAngleIsFullCircle) {\n    const a = _normalizeAngle(angle);\n    const s = _normalizeAngle(start);\n    const e = _normalizeAngle(end);\n    const angleToStart = _normalizeAngle(s - a);\n    const angleToEnd = _normalizeAngle(e - a);\n    const startToAngle = _normalizeAngle(a - s);\n    const endToAngle = _normalizeAngle(a - e);\n    return a === s || a === e || sameAngleIsFullCircle && s === e || angleToStart > angleToEnd && startToAngle < endToAngle;\n}\n/**\n * Limit `value` between `min` and `max`\n * @param value\n * @param min\n * @param max\n * @private\n */ function _limitValue(value, min, max) {\n    return Math.max(min, Math.min(max, value));\n}\n/**\n * @param {number} value\n * @private\n */ function _int16Range(value) {\n    return _limitValue(value, -32768, 32767);\n}\n/**\n * @param value\n * @param start\n * @param end\n * @param [epsilon]\n * @private\n */ function _isBetween(value, start, end, epsilon = 1e-6) {\n    return value >= Math.min(start, end) - epsilon && value <= Math.max(start, end) + epsilon;\n}\n\nfunction _lookup(table, value, cmp) {\n    cmp = cmp || ((index)=>table[index] < value);\n    let hi = table.length - 1;\n    let lo = 0;\n    let mid;\n    while(hi - lo > 1){\n        mid = lo + hi >> 1;\n        if (cmp(mid)) {\n            lo = mid;\n        } else {\n            hi = mid;\n        }\n    }\n    return {\n        lo,\n        hi\n    };\n}\n/**\n * Binary search\n * @param table - the table search. must be sorted!\n * @param key - property name for the value in each entry\n * @param value - value to find\n * @param last - lookup last index\n * @private\n */ const _lookupByKey = (table, key, value, last)=>_lookup(table, value, last ? (index)=>{\n        const ti = table[index][key];\n        return ti < value || ti === value && table[index + 1][key] === value;\n    } : (index)=>table[index][key] < value);\n/**\n * Reverse binary search\n * @param table - the table search. must be sorted!\n * @param key - property name for the value in each entry\n * @param value - value to find\n * @private\n */ const _rlookupByKey = (table, key, value)=>_lookup(table, value, (index)=>table[index][key] >= value);\n/**\n * Return subset of `values` between `min` and `max` inclusive.\n * Values are assumed to be in sorted order.\n * @param values - sorted array of values\n * @param min - min value\n * @param max - max value\n */ function _filterBetween(values, min, max) {\n    let start = 0;\n    let end = values.length;\n    while(start < end && values[start] < min){\n        start++;\n    }\n    while(end > start && values[end - 1] > max){\n        end--;\n    }\n    return start > 0 || end < values.length ? values.slice(start, end) : values;\n}\nconst arrayEvents = [\n    'push',\n    'pop',\n    'shift',\n    'splice',\n    'unshift'\n];\nfunction listenArrayEvents(array, listener) {\n    if (array._chartjs) {\n        array._chartjs.listeners.push(listener);\n        return;\n    }\n    Object.defineProperty(array, '_chartjs', {\n        configurable: true,\n        enumerable: false,\n        value: {\n            listeners: [\n                listener\n            ]\n        }\n    });\n    arrayEvents.forEach((key)=>{\n        const method = '_onData' + _capitalize(key);\n        const base = array[key];\n        Object.defineProperty(array, key, {\n            configurable: true,\n            enumerable: false,\n            value (...args) {\n                const res = base.apply(this, args);\n                array._chartjs.listeners.forEach((object)=>{\n                    if (typeof object[method] === 'function') {\n                        object[method](...args);\n                    }\n                });\n                return res;\n            }\n        });\n    });\n}\nfunction unlistenArrayEvents(array, listener) {\n    const stub = array._chartjs;\n    if (!stub) {\n        return;\n    }\n    const listeners = stub.listeners;\n    const index = listeners.indexOf(listener);\n    if (index !== -1) {\n        listeners.splice(index, 1);\n    }\n    if (listeners.length > 0) {\n        return;\n    }\n    arrayEvents.forEach((key)=>{\n        delete array[key];\n    });\n    delete array._chartjs;\n}\n/**\n * @param items\n */ function _arrayUnique(items) {\n    const set = new Set(items);\n    if (set.size === items.length) {\n        return items;\n    }\n    return Array.from(set);\n}\n\nfunction fontString(pixelSize, fontStyle, fontFamily) {\n    return fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\n}\n/**\n* Request animation polyfill\n*/ const requestAnimFrame = function() {\n    if (typeof window === 'undefined') {\n        return function(callback) {\n            return callback();\n        };\n    }\n    return window.requestAnimationFrame;\n}();\n/**\n * Throttles calling `fn` once per animation frame\n * Latest arguments are used on the actual call\n */ function throttled(fn, thisArg) {\n    let argsToUse = [];\n    let ticking = false;\n    return function(...args) {\n        // Save the args for use later\n        argsToUse = args;\n        if (!ticking) {\n            ticking = true;\n            requestAnimFrame.call(window, ()=>{\n                ticking = false;\n                fn.apply(thisArg, argsToUse);\n            });\n        }\n    };\n}\n/**\n * Debounces calling `fn` for `delay` ms\n */ function debounce(fn, delay) {\n    let timeout;\n    return function(...args) {\n        if (delay) {\n            clearTimeout(timeout);\n            timeout = setTimeout(fn, delay, args);\n        } else {\n            fn.apply(this, args);\n        }\n        return delay;\n    };\n}\n/**\n * Converts 'start' to 'left', 'end' to 'right' and others to 'center'\n * @private\n */ const _toLeftRightCenter = (align)=>align === 'start' ? 'left' : align === 'end' ? 'right' : 'center';\n/**\n * Returns `start`, `end` or `(start + end) / 2` depending on `align`. Defaults to `center`\n * @private\n */ const _alignStartEnd = (align, start, end)=>align === 'start' ? start : align === 'end' ? end : (start + end) / 2;\n/**\n * Returns `left`, `right` or `(left + right) / 2` depending on `align`. Defaults to `left`\n * @private\n */ const _textX = (align, left, right, rtl)=>{\n    const check = rtl ? 'left' : 'right';\n    return align === check ? right : align === 'center' ? (left + right) / 2 : left;\n};\n/**\n * Return start and count of visible points.\n * @private\n */ function _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled) {\n    const pointCount = points.length;\n    let start = 0;\n    let count = pointCount;\n    if (meta._sorted) {\n        const { iScale , _parsed  } = meta;\n        const axis = iScale.axis;\n        const { min , max , minDefined , maxDefined  } = iScale.getUserBounds();\n        if (minDefined) {\n            start = _limitValue(Math.min(// @ts-expect-error Need to type _parsed\n            _lookupByKey(_parsed, axis, min).lo, // @ts-expect-error Need to fix types on _lookupByKey\n            animationsDisabled ? pointCount : _lookupByKey(points, axis, iScale.getPixelForValue(min)).lo), 0, pointCount - 1);\n        }\n        if (maxDefined) {\n            count = _limitValue(Math.max(// @ts-expect-error Need to type _parsed\n            _lookupByKey(_parsed, iScale.axis, max, true).hi + 1, // @ts-expect-error Need to fix types on _lookupByKey\n            animationsDisabled ? 0 : _lookupByKey(points, axis, iScale.getPixelForValue(max), true).hi + 1), start, pointCount) - start;\n        } else {\n            count = pointCount - start;\n        }\n    }\n    return {\n        start,\n        count\n    };\n}\n/**\n * Checks if the scale ranges have changed.\n * @param {object} meta - dataset meta.\n * @returns {boolean}\n * @private\n */ function _scaleRangesChanged(meta) {\n    const { xScale , yScale , _scaleRanges  } = meta;\n    const newRanges = {\n        xmin: xScale.min,\n        xmax: xScale.max,\n        ymin: yScale.min,\n        ymax: yScale.max\n    };\n    if (!_scaleRanges) {\n        meta._scaleRanges = newRanges;\n        return true;\n    }\n    const changed = _scaleRanges.xmin !== xScale.min || _scaleRanges.xmax !== xScale.max || _scaleRanges.ymin !== yScale.min || _scaleRanges.ymax !== yScale.max;\n    Object.assign(_scaleRanges, newRanges);\n    return changed;\n}\n\nconst atEdge = (t)=>t === 0 || t === 1;\nconst elasticIn = (t, s, p)=>-(Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * TAU / p));\nconst elasticOut = (t, s, p)=>Math.pow(2, -10 * t) * Math.sin((t - s) * TAU / p) + 1;\n/**\n * Easing functions adapted from Robert Penner's easing equations.\n * @namespace Chart.helpers.easing.effects\n * @see http://www.robertpenner.com/easing/\n */ const effects = {\n    linear: (t)=>t,\n    easeInQuad: (t)=>t * t,\n    easeOutQuad: (t)=>-t * (t - 2),\n    easeInOutQuad: (t)=>(t /= 0.5) < 1 ? 0.5 * t * t : -0.5 * (--t * (t - 2) - 1),\n    easeInCubic: (t)=>t * t * t,\n    easeOutCubic: (t)=>(t -= 1) * t * t + 1,\n    easeInOutCubic: (t)=>(t /= 0.5) < 1 ? 0.5 * t * t * t : 0.5 * ((t -= 2) * t * t + 2),\n    easeInQuart: (t)=>t * t * t * t,\n    easeOutQuart: (t)=>-((t -= 1) * t * t * t - 1),\n    easeInOutQuart: (t)=>(t /= 0.5) < 1 ? 0.5 * t * t * t * t : -0.5 * ((t -= 2) * t * t * t - 2),\n    easeInQuint: (t)=>t * t * t * t * t,\n    easeOutQuint: (t)=>(t -= 1) * t * t * t * t + 1,\n    easeInOutQuint: (t)=>(t /= 0.5) < 1 ? 0.5 * t * t * t * t * t : 0.5 * ((t -= 2) * t * t * t * t + 2),\n    easeInSine: (t)=>-Math.cos(t * HALF_PI) + 1,\n    easeOutSine: (t)=>Math.sin(t * HALF_PI),\n    easeInOutSine: (t)=>-0.5 * (Math.cos(PI * t) - 1),\n    easeInExpo: (t)=>t === 0 ? 0 : Math.pow(2, 10 * (t - 1)),\n    easeOutExpo: (t)=>t === 1 ? 1 : -Math.pow(2, -10 * t) + 1,\n    easeInOutExpo: (t)=>atEdge(t) ? t : t < 0.5 ? 0.5 * Math.pow(2, 10 * (t * 2 - 1)) : 0.5 * (-Math.pow(2, -10 * (t * 2 - 1)) + 2),\n    easeInCirc: (t)=>t >= 1 ? t : -(Math.sqrt(1 - t * t) - 1),\n    easeOutCirc: (t)=>Math.sqrt(1 - (t -= 1) * t),\n    easeInOutCirc: (t)=>(t /= 0.5) < 1 ? -0.5 * (Math.sqrt(1 - t * t) - 1) : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1),\n    easeInElastic: (t)=>atEdge(t) ? t : elasticIn(t, 0.075, 0.3),\n    easeOutElastic: (t)=>atEdge(t) ? t : elasticOut(t, 0.075, 0.3),\n    easeInOutElastic (t) {\n        const s = 0.1125;\n        const p = 0.45;\n        return atEdge(t) ? t : t < 0.5 ? 0.5 * elasticIn(t * 2, s, p) : 0.5 + 0.5 * elasticOut(t * 2 - 1, s, p);\n    },\n    easeInBack (t) {\n        const s = 1.70158;\n        return t * t * ((s + 1) * t - s);\n    },\n    easeOutBack (t) {\n        const s = 1.70158;\n        return (t -= 1) * t * ((s + 1) * t + s) + 1;\n    },\n    easeInOutBack (t) {\n        let s = 1.70158;\n        if ((t /= 0.5) < 1) {\n            return 0.5 * (t * t * (((s *= 1.525) + 1) * t - s));\n        }\n        return 0.5 * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2);\n    },\n    easeInBounce: (t)=>1 - effects.easeOutBounce(1 - t),\n    easeOutBounce (t) {\n        const m = 7.5625;\n        const d = 2.75;\n        if (t < 1 / d) {\n            return m * t * t;\n        }\n        if (t < 2 / d) {\n            return m * (t -= 1.5 / d) * t + 0.75;\n        }\n        if (t < 2.5 / d) {\n            return m * (t -= 2.25 / d) * t + 0.9375;\n        }\n        return m * (t -= 2.625 / d) * t + 0.984375;\n    },\n    easeInOutBounce: (t)=>t < 0.5 ? effects.easeInBounce(t * 2) * 0.5 : effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5\n};\n\nfunction isPatternOrGradient(value) {\n    if (value && typeof value === 'object') {\n        const type = value.toString();\n        return type === '[object CanvasPattern]' || type === '[object CanvasGradient]';\n    }\n    return false;\n}\nfunction color(value) {\n    return isPatternOrGradient(value) ? value : new Color(value);\n}\nfunction getHoverColor(value) {\n    return isPatternOrGradient(value) ? value : new Color(value).saturate(0.5).darken(0.1).hexString();\n}\n\nconst numbers = [\n    'x',\n    'y',\n    'borderWidth',\n    'radius',\n    'tension'\n];\nconst colors = [\n    'color',\n    'borderColor',\n    'backgroundColor'\n];\nfunction applyAnimationsDefaults(defaults) {\n    defaults.set('animation', {\n        delay: undefined,\n        duration: 1000,\n        easing: 'easeOutQuart',\n        fn: undefined,\n        from: undefined,\n        loop: undefined,\n        to: undefined,\n        type: undefined\n    });\n    defaults.describe('animation', {\n        _fallback: false,\n        _indexable: false,\n        _scriptable: (name)=>name !== 'onProgress' && name !== 'onComplete' && name !== 'fn'\n    });\n    defaults.set('animations', {\n        colors: {\n            type: 'color',\n            properties: colors\n        },\n        numbers: {\n            type: 'number',\n            properties: numbers\n        }\n    });\n    defaults.describe('animations', {\n        _fallback: 'animation'\n    });\n    defaults.set('transitions', {\n        active: {\n            animation: {\n                duration: 400\n            }\n        },\n        resize: {\n            animation: {\n                duration: 0\n            }\n        },\n        show: {\n            animations: {\n                colors: {\n                    from: 'transparent'\n                },\n                visible: {\n                    type: 'boolean',\n                    duration: 0\n                }\n            }\n        },\n        hide: {\n            animations: {\n                colors: {\n                    to: 'transparent'\n                },\n                visible: {\n                    type: 'boolean',\n                    easing: 'linear',\n                    fn: (v)=>v | 0\n                }\n            }\n        }\n    });\n}\n\nfunction applyLayoutsDefaults(defaults) {\n    defaults.set('layout', {\n        autoPadding: true,\n        padding: {\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0\n        }\n    });\n}\n\nconst intlCache = new Map();\nfunction getNumberFormat(locale, options) {\n    options = options || {};\n    const cacheKey = locale + JSON.stringify(options);\n    let formatter = intlCache.get(cacheKey);\n    if (!formatter) {\n        formatter = new Intl.NumberFormat(locale, options);\n        intlCache.set(cacheKey, formatter);\n    }\n    return formatter;\n}\nfunction formatNumber(num, locale, options) {\n    return getNumberFormat(locale, options).format(num);\n}\n\nconst formatters = {\n values (value) {\n        return isArray(value) ?  value : '' + value;\n    },\n numeric (tickValue, index, ticks) {\n        if (tickValue === 0) {\n            return '0';\n        }\n        const locale = this.chart.options.locale;\n        let notation;\n        let delta = tickValue;\n        if (ticks.length > 1) {\n            const maxTick = Math.max(Math.abs(ticks[0].value), Math.abs(ticks[ticks.length - 1].value));\n            if (maxTick < 1e-4 || maxTick > 1e+15) {\n                notation = 'scientific';\n            }\n            delta = calculateDelta(tickValue, ticks);\n        }\n        const logDelta = log10(Math.abs(delta));\n        const numDecimal = isNaN(logDelta) ? 1 : Math.max(Math.min(-1 * Math.floor(logDelta), 20), 0);\n        const options = {\n            notation,\n            minimumFractionDigits: numDecimal,\n            maximumFractionDigits: numDecimal\n        };\n        Object.assign(options, this.options.ticks.format);\n        return formatNumber(tickValue, locale, options);\n    },\n logarithmic (tickValue, index, ticks) {\n        if (tickValue === 0) {\n            return '0';\n        }\n        const remain = ticks[index].significand || tickValue / Math.pow(10, Math.floor(log10(tickValue)));\n        if ([\n            1,\n            2,\n            3,\n            5,\n            10,\n            15\n        ].includes(remain) || index > 0.8 * ticks.length) {\n            return formatters.numeric.call(this, tickValue, index, ticks);\n        }\n        return '';\n    }\n};\nfunction calculateDelta(tickValue, ticks) {\n    let delta = ticks.length > 3 ? ticks[2].value - ticks[1].value : ticks[1].value - ticks[0].value;\n    if (Math.abs(delta) >= 1 && tickValue !== Math.floor(tickValue)) {\n        delta = tickValue - Math.floor(tickValue);\n    }\n    return delta;\n}\n var Ticks = {\n    formatters\n};\n\nfunction applyScaleDefaults(defaults) {\n    defaults.set('scale', {\n        display: true,\n        offset: false,\n        reverse: false,\n        beginAtZero: false,\n bounds: 'ticks',\n        clip: true,\n grace: 0,\n        grid: {\n            display: true,\n            lineWidth: 1,\n            drawOnChartArea: true,\n            drawTicks: true,\n            tickLength: 8,\n            tickWidth: (_ctx, options)=>options.lineWidth,\n            tickColor: (_ctx, options)=>options.color,\n            offset: false\n        },\n        border: {\n            display: true,\n            dash: [],\n            dashOffset: 0.0,\n            width: 1\n        },\n        title: {\n            display: false,\n            text: '',\n            padding: {\n                top: 4,\n                bottom: 4\n            }\n        },\n        ticks: {\n            minRotation: 0,\n            maxRotation: 50,\n            mirror: false,\n            textStrokeWidth: 0,\n            textStrokeColor: '',\n            padding: 3,\n            display: true,\n            autoSkip: true,\n            autoSkipPadding: 3,\n            labelOffset: 0,\n            callback: Ticks.formatters.values,\n            minor: {},\n            major: {},\n            align: 'center',\n            crossAlign: 'near',\n            showLabelBackdrop: false,\n            backdropColor: 'rgba(255, 255, 255, 0.75)',\n            backdropPadding: 2\n        }\n    });\n    defaults.route('scale.ticks', 'color', '', 'color');\n    defaults.route('scale.grid', 'color', '', 'borderColor');\n    defaults.route('scale.border', 'color', '', 'borderColor');\n    defaults.route('scale.title', 'color', '', 'color');\n    defaults.describe('scale', {\n        _fallback: false,\n        _scriptable: (name)=>!name.startsWith('before') && !name.startsWith('after') && name !== 'callback' && name !== 'parser',\n        _indexable: (name)=>name !== 'borderDash' && name !== 'tickBorderDash' && name !== 'dash'\n    });\n    defaults.describe('scales', {\n        _fallback: 'scale'\n    });\n    defaults.describe('scale.ticks', {\n        _scriptable: (name)=>name !== 'backdropPadding' && name !== 'callback',\n        _indexable: (name)=>name !== 'backdropPadding'\n    });\n}\n\nconst overrides = Object.create(null);\nconst descriptors = Object.create(null);\n function getScope$1(node, key) {\n    if (!key) {\n        return node;\n    }\n    const keys = key.split('.');\n    for(let i = 0, n = keys.length; i < n; ++i){\n        const k = keys[i];\n        node = node[k] || (node[k] = Object.create(null));\n    }\n    return node;\n}\nfunction set(root, scope, values) {\n    if (typeof scope === 'string') {\n        return merge(getScope$1(root, scope), values);\n    }\n    return merge(getScope$1(root, ''), scope);\n}\n class Defaults {\n    constructor(_descriptors, _appliers){\n        this.animation = undefined;\n        this.backgroundColor = 'rgba(0,0,0,0.1)';\n        this.borderColor = 'rgba(0,0,0,0.1)';\n        this.color = '#666';\n        this.datasets = {};\n        this.devicePixelRatio = (context)=>context.chart.platform.getDevicePixelRatio();\n        this.elements = {};\n        this.events = [\n            'mousemove',\n            'mouseout',\n            'click',\n            'touchstart',\n            'touchmove'\n        ];\n        this.font = {\n            family: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n            size: 12,\n            style: 'normal',\n            lineHeight: 1.2,\n            weight: null\n        };\n        this.hover = {};\n        this.hoverBackgroundColor = (ctx, options)=>getHoverColor(options.backgroundColor);\n        this.hoverBorderColor = (ctx, options)=>getHoverColor(options.borderColor);\n        this.hoverColor = (ctx, options)=>getHoverColor(options.color);\n        this.indexAxis = 'x';\n        this.interaction = {\n            mode: 'nearest',\n            intersect: true,\n            includeInvisible: false\n        };\n        this.maintainAspectRatio = true;\n        this.onHover = null;\n        this.onClick = null;\n        this.parsing = true;\n        this.plugins = {};\n        this.responsive = true;\n        this.scale = undefined;\n        this.scales = {};\n        this.showLine = true;\n        this.drawActiveElementsOnTop = true;\n        this.describe(_descriptors);\n        this.apply(_appliers);\n    }\n set(scope, values) {\n        return set(this, scope, values);\n    }\n get(scope) {\n        return getScope$1(this, scope);\n    }\n describe(scope, values) {\n        return set(descriptors, scope, values);\n    }\n    override(scope, values) {\n        return set(overrides, scope, values);\n    }\n route(scope, name, targetScope, targetName) {\n        const scopeObject = getScope$1(this, scope);\n        const targetScopeObject = getScope$1(this, targetScope);\n        const privateName = '_' + name;\n        Object.defineProperties(scopeObject, {\n            [privateName]: {\n                value: scopeObject[name],\n                writable: true\n            },\n            [name]: {\n                enumerable: true,\n                get () {\n                    const local = this[privateName];\n                    const target = targetScopeObject[targetName];\n                    if (isObject(local)) {\n                        return Object.assign({}, target, local);\n                    }\n                    return valueOrDefault(local, target);\n                },\n                set (value) {\n                    this[privateName] = value;\n                }\n            }\n        });\n    }\n    apply(appliers) {\n        appliers.forEach((apply)=>apply(this));\n    }\n}\nvar defaults = /* #__PURE__ */ new Defaults({\n    _scriptable: (name)=>!name.startsWith('on'),\n    _indexable: (name)=>name !== 'events',\n    hover: {\n        _fallback: 'interaction'\n    },\n    interaction: {\n        _scriptable: false,\n        _indexable: false\n    }\n}, [\n    applyAnimationsDefaults,\n    applyLayoutsDefaults,\n    applyScaleDefaults\n]);\n\n/**\n * Converts the given font object into a CSS font string.\n * @param font - A font object.\n * @return The CSS font string. See https://developer.mozilla.org/en-US/docs/Web/CSS/font\n * @private\n */ function toFontString(font) {\n    if (!font || isNullOrUndef(font.size) || isNullOrUndef(font.family)) {\n        return null;\n    }\n    return (font.style ? font.style + ' ' : '') + (font.weight ? font.weight + ' ' : '') + font.size + 'px ' + font.family;\n}\n/**\n * @private\n */ function _measureText(ctx, data, gc, longest, string) {\n    let textWidth = data[string];\n    if (!textWidth) {\n        textWidth = data[string] = ctx.measureText(string).width;\n        gc.push(string);\n    }\n    if (textWidth > longest) {\n        longest = textWidth;\n    }\n    return longest;\n}\n/**\n * @private\n */ // eslint-disable-next-line complexity\nfunction _longestText(ctx, font, arrayOfThings, cache) {\n    cache = cache || {};\n    let data = cache.data = cache.data || {};\n    let gc = cache.garbageCollect = cache.garbageCollect || [];\n    if (cache.font !== font) {\n        data = cache.data = {};\n        gc = cache.garbageCollect = [];\n        cache.font = font;\n    }\n    ctx.save();\n    ctx.font = font;\n    let longest = 0;\n    const ilen = arrayOfThings.length;\n    let i, j, jlen, thing, nestedThing;\n    for(i = 0; i < ilen; i++){\n        thing = arrayOfThings[i];\n        // Undefined strings and arrays should not be measured\n        if (thing !== undefined && thing !== null && !isArray(thing)) {\n            longest = _measureText(ctx, data, gc, longest, thing);\n        } else if (isArray(thing)) {\n            // if it is an array lets measure each element\n            // to do maybe simplify this function a bit so we can do this more recursively?\n            for(j = 0, jlen = thing.length; j < jlen; j++){\n                nestedThing = thing[j];\n                // Undefined strings and arrays should not be measured\n                if (nestedThing !== undefined && nestedThing !== null && !isArray(nestedThing)) {\n                    longest = _measureText(ctx, data, gc, longest, nestedThing);\n                }\n            }\n        }\n    }\n    ctx.restore();\n    const gcLen = gc.length / 2;\n    if (gcLen > arrayOfThings.length) {\n        for(i = 0; i < gcLen; i++){\n            delete data[gc[i]];\n        }\n        gc.splice(0, gcLen);\n    }\n    return longest;\n}\n/**\n * Returns the aligned pixel value to avoid anti-aliasing blur\n * @param chart - The chart instance.\n * @param pixel - A pixel value.\n * @param width - The width of the element.\n * @returns The aligned pixel value.\n * @private\n */ function _alignPixel(chart, pixel, width) {\n    const devicePixelRatio = chart.currentDevicePixelRatio;\n    const halfWidth = width !== 0 ? Math.max(width / 2, 0.5) : 0;\n    return Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;\n}\n/**\n * Clears the entire canvas.\n */ function clearCanvas(canvas, ctx) {\n    ctx = ctx || canvas.getContext('2d');\n    ctx.save();\n    // canvas.width and canvas.height do not consider the canvas transform,\n    // while clearRect does\n    ctx.resetTransform();\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.restore();\n}\nfunction drawPoint(ctx, options, x, y) {\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    drawPointLegend(ctx, options, x, y, null);\n}\n// eslint-disable-next-line complexity\nfunction drawPointLegend(ctx, options, x, y, w) {\n    let type, xOffset, yOffset, size, cornerRadius, width, xOffsetW, yOffsetW;\n    const style = options.pointStyle;\n    const rotation = options.rotation;\n    const radius = options.radius;\n    let rad = (rotation || 0) * RAD_PER_DEG;\n    if (style && typeof style === 'object') {\n        type = style.toString();\n        if (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\n            ctx.save();\n            ctx.translate(x, y);\n            ctx.rotate(rad);\n            ctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\n            ctx.restore();\n            return;\n        }\n    }\n    if (isNaN(radius) || radius <= 0) {\n        return;\n    }\n    ctx.beginPath();\n    switch(style){\n        // Default includes circle\n        default:\n            if (w) {\n                ctx.ellipse(x, y, w / 2, radius, 0, 0, TAU);\n            } else {\n                ctx.arc(x, y, radius, 0, TAU);\n            }\n            ctx.closePath();\n            break;\n        case 'triangle':\n            width = w ? w / 2 : radius;\n            ctx.moveTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n            rad += TWO_THIRDS_PI;\n            ctx.lineTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n            rad += TWO_THIRDS_PI;\n            ctx.lineTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n            ctx.closePath();\n            break;\n        case 'rectRounded':\n            // NOTE: the rounded rect implementation changed to use `arc` instead of\n            // `quadraticCurveTo` since it generates better results when rect is\n            // almost a circle. 0.516 (instead of 0.5) produces results with visually\n            // closer proportion to the previous impl and it is inscribed in the\n            // circle with `radius`. For more details, see the following PRs:\n            // https://github.com/chartjs/Chart.js/issues/5597\n            // https://github.com/chartjs/Chart.js/issues/5858\n            cornerRadius = radius * 0.516;\n            size = radius - cornerRadius;\n            xOffset = Math.cos(rad + QUARTER_PI) * size;\n            xOffsetW = Math.cos(rad + QUARTER_PI) * (w ? w / 2 - cornerRadius : size);\n            yOffset = Math.sin(rad + QUARTER_PI) * size;\n            yOffsetW = Math.sin(rad + QUARTER_PI) * (w ? w / 2 - cornerRadius : size);\n            ctx.arc(x - xOffsetW, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\n            ctx.arc(x + yOffsetW, y - xOffset, cornerRadius, rad - HALF_PI, rad);\n            ctx.arc(x + xOffsetW, y + yOffset, cornerRadius, rad, rad + HALF_PI);\n            ctx.arc(x - yOffsetW, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\n            ctx.closePath();\n            break;\n        case 'rect':\n            if (!rotation) {\n                size = Math.SQRT1_2 * radius;\n                width = w ? w / 2 : size;\n                ctx.rect(x - width, y - size, 2 * width, 2 * size);\n                break;\n            }\n            rad += QUARTER_PI;\n        /* falls through */ case 'rectRot':\n            xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n            xOffset = Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n            ctx.moveTo(x - xOffsetW, y - yOffset);\n            ctx.lineTo(x + yOffsetW, y - xOffset);\n            ctx.lineTo(x + xOffsetW, y + yOffset);\n            ctx.lineTo(x - yOffsetW, y + xOffset);\n            ctx.closePath();\n            break;\n        case 'crossRot':\n            rad += QUARTER_PI;\n        /* falls through */ case 'cross':\n            xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n            xOffset = Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n            ctx.moveTo(x - xOffsetW, y - yOffset);\n            ctx.lineTo(x + xOffsetW, y + yOffset);\n            ctx.moveTo(x + yOffsetW, y - xOffset);\n            ctx.lineTo(x - yOffsetW, y + xOffset);\n            break;\n        case 'star':\n            xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n            xOffset = Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n            ctx.moveTo(x - xOffsetW, y - yOffset);\n            ctx.lineTo(x + xOffsetW, y + yOffset);\n            ctx.moveTo(x + yOffsetW, y - xOffset);\n            ctx.lineTo(x - yOffsetW, y + xOffset);\n            rad += QUARTER_PI;\n            xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n            xOffset = Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n            ctx.moveTo(x - xOffsetW, y - yOffset);\n            ctx.lineTo(x + xOffsetW, y + yOffset);\n            ctx.moveTo(x + yOffsetW, y - xOffset);\n            ctx.lineTo(x - yOffsetW, y + xOffset);\n            break;\n        case 'line':\n            xOffset = w ? w / 2 : Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            ctx.moveTo(x - xOffset, y - yOffset);\n            ctx.lineTo(x + xOffset, y + yOffset);\n            break;\n        case 'dash':\n            ctx.moveTo(x, y);\n            ctx.lineTo(x + Math.cos(rad) * (w ? w / 2 : radius), y + Math.sin(rad) * radius);\n            break;\n        case false:\n            ctx.closePath();\n            break;\n    }\n    ctx.fill();\n    if (options.borderWidth > 0) {\n        ctx.stroke();\n    }\n}\n/**\n * Returns true if the point is inside the rectangle\n * @param point - The point to test\n * @param area - The rectangle\n * @param margin - allowed margin\n * @private\n */ function _isPointInArea(point, area, margin) {\n    margin = margin || 0.5; // margin - default is to match rounded decimals\n    return !area || point && point.x > area.left - margin && point.x < area.right + margin && point.y > area.top - margin && point.y < area.bottom + margin;\n}\nfunction clipArea(ctx, area) {\n    ctx.save();\n    ctx.beginPath();\n    ctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);\n    ctx.clip();\n}\nfunction unclipArea(ctx) {\n    ctx.restore();\n}\n/**\n * @private\n */ function _steppedLineTo(ctx, previous, target, flip, mode) {\n    if (!previous) {\n        return ctx.lineTo(target.x, target.y);\n    }\n    if (mode === 'middle') {\n        const midpoint = (previous.x + target.x) / 2.0;\n        ctx.lineTo(midpoint, previous.y);\n        ctx.lineTo(midpoint, target.y);\n    } else if (mode === 'after' !== !!flip) {\n        ctx.lineTo(previous.x, target.y);\n    } else {\n        ctx.lineTo(target.x, previous.y);\n    }\n    ctx.lineTo(target.x, target.y);\n}\n/**\n * @private\n */ function _bezierCurveTo(ctx, previous, target, flip) {\n    if (!previous) {\n        return ctx.lineTo(target.x, target.y);\n    }\n    ctx.bezierCurveTo(flip ? previous.cp1x : previous.cp2x, flip ? previous.cp1y : previous.cp2y, flip ? target.cp2x : target.cp1x, flip ? target.cp2y : target.cp1y, target.x, target.y);\n}\nfunction setRenderOpts(ctx, opts) {\n    if (opts.translation) {\n        ctx.translate(opts.translation[0], opts.translation[1]);\n    }\n    if (!isNullOrUndef(opts.rotation)) {\n        ctx.rotate(opts.rotation);\n    }\n    if (opts.color) {\n        ctx.fillStyle = opts.color;\n    }\n    if (opts.textAlign) {\n        ctx.textAlign = opts.textAlign;\n    }\n    if (opts.textBaseline) {\n        ctx.textBaseline = opts.textBaseline;\n    }\n}\nfunction decorateText(ctx, x, y, line, opts) {\n    if (opts.strikethrough || opts.underline) {\n        /**\n     * Now that IE11 support has been dropped, we can use more\n     * of the TextMetrics object. The actual bounding boxes\n     * are unflagged in Chrome, Firefox, Edge, and Safari so they\n     * can be safely used.\n     * See https://developer.mozilla.org/en-US/docs/Web/API/TextMetrics#Browser_compatibility\n     */ const metrics = ctx.measureText(line);\n        const left = x - metrics.actualBoundingBoxLeft;\n        const right = x + metrics.actualBoundingBoxRight;\n        const top = y - metrics.actualBoundingBoxAscent;\n        const bottom = y + metrics.actualBoundingBoxDescent;\n        const yDecoration = opts.strikethrough ? (top + bottom) / 2 : bottom;\n        ctx.strokeStyle = ctx.fillStyle;\n        ctx.beginPath();\n        ctx.lineWidth = opts.decorationWidth || 2;\n        ctx.moveTo(left, yDecoration);\n        ctx.lineTo(right, yDecoration);\n        ctx.stroke();\n    }\n}\nfunction drawBackdrop(ctx, opts) {\n    const oldColor = ctx.fillStyle;\n    ctx.fillStyle = opts.color;\n    ctx.fillRect(opts.left, opts.top, opts.width, opts.height);\n    ctx.fillStyle = oldColor;\n}\n/**\n * Render text onto the canvas\n */ function renderText(ctx, text, x, y, font, opts = {}) {\n    const lines = isArray(text) ? text : [\n        text\n    ];\n    const stroke = opts.strokeWidth > 0 && opts.strokeColor !== '';\n    let i, line;\n    ctx.save();\n    ctx.font = font.string;\n    setRenderOpts(ctx, opts);\n    for(i = 0; i < lines.length; ++i){\n        line = lines[i];\n        if (opts.backdrop) {\n            drawBackdrop(ctx, opts.backdrop);\n        }\n        if (stroke) {\n            if (opts.strokeColor) {\n                ctx.strokeStyle = opts.strokeColor;\n            }\n            if (!isNullOrUndef(opts.strokeWidth)) {\n                ctx.lineWidth = opts.strokeWidth;\n            }\n            ctx.strokeText(line, x, y, opts.maxWidth);\n        }\n        ctx.fillText(line, x, y, opts.maxWidth);\n        decorateText(ctx, x, y, line, opts);\n        y += Number(font.lineHeight);\n    }\n    ctx.restore();\n}\n/**\n * Add a path of a rectangle with rounded corners to the current sub-path\n * @param ctx - Context\n * @param rect - Bounding rect\n */ function addRoundedRectPath(ctx, rect) {\n    const { x , y , w , h , radius  } = rect;\n    // top left arc\n    ctx.arc(x + radius.topLeft, y + radius.topLeft, radius.topLeft, 1.5 * PI, PI, true);\n    // line from top left to bottom left\n    ctx.lineTo(x, y + h - radius.bottomLeft);\n    // bottom left arc\n    ctx.arc(x + radius.bottomLeft, y + h - radius.bottomLeft, radius.bottomLeft, PI, HALF_PI, true);\n    // line from bottom left to bottom right\n    ctx.lineTo(x + w - radius.bottomRight, y + h);\n    // bottom right arc\n    ctx.arc(x + w - radius.bottomRight, y + h - radius.bottomRight, radius.bottomRight, HALF_PI, 0, true);\n    // line from bottom right to top right\n    ctx.lineTo(x + w, y + radius.topRight);\n    // top right arc\n    ctx.arc(x + w - radius.topRight, y + radius.topRight, radius.topRight, 0, -HALF_PI, true);\n    // line from top right to top left\n    ctx.lineTo(x + radius.topLeft, y);\n}\n\nconst LINE_HEIGHT = /^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/;\nconst FONT_STYLE = /^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;\n/**\n * @alias Chart.helpers.options\n * @namespace\n */ /**\n * Converts the given line height `value` in pixels for a specific font `size`.\n * @param value - The lineHeight to parse (eg. 1.6, '14px', '75%', '1.6em').\n * @param size - The font size (in pixels) used to resolve relative `value`.\n * @returns The effective line height in pixels (size * 1.2 if value is invalid).\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/line-height\n * @since 2.7.0\n */ function toLineHeight(value, size) {\n    const matches = ('' + value).match(LINE_HEIGHT);\n    if (!matches || matches[1] === 'normal') {\n        return size * 1.2;\n    }\n    value = +matches[2];\n    switch(matches[3]){\n        case 'px':\n            return value;\n        case '%':\n            value /= 100;\n            break;\n    }\n    return size * value;\n}\nconst numberOrZero = (v)=>+v || 0;\nfunction _readValueToProps(value, props) {\n    const ret = {};\n    const objProps = isObject(props);\n    const keys = objProps ? Object.keys(props) : props;\n    const read = isObject(value) ? objProps ? (prop)=>valueOrDefault(value[prop], value[props[prop]]) : (prop)=>value[prop] : ()=>value;\n    for (const prop of keys){\n        ret[prop] = numberOrZero(read(prop));\n    }\n    return ret;\n}\n/**\n * Converts the given value into a TRBL object.\n * @param value - If a number, set the value to all TRBL component,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n *  x / y are shorthands for same value for left/right and top/bottom.\n * @returns The padding values (top, right, bottom, left)\n * @since 3.0.0\n */ function toTRBL(value) {\n    return _readValueToProps(value, {\n        top: 'y',\n        right: 'x',\n        bottom: 'y',\n        left: 'x'\n    });\n}\n/**\n * Converts the given value into a TRBL corners object (similar with css border-radius).\n * @param value - If a number, set the value to all TRBL corner components,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n * @returns The TRBL corner values (topLeft, topRight, bottomLeft, bottomRight)\n * @since 3.0.0\n */ function toTRBLCorners(value) {\n    return _readValueToProps(value, [\n        'topLeft',\n        'topRight',\n        'bottomLeft',\n        'bottomRight'\n    ]);\n}\n/**\n * Converts the given value into a padding object with pre-computed width/height.\n * @param value - If a number, set the value to all TRBL component,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n *  x / y are shorthands for same value for left/right and top/bottom.\n * @returns The padding values (top, right, bottom, left, width, height)\n * @since 2.7.0\n */ function toPadding(value) {\n    const obj = toTRBL(value);\n    obj.width = obj.left + obj.right;\n    obj.height = obj.top + obj.bottom;\n    return obj;\n}\n/**\n * Parses font options and returns the font object.\n * @param options - A object that contains font options to be parsed.\n * @param fallback - A object that contains fallback font options.\n * @return The font object.\n * @private\n */ function toFont(options, fallback) {\n    options = options || {};\n    fallback = fallback || defaults.font;\n    let size = valueOrDefault(options.size, fallback.size);\n    if (typeof size === 'string') {\n        size = parseInt(size, 10);\n    }\n    let style = valueOrDefault(options.style, fallback.style);\n    if (style && !('' + style).match(FONT_STYLE)) {\n        console.warn('Invalid font style specified: \"' + style + '\"');\n        style = undefined;\n    }\n    const font = {\n        family: valueOrDefault(options.family, fallback.family),\n        lineHeight: toLineHeight(valueOrDefault(options.lineHeight, fallback.lineHeight), size),\n        size,\n        style,\n        weight: valueOrDefault(options.weight, fallback.weight),\n        string: ''\n    };\n    font.string = toFontString(font);\n    return font;\n}\n/**\n * Evaluates the given `inputs` sequentially and returns the first defined value.\n * @param inputs - An array of values, falling back to the last value.\n * @param context - If defined and the current value is a function, the value\n * is called with `context` as first argument and the result becomes the new input.\n * @param index - If defined and the current value is an array, the value\n * at `index` become the new input.\n * @param info - object to return information about resolution in\n * @param info.cacheable - Will be set to `false` if option is not cacheable.\n * @since 2.7.0\n */ function resolve(inputs, context, index, info) {\n    let cacheable = true;\n    let i, ilen, value;\n    for(i = 0, ilen = inputs.length; i < ilen; ++i){\n        value = inputs[i];\n        if (value === undefined) {\n            continue;\n        }\n        if (context !== undefined && typeof value === 'function') {\n            value = value(context);\n            cacheable = false;\n        }\n        if (index !== undefined && isArray(value)) {\n            value = value[index % value.length];\n            cacheable = false;\n        }\n        if (value !== undefined) {\n            if (info && !cacheable) {\n                info.cacheable = false;\n            }\n            return value;\n        }\n    }\n}\n/**\n * @param minmax\n * @param grace\n * @param beginAtZero\n * @private\n */ function _addGrace(minmax, grace, beginAtZero) {\n    const { min , max  } = minmax;\n    const change = toDimension(grace, (max - min) / 2);\n    const keepZero = (value, add)=>beginAtZero && value === 0 ? 0 : value + add;\n    return {\n        min: keepZero(min, -Math.abs(change)),\n        max: keepZero(max, change)\n    };\n}\nfunction createContext(parentContext, context) {\n    return Object.assign(Object.create(parentContext), context);\n}\n\n/**\n * Creates a Proxy for resolving raw values for options.\n * @param scopes - The option scopes to look for values, in resolution order\n * @param prefixes - The prefixes for values, in resolution order.\n * @param rootScopes - The root option scopes\n * @param fallback - Parent scopes fallback\n * @param getTarget - callback for getting the target for changed values\n * @returns Proxy\n * @private\n */ function _createResolver(scopes, prefixes = [\n    ''\n], rootScopes, fallback, getTarget = ()=>scopes[0]) {\n    const finalRootScopes = rootScopes || scopes;\n    if (typeof fallback === 'undefined') {\n        fallback = _resolve('_fallback', scopes);\n    }\n    const cache = {\n        [Symbol.toStringTag]: 'Object',\n        _cacheable: true,\n        _scopes: scopes,\n        _rootScopes: finalRootScopes,\n        _fallback: fallback,\n        _getTarget: getTarget,\n        override: (scope)=>_createResolver([\n                scope,\n                ...scopes\n            ], prefixes, finalRootScopes, fallback)\n    };\n    return new Proxy(cache, {\n        /**\n     * A trap for the delete operator.\n     */ deleteProperty (target, prop) {\n            delete target[prop]; // remove from cache\n            delete target._keys; // remove cached keys\n            delete scopes[0][prop]; // remove from top level scope\n            return true;\n        },\n        /**\n     * A trap for getting property values.\n     */ get (target, prop) {\n            return _cached(target, prop, ()=>_resolveWithPrefixes(prop, prefixes, scopes, target));\n        },\n        /**\n     * A trap for Object.getOwnPropertyDescriptor.\n     * Also used by Object.hasOwnProperty.\n     */ getOwnPropertyDescriptor (target, prop) {\n            return Reflect.getOwnPropertyDescriptor(target._scopes[0], prop);\n        },\n        /**\n     * A trap for Object.getPrototypeOf.\n     */ getPrototypeOf () {\n            return Reflect.getPrototypeOf(scopes[0]);\n        },\n        /**\n     * A trap for the in operator.\n     */ has (target, prop) {\n            return getKeysFromAllScopes(target).includes(prop);\n        },\n        /**\n     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.\n     */ ownKeys (target) {\n            return getKeysFromAllScopes(target);\n        },\n        /**\n     * A trap for setting property values.\n     */ set (target, prop, value) {\n            const storage = target._storage || (target._storage = getTarget());\n            target[prop] = storage[prop] = value; // set to top level scope + cache\n            delete target._keys; // remove cached keys\n            return true;\n        }\n    });\n}\n/**\n * Returns an Proxy for resolving option values with context.\n * @param proxy - The Proxy returned by `_createResolver`\n * @param context - Context object for scriptable/indexable options\n * @param subProxy - The proxy provided for scriptable options\n * @param descriptorDefaults - Defaults for descriptors\n * @private\n */ function _attachContext(proxy, context, subProxy, descriptorDefaults) {\n    const cache = {\n        _cacheable: false,\n        _proxy: proxy,\n        _context: context,\n        _subProxy: subProxy,\n        _stack: new Set(),\n        _descriptors: _descriptors(proxy, descriptorDefaults),\n        setContext: (ctx)=>_attachContext(proxy, ctx, subProxy, descriptorDefaults),\n        override: (scope)=>_attachContext(proxy.override(scope), context, subProxy, descriptorDefaults)\n    };\n    return new Proxy(cache, {\n        /**\n     * A trap for the delete operator.\n     */ deleteProperty (target, prop) {\n            delete target[prop]; // remove from cache\n            delete proxy[prop]; // remove from proxy\n            return true;\n        },\n        /**\n     * A trap for getting property values.\n     */ get (target, prop, receiver) {\n            return _cached(target, prop, ()=>_resolveWithContext(target, prop, receiver));\n        },\n        /**\n     * A trap for Object.getOwnPropertyDescriptor.\n     * Also used by Object.hasOwnProperty.\n     */ getOwnPropertyDescriptor (target, prop) {\n            return target._descriptors.allKeys ? Reflect.has(proxy, prop) ? {\n                enumerable: true,\n                configurable: true\n            } : undefined : Reflect.getOwnPropertyDescriptor(proxy, prop);\n        },\n        /**\n     * A trap for Object.getPrototypeOf.\n     */ getPrototypeOf () {\n            return Reflect.getPrototypeOf(proxy);\n        },\n        /**\n     * A trap for the in operator.\n     */ has (target, prop) {\n            return Reflect.has(proxy, prop);\n        },\n        /**\n     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.\n     */ ownKeys () {\n            return Reflect.ownKeys(proxy);\n        },\n        /**\n     * A trap for setting property values.\n     */ set (target, prop, value) {\n            proxy[prop] = value; // set to proxy\n            delete target[prop]; // remove from cache\n            return true;\n        }\n    });\n}\n/**\n * @private\n */ function _descriptors(proxy, defaults = {\n    scriptable: true,\n    indexable: true\n}) {\n    const { _scriptable =defaults.scriptable , _indexable =defaults.indexable , _allKeys =defaults.allKeys  } = proxy;\n    return {\n        allKeys: _allKeys,\n        scriptable: _scriptable,\n        indexable: _indexable,\n        isScriptable: isFunction(_scriptable) ? _scriptable : ()=>_scriptable,\n        isIndexable: isFunction(_indexable) ? _indexable : ()=>_indexable\n    };\n}\nconst readKey = (prefix, name)=>prefix ? prefix + _capitalize(name) : name;\nconst needsSubResolver = (prop, value)=>isObject(value) && prop !== 'adapters' && (Object.getPrototypeOf(value) === null || value.constructor === Object);\nfunction _cached(target, prop, resolve) {\n    if (Object.prototype.hasOwnProperty.call(target, prop)) {\n        return target[prop];\n    }\n    const value = resolve();\n    // cache the resolved value\n    target[prop] = value;\n    return value;\n}\nfunction _resolveWithContext(target, prop, receiver) {\n    const { _proxy , _context , _subProxy , _descriptors: descriptors  } = target;\n    let value = _proxy[prop]; // resolve from proxy\n    // resolve with context\n    if (isFunction(value) && descriptors.isScriptable(prop)) {\n        value = _resolveScriptable(prop, value, target, receiver);\n    }\n    if (isArray(value) && value.length) {\n        value = _resolveArray(prop, value, target, descriptors.isIndexable);\n    }\n    if (needsSubResolver(prop, value)) {\n        // if the resolved value is an object, create a sub resolver for it\n        value = _attachContext(value, _context, _subProxy && _subProxy[prop], descriptors);\n    }\n    return value;\n}\nfunction _resolveScriptable(prop, getValue, target, receiver) {\n    const { _proxy , _context , _subProxy , _stack  } = target;\n    if (_stack.has(prop)) {\n        throw new Error('Recursion detected: ' + Array.from(_stack).join('->') + '->' + prop);\n    }\n    _stack.add(prop);\n    let value = getValue(_context, _subProxy || receiver);\n    _stack.delete(prop);\n    if (needsSubResolver(prop, value)) {\n        // When scriptable option returns an object, create a resolver on that.\n        value = createSubResolver(_proxy._scopes, _proxy, prop, value);\n    }\n    return value;\n}\nfunction _resolveArray(prop, value, target, isIndexable) {\n    const { _proxy , _context , _subProxy , _descriptors: descriptors  } = target;\n    if (typeof _context.index !== 'undefined' && isIndexable(prop)) {\n        return value[_context.index % value.length];\n    } else if (isObject(value[0])) {\n        // Array of objects, return array or resolvers\n        const arr = value;\n        const scopes = _proxy._scopes.filter((s)=>s !== arr);\n        value = [];\n        for (const item of arr){\n            const resolver = createSubResolver(scopes, _proxy, prop, item);\n            value.push(_attachContext(resolver, _context, _subProxy && _subProxy[prop], descriptors));\n        }\n    }\n    return value;\n}\nfunction resolveFallback(fallback, prop, value) {\n    return isFunction(fallback) ? fallback(prop, value) : fallback;\n}\nconst getScope = (key, parent)=>key === true ? parent : typeof key === 'string' ? resolveObjectKey(parent, key) : undefined;\nfunction addScopes(set, parentScopes, key, parentFallback, value) {\n    for (const parent of parentScopes){\n        const scope = getScope(key, parent);\n        if (scope) {\n            set.add(scope);\n            const fallback = resolveFallback(scope._fallback, key, value);\n            if (typeof fallback !== 'undefined' && fallback !== key && fallback !== parentFallback) {\n                // When we reach the descriptor that defines a new _fallback, return that.\n                // The fallback will resume to that new scope.\n                return fallback;\n            }\n        } else if (scope === false && typeof parentFallback !== 'undefined' && key !== parentFallback) {\n            // Fallback to `false` results to `false`, when falling back to different key.\n            // For example `interaction` from `hover` or `plugins.tooltip` and `animation` from `animations`\n            return null;\n        }\n    }\n    return false;\n}\nfunction createSubResolver(parentScopes, resolver, prop, value) {\n    const rootScopes = resolver._rootScopes;\n    const fallback = resolveFallback(resolver._fallback, prop, value);\n    const allScopes = [\n        ...parentScopes,\n        ...rootScopes\n    ];\n    const set = new Set();\n    set.add(value);\n    let key = addScopesFromKey(set, allScopes, prop, fallback || prop, value);\n    if (key === null) {\n        return false;\n    }\n    if (typeof fallback !== 'undefined' && fallback !== prop) {\n        key = addScopesFromKey(set, allScopes, fallback, key, value);\n        if (key === null) {\n            return false;\n        }\n    }\n    return _createResolver(Array.from(set), [\n        ''\n    ], rootScopes, fallback, ()=>subGetTarget(resolver, prop, value));\n}\nfunction addScopesFromKey(set, allScopes, key, fallback, item) {\n    while(key){\n        key = addScopes(set, allScopes, key, fallback, item);\n    }\n    return key;\n}\nfunction subGetTarget(resolver, prop, value) {\n    const parent = resolver._getTarget();\n    if (!(prop in parent)) {\n        parent[prop] = {};\n    }\n    const target = parent[prop];\n    if (isArray(target) && isObject(value)) {\n        // For array of objects, the object is used to store updated values\n        return value;\n    }\n    return target || {};\n}\nfunction _resolveWithPrefixes(prop, prefixes, scopes, proxy) {\n    let value;\n    for (const prefix of prefixes){\n        value = _resolve(readKey(prefix, prop), scopes);\n        if (typeof value !== 'undefined') {\n            return needsSubResolver(prop, value) ? createSubResolver(scopes, proxy, prop, value) : value;\n        }\n    }\n}\nfunction _resolve(key, scopes) {\n    for (const scope of scopes){\n        if (!scope) {\n            continue;\n        }\n        const value = scope[key];\n        if (typeof value !== 'undefined') {\n            return value;\n        }\n    }\n}\nfunction getKeysFromAllScopes(target) {\n    let keys = target._keys;\n    if (!keys) {\n        keys = target._keys = resolveKeysFromAllScopes(target._scopes);\n    }\n    return keys;\n}\nfunction resolveKeysFromAllScopes(scopes) {\n    const set = new Set();\n    for (const scope of scopes){\n        for (const key of Object.keys(scope).filter((k)=>!k.startsWith('_'))){\n            set.add(key);\n        }\n    }\n    return Array.from(set);\n}\nfunction _parseObjectDataRadialScale(meta, data, start, count) {\n    const { iScale  } = meta;\n    const { key ='r'  } = this._parsing;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n    for(i = 0, ilen = count; i < ilen; ++i){\n        index = i + start;\n        item = data[index];\n        parsed[i] = {\n            r: iScale.parse(resolveObjectKey(item, key), index)\n        };\n    }\n    return parsed;\n}\n\nconst EPSILON = Number.EPSILON || 1e-14;\nconst getPoint = (points, i)=>i < points.length && !points[i].skip && points[i];\nconst getValueAxis = (indexAxis)=>indexAxis === 'x' ? 'y' : 'x';\nfunction splineCurve(firstPoint, middlePoint, afterPoint, t) {\n    // Props to Rob Spencer at scaled innovation for his post on splining between points\n    // http://scaledinnovation.com/analytics/splines/aboutSplines.html\n    // This function must also respect \"skipped\" points\n    const previous = firstPoint.skip ? middlePoint : firstPoint;\n    const current = middlePoint;\n    const next = afterPoint.skip ? middlePoint : afterPoint;\n    const d01 = distanceBetweenPoints(current, previous);\n    const d12 = distanceBetweenPoints(next, current);\n    let s01 = d01 / (d01 + d12);\n    let s12 = d12 / (d01 + d12);\n    // If all points are the same, s01 & s02 will be inf\n    s01 = isNaN(s01) ? 0 : s01;\n    s12 = isNaN(s12) ? 0 : s12;\n    const fa = t * s01; // scaling factor for triangle Ta\n    const fb = t * s12;\n    return {\n        previous: {\n            x: current.x - fa * (next.x - previous.x),\n            y: current.y - fa * (next.y - previous.y)\n        },\n        next: {\n            x: current.x + fb * (next.x - previous.x),\n            y: current.y + fb * (next.y - previous.y)\n        }\n    };\n}\n/**\n * Adjust tangents to ensure monotonic properties\n */ function monotoneAdjust(points, deltaK, mK) {\n    const pointsLen = points.length;\n    let alphaK, betaK, tauK, squaredMagnitude, pointCurrent;\n    let pointAfter = getPoint(points, 0);\n    for(let i = 0; i < pointsLen - 1; ++i){\n        pointCurrent = pointAfter;\n        pointAfter = getPoint(points, i + 1);\n        if (!pointCurrent || !pointAfter) {\n            continue;\n        }\n        if (almostEquals(deltaK[i], 0, EPSILON)) {\n            mK[i] = mK[i + 1] = 0;\n            continue;\n        }\n        alphaK = mK[i] / deltaK[i];\n        betaK = mK[i + 1] / deltaK[i];\n        squaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\n        if (squaredMagnitude <= 9) {\n            continue;\n        }\n        tauK = 3 / Math.sqrt(squaredMagnitude);\n        mK[i] = alphaK * tauK * deltaK[i];\n        mK[i + 1] = betaK * tauK * deltaK[i];\n    }\n}\nfunction monotoneCompute(points, mK, indexAxis = 'x') {\n    const valueAxis = getValueAxis(indexAxis);\n    const pointsLen = points.length;\n    let delta, pointBefore, pointCurrent;\n    let pointAfter = getPoint(points, 0);\n    for(let i = 0; i < pointsLen; ++i){\n        pointBefore = pointCurrent;\n        pointCurrent = pointAfter;\n        pointAfter = getPoint(points, i + 1);\n        if (!pointCurrent) {\n            continue;\n        }\n        const iPixel = pointCurrent[indexAxis];\n        const vPixel = pointCurrent[valueAxis];\n        if (pointBefore) {\n            delta = (iPixel - pointBefore[indexAxis]) / 3;\n            pointCurrent[`cp1${indexAxis}`] = iPixel - delta;\n            pointCurrent[`cp1${valueAxis}`] = vPixel - delta * mK[i];\n        }\n        if (pointAfter) {\n            delta = (pointAfter[indexAxis] - iPixel) / 3;\n            pointCurrent[`cp2${indexAxis}`] = iPixel + delta;\n            pointCurrent[`cp2${valueAxis}`] = vPixel + delta * mK[i];\n        }\n    }\n}\n/**\n * This function calculates Bzier control points in a similar way than |splineCurve|,\n * but preserves monotonicity of the provided data and ensures no local extremums are added\n * between the dataset discrete points due to the interpolation.\n * See : https://en.wikipedia.org/wiki/Monotone_cubic_interpolation\n */ function splineCurveMonotone(points, indexAxis = 'x') {\n    const valueAxis = getValueAxis(indexAxis);\n    const pointsLen = points.length;\n    const deltaK = Array(pointsLen).fill(0);\n    const mK = Array(pointsLen);\n    // Calculate slopes (deltaK) and initialize tangents (mK)\n    let i, pointBefore, pointCurrent;\n    let pointAfter = getPoint(points, 0);\n    for(i = 0; i < pointsLen; ++i){\n        pointBefore = pointCurrent;\n        pointCurrent = pointAfter;\n        pointAfter = getPoint(points, i + 1);\n        if (!pointCurrent) {\n            continue;\n        }\n        if (pointAfter) {\n            const slopeDelta = pointAfter[indexAxis] - pointCurrent[indexAxis];\n            // In the case of two points that appear at the same x pixel, slopeDeltaX is 0\n            deltaK[i] = slopeDelta !== 0 ? (pointAfter[valueAxis] - pointCurrent[valueAxis]) / slopeDelta : 0;\n        }\n        mK[i] = !pointBefore ? deltaK[i] : !pointAfter ? deltaK[i - 1] : sign(deltaK[i - 1]) !== sign(deltaK[i]) ? 0 : (deltaK[i - 1] + deltaK[i]) / 2;\n    }\n    monotoneAdjust(points, deltaK, mK);\n    monotoneCompute(points, mK, indexAxis);\n}\nfunction capControlPoint(pt, min, max) {\n    return Math.max(Math.min(pt, max), min);\n}\nfunction capBezierPoints(points, area) {\n    let i, ilen, point, inArea, inAreaPrev;\n    let inAreaNext = _isPointInArea(points[0], area);\n    for(i = 0, ilen = points.length; i < ilen; ++i){\n        inAreaPrev = inArea;\n        inArea = inAreaNext;\n        inAreaNext = i < ilen - 1 && _isPointInArea(points[i + 1], area);\n        if (!inArea) {\n            continue;\n        }\n        point = points[i];\n        if (inAreaPrev) {\n            point.cp1x = capControlPoint(point.cp1x, area.left, area.right);\n            point.cp1y = capControlPoint(point.cp1y, area.top, area.bottom);\n        }\n        if (inAreaNext) {\n            point.cp2x = capControlPoint(point.cp2x, area.left, area.right);\n            point.cp2y = capControlPoint(point.cp2y, area.top, area.bottom);\n        }\n    }\n}\n/**\n * @private\n */ function _updateBezierControlPoints(points, options, area, loop, indexAxis) {\n    let i, ilen, point, controlPoints;\n    // Only consider points that are drawn in case the spanGaps option is used\n    if (options.spanGaps) {\n        points = points.filter((pt)=>!pt.skip);\n    }\n    if (options.cubicInterpolationMode === 'monotone') {\n        splineCurveMonotone(points, indexAxis);\n    } else {\n        let prev = loop ? points[points.length - 1] : points[0];\n        for(i = 0, ilen = points.length; i < ilen; ++i){\n            point = points[i];\n            controlPoints = splineCurve(prev, point, points[Math.min(i + 1, ilen - (loop ? 0 : 1)) % ilen], options.tension);\n            point.cp1x = controlPoints.previous.x;\n            point.cp1y = controlPoints.previous.y;\n            point.cp2x = controlPoints.next.x;\n            point.cp2y = controlPoints.next.y;\n            prev = point;\n        }\n    }\n    if (options.capBezierPoints) {\n        capBezierPoints(points, area);\n    }\n}\n\n/**\n * Note: typedefs are auto-exported, so use a made-up `dom` namespace where\n * necessary to avoid duplicates with `export * from './helpers`; see\n * https://github.com/microsoft/TypeScript/issues/46011\n * @typedef { import('../core/core.controller.js').default } dom.Chart\n * @typedef { import('../../types').ChartEvent } ChartEvent\n */ /**\n * @private\n */ function _isDomSupported() {\n    return typeof window !== 'undefined' && typeof document !== 'undefined';\n}\n/**\n * @private\n */ function _getParentNode(domNode) {\n    let parent = domNode.parentNode;\n    if (parent && parent.toString() === '[object ShadowRoot]') {\n        parent = parent.host;\n    }\n    return parent;\n}\n/**\n * convert max-width/max-height values that may be percentages into a number\n * @private\n */ function parseMaxStyle(styleValue, node, parentProperty) {\n    let valueInPixels;\n    if (typeof styleValue === 'string') {\n        valueInPixels = parseInt(styleValue, 10);\n        if (styleValue.indexOf('%') !== -1) {\n            // percentage * size in dimension\n            valueInPixels = valueInPixels / 100 * node.parentNode[parentProperty];\n        }\n    } else {\n        valueInPixels = styleValue;\n    }\n    return valueInPixels;\n}\nconst getComputedStyle = (element)=>element.ownerDocument.defaultView.getComputedStyle(element, null);\nfunction getStyle(el, property) {\n    return getComputedStyle(el).getPropertyValue(property);\n}\nconst positions = [\n    'top',\n    'right',\n    'bottom',\n    'left'\n];\nfunction getPositionedStyle(styles, style, suffix) {\n    const result = {};\n    suffix = suffix ? '-' + suffix : '';\n    for(let i = 0; i < 4; i++){\n        const pos = positions[i];\n        result[pos] = parseFloat(styles[style + '-' + pos + suffix]) || 0;\n    }\n    result.width = result.left + result.right;\n    result.height = result.top + result.bottom;\n    return result;\n}\nconst useOffsetPos = (x, y, target)=>(x > 0 || y > 0) && (!target || !target.shadowRoot);\n/**\n * @param e\n * @param canvas\n * @returns Canvas position\n */ function getCanvasPosition(e, canvas) {\n    const touches = e.touches;\n    const source = touches && touches.length ? touches[0] : e;\n    const { offsetX , offsetY  } = source;\n    let box = false;\n    let x, y;\n    if (useOffsetPos(offsetX, offsetY, e.target)) {\n        x = offsetX;\n        y = offsetY;\n    } else {\n        const rect = canvas.getBoundingClientRect();\n        x = source.clientX - rect.left;\n        y = source.clientY - rect.top;\n        box = true;\n    }\n    return {\n        x,\n        y,\n        box\n    };\n}\n/**\n * Gets an event's x, y coordinates, relative to the chart area\n * @param event\n * @param chart\n * @returns x and y coordinates of the event\n */ function getRelativePosition(event, chart) {\n    if ('native' in event) {\n        return event;\n    }\n    const { canvas , currentDevicePixelRatio  } = chart;\n    const style = getComputedStyle(canvas);\n    const borderBox = style.boxSizing === 'border-box';\n    const paddings = getPositionedStyle(style, 'padding');\n    const borders = getPositionedStyle(style, 'border', 'width');\n    const { x , y , box  } = getCanvasPosition(event, canvas);\n    const xOffset = paddings.left + (box && borders.left);\n    const yOffset = paddings.top + (box && borders.top);\n    let { width , height  } = chart;\n    if (borderBox) {\n        width -= paddings.width + borders.width;\n        height -= paddings.height + borders.height;\n    }\n    return {\n        x: Math.round((x - xOffset) / width * canvas.width / currentDevicePixelRatio),\n        y: Math.round((y - yOffset) / height * canvas.height / currentDevicePixelRatio)\n    };\n}\nfunction getContainerSize(canvas, width, height) {\n    let maxWidth, maxHeight;\n    if (width === undefined || height === undefined) {\n        const container = _getParentNode(canvas);\n        if (!container) {\n            width = canvas.clientWidth;\n            height = canvas.clientHeight;\n        } else {\n            const rect = container.getBoundingClientRect(); // this is the border box of the container\n            const containerStyle = getComputedStyle(container);\n            const containerBorder = getPositionedStyle(containerStyle, 'border', 'width');\n            const containerPadding = getPositionedStyle(containerStyle, 'padding');\n            width = rect.width - containerPadding.width - containerBorder.width;\n            height = rect.height - containerPadding.height - containerBorder.height;\n            maxWidth = parseMaxStyle(containerStyle.maxWidth, container, 'clientWidth');\n            maxHeight = parseMaxStyle(containerStyle.maxHeight, container, 'clientHeight');\n        }\n    }\n    return {\n        width,\n        height,\n        maxWidth: maxWidth || INFINITY,\n        maxHeight: maxHeight || INFINITY\n    };\n}\nconst round1 = (v)=>Math.round(v * 10) / 10;\n// eslint-disable-next-line complexity\nfunction getMaximumSize(canvas, bbWidth, bbHeight, aspectRatio) {\n    const style = getComputedStyle(canvas);\n    const margins = getPositionedStyle(style, 'margin');\n    const maxWidth = parseMaxStyle(style.maxWidth, canvas, 'clientWidth') || INFINITY;\n    const maxHeight = parseMaxStyle(style.maxHeight, canvas, 'clientHeight') || INFINITY;\n    const containerSize = getContainerSize(canvas, bbWidth, bbHeight);\n    let { width , height  } = containerSize;\n    if (style.boxSizing === 'content-box') {\n        const borders = getPositionedStyle(style, 'border', 'width');\n        const paddings = getPositionedStyle(style, 'padding');\n        width -= paddings.width + borders.width;\n        height -= paddings.height + borders.height;\n    }\n    width = Math.max(0, width - margins.width);\n    height = Math.max(0, aspectRatio ? width / aspectRatio : height - margins.height);\n    width = round1(Math.min(width, maxWidth, containerSize.maxWidth));\n    height = round1(Math.min(height, maxHeight, containerSize.maxHeight));\n    if (width && !height) {\n        // https://github.com/chartjs/Chart.js/issues/4659\n        // If the canvas has width, but no height, default to aspectRatio of 2 (canvas default)\n        height = round1(width / 2);\n    }\n    const maintainHeight = bbWidth !== undefined || bbHeight !== undefined;\n    if (maintainHeight && aspectRatio && containerSize.height && height > containerSize.height) {\n        height = containerSize.height;\n        width = round1(Math.floor(height * aspectRatio));\n    }\n    return {\n        width,\n        height\n    };\n}\n/**\n * @param chart\n * @param forceRatio\n * @param forceStyle\n * @returns True if the canvas context size or transformation has changed.\n */ function retinaScale(chart, forceRatio, forceStyle) {\n    const pixelRatio = forceRatio || 1;\n    const deviceHeight = Math.floor(chart.height * pixelRatio);\n    const deviceWidth = Math.floor(chart.width * pixelRatio);\n    chart.height = Math.floor(chart.height);\n    chart.width = Math.floor(chart.width);\n    const canvas = chart.canvas;\n    // If no style has been set on the canvas, the render size is used as display size,\n    // making the chart visually bigger, so let's enforce it to the \"correct\" values.\n    // See https://github.com/chartjs/Chart.js/issues/3575\n    if (canvas.style && (forceStyle || !canvas.style.height && !canvas.style.width)) {\n        canvas.style.height = `${chart.height}px`;\n        canvas.style.width = `${chart.width}px`;\n    }\n    if (chart.currentDevicePixelRatio !== pixelRatio || canvas.height !== deviceHeight || canvas.width !== deviceWidth) {\n        chart.currentDevicePixelRatio = pixelRatio;\n        canvas.height = deviceHeight;\n        canvas.width = deviceWidth;\n        chart.ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n        return true;\n    }\n    return false;\n}\n/**\n * Detects support for options object argument in addEventListener.\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\n * @private\n */ const supportsEventListenerOptions = function() {\n    let passiveSupported = false;\n    try {\n        const options = {\n            get passive () {\n                passiveSupported = true;\n                return false;\n            }\n        };\n        if (_isDomSupported()) {\n            window.addEventListener('test', null, options);\n            window.removeEventListener('test', null, options);\n        }\n    } catch (e) {\n    // continue regardless of error\n    }\n    return passiveSupported;\n}();\n/**\n * The \"used\" size is the final value of a dimension property after all calculations have\n * been performed. This method uses the computed style of `element` but returns undefined\n * if the computed style is not expressed in pixels. That can happen in some cases where\n * `element` has a size relative to its parent and this last one is not yet displayed,\n * for example because of `display: none` on a parent node.\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/used_value\n * @returns Size in pixels or undefined if unknown.\n */ function readUsedSize(element, property) {\n    const value = getStyle(element, property);\n    const matches = value && value.match(/^(\\d+)(\\.\\d+)?px$/);\n    return matches ? +matches[1] : undefined;\n}\n\n/**\n * @private\n */ function _pointInLine(p1, p2, t, mode) {\n    return {\n        x: p1.x + t * (p2.x - p1.x),\n        y: p1.y + t * (p2.y - p1.y)\n    };\n}\n/**\n * @private\n */ function _steppedInterpolation(p1, p2, t, mode) {\n    return {\n        x: p1.x + t * (p2.x - p1.x),\n        y: mode === 'middle' ? t < 0.5 ? p1.y : p2.y : mode === 'after' ? t < 1 ? p1.y : p2.y : t > 0 ? p2.y : p1.y\n    };\n}\n/**\n * @private\n */ function _bezierInterpolation(p1, p2, t, mode) {\n    const cp1 = {\n        x: p1.cp2x,\n        y: p1.cp2y\n    };\n    const cp2 = {\n        x: p2.cp1x,\n        y: p2.cp1y\n    };\n    const a = _pointInLine(p1, cp1, t);\n    const b = _pointInLine(cp1, cp2, t);\n    const c = _pointInLine(cp2, p2, t);\n    const d = _pointInLine(a, b, t);\n    const e = _pointInLine(b, c, t);\n    return _pointInLine(d, e, t);\n}\n\nconst getRightToLeftAdapter = function(rectX, width) {\n    return {\n        x (x) {\n            return rectX + rectX + width - x;\n        },\n        setWidth (w) {\n            width = w;\n        },\n        textAlign (align) {\n            if (align === 'center') {\n                return align;\n            }\n            return align === 'right' ? 'left' : 'right';\n        },\n        xPlus (x, value) {\n            return x - value;\n        },\n        leftForLtr (x, itemWidth) {\n            return x - itemWidth;\n        }\n    };\n};\nconst getLeftToRightAdapter = function() {\n    return {\n        x (x) {\n            return x;\n        },\n        setWidth (w) {},\n        textAlign (align) {\n            return align;\n        },\n        xPlus (x, value) {\n            return x + value;\n        },\n        leftForLtr (x, _itemWidth) {\n            return x;\n        }\n    };\n};\nfunction getRtlAdapter(rtl, rectX, width) {\n    return rtl ? getRightToLeftAdapter(rectX, width) : getLeftToRightAdapter();\n}\nfunction overrideTextDirection(ctx, direction) {\n    let style, original;\n    if (direction === 'ltr' || direction === 'rtl') {\n        style = ctx.canvas.style;\n        original = [\n            style.getPropertyValue('direction'),\n            style.getPropertyPriority('direction')\n        ];\n        style.setProperty('direction', direction, 'important');\n        ctx.prevTextDirection = original;\n    }\n}\nfunction restoreTextDirection(ctx, original) {\n    if (original !== undefined) {\n        delete ctx.prevTextDirection;\n        ctx.canvas.style.setProperty('direction', original[0], original[1]);\n    }\n}\n\nfunction propertyFn(property) {\n    if (property === 'angle') {\n        return {\n            between: _angleBetween,\n            compare: _angleDiff,\n            normalize: _normalizeAngle\n        };\n    }\n    return {\n        between: _isBetween,\n        compare: (a, b)=>a - b,\n        normalize: (x)=>x\n    };\n}\nfunction normalizeSegment({ start , end , count , loop , style  }) {\n    return {\n        start: start % count,\n        end: end % count,\n        loop: loop && (end - start + 1) % count === 0,\n        style\n    };\n}\nfunction getSegment(segment, points, bounds) {\n    const { property , start: startBound , end: endBound  } = bounds;\n    const { between , normalize  } = propertyFn(property);\n    const count = points.length;\n    let { start , end , loop  } = segment;\n    let i, ilen;\n    if (loop) {\n        start += count;\n        end += count;\n        for(i = 0, ilen = count; i < ilen; ++i){\n            if (!between(normalize(points[start % count][property]), startBound, endBound)) {\n                break;\n            }\n            start--;\n            end--;\n        }\n        start %= count;\n        end %= count;\n    }\n    if (end < start) {\n        end += count;\n    }\n    return {\n        start,\n        end,\n        loop,\n        style: segment.style\n    };\n}\n function _boundSegment(segment, points, bounds) {\n    if (!bounds) {\n        return [\n            segment\n        ];\n    }\n    const { property , start: startBound , end: endBound  } = bounds;\n    const count = points.length;\n    const { compare , between , normalize  } = propertyFn(property);\n    const { start , end , loop , style  } = getSegment(segment, points, bounds);\n    const result = [];\n    let inside = false;\n    let subStart = null;\n    let value, point, prevValue;\n    const startIsBefore = ()=>between(startBound, prevValue, value) && compare(startBound, prevValue) !== 0;\n    const endIsBefore = ()=>compare(endBound, value) === 0 || between(endBound, prevValue, value);\n    const shouldStart = ()=>inside || startIsBefore();\n    const shouldStop = ()=>!inside || endIsBefore();\n    for(let i = start, prev = start; i <= end; ++i){\n        point = points[i % count];\n        if (point.skip) {\n            continue;\n        }\n        value = normalize(point[property]);\n        if (value === prevValue) {\n            continue;\n        }\n        inside = between(value, startBound, endBound);\n        if (subStart === null && shouldStart()) {\n            subStart = compare(value, startBound) === 0 ? i : prev;\n        }\n        if (subStart !== null && shouldStop()) {\n            result.push(normalizeSegment({\n                start: subStart,\n                end: i,\n                loop,\n                count,\n                style\n            }));\n            subStart = null;\n        }\n        prev = i;\n        prevValue = value;\n    }\n    if (subStart !== null) {\n        result.push(normalizeSegment({\n            start: subStart,\n            end,\n            loop,\n            count,\n            style\n        }));\n    }\n    return result;\n}\n function _boundSegments(line, bounds) {\n    const result = [];\n    const segments = line.segments;\n    for(let i = 0; i < segments.length; i++){\n        const sub = _boundSegment(segments[i], line.points, bounds);\n        if (sub.length) {\n            result.push(...sub);\n        }\n    }\n    return result;\n}\n function findStartAndEnd(points, count, loop, spanGaps) {\n    let start = 0;\n    let end = count - 1;\n    if (loop && !spanGaps) {\n        while(start < count && !points[start].skip){\n            start++;\n        }\n    }\n    while(start < count && points[start].skip){\n        start++;\n    }\n    start %= count;\n    if (loop) {\n        end += start;\n    }\n    while(end > start && points[end % count].skip){\n        end--;\n    }\n    end %= count;\n    return {\n        start,\n        end\n    };\n}\n function solidSegments(points, start, max, loop) {\n    const count = points.length;\n    const result = [];\n    let last = start;\n    let prev = points[start];\n    let end;\n    for(end = start + 1; end <= max; ++end){\n        const cur = points[end % count];\n        if (cur.skip || cur.stop) {\n            if (!prev.skip) {\n                loop = false;\n                result.push({\n                    start: start % count,\n                    end: (end - 1) % count,\n                    loop\n                });\n                start = last = cur.stop ? end : null;\n            }\n        } else {\n            last = end;\n            if (prev.skip) {\n                start = end;\n            }\n        }\n        prev = cur;\n    }\n    if (last !== null) {\n        result.push({\n            start: start % count,\n            end: last % count,\n            loop\n        });\n    }\n    return result;\n}\n function _computeSegments(line, segmentOptions) {\n    const points = line.points;\n    const spanGaps = line.options.spanGaps;\n    const count = points.length;\n    if (!count) {\n        return [];\n    }\n    const loop = !!line._loop;\n    const { start , end  } = findStartAndEnd(points, count, loop, spanGaps);\n    if (spanGaps === true) {\n        return splitByStyles(line, [\n            {\n                start,\n                end,\n                loop\n            }\n        ], points, segmentOptions);\n    }\n    const max = end < start ? end + count : end;\n    const completeLoop = !!line._fullLoop && start === 0 && end === count - 1;\n    return splitByStyles(line, solidSegments(points, start, max, completeLoop), points, segmentOptions);\n}\n function splitByStyles(line, segments, points, segmentOptions) {\n    if (!segmentOptions || !segmentOptions.setContext || !points) {\n        return segments;\n    }\n    return doSplitByStyles(line, segments, points, segmentOptions);\n}\n function doSplitByStyles(line, segments, points, segmentOptions) {\n    const chartContext = line._chart.getContext();\n    const baseStyle = readStyle(line.options);\n    const { _datasetIndex: datasetIndex , options: { spanGaps  }  } = line;\n    const count = points.length;\n    const result = [];\n    let prevStyle = baseStyle;\n    let start = segments[0].start;\n    let i = start;\n    function addStyle(s, e, l, st) {\n        const dir = spanGaps ? -1 : 1;\n        if (s === e) {\n            return;\n        }\n        s += count;\n        while(points[s % count].skip){\n            s -= dir;\n        }\n        while(points[e % count].skip){\n            e += dir;\n        }\n        if (s % count !== e % count) {\n            result.push({\n                start: s % count,\n                end: e % count,\n                loop: l,\n                style: st\n            });\n            prevStyle = st;\n            start = e % count;\n        }\n    }\n    for (const segment of segments){\n        start = spanGaps ? start : segment.start;\n        let prev = points[start % count];\n        let style;\n        for(i = start + 1; i <= segment.end; i++){\n            const pt = points[i % count];\n            style = readStyle(segmentOptions.setContext(createContext(chartContext, {\n                type: 'segment',\n                p0: prev,\n                p1: pt,\n                p0DataIndex: (i - 1) % count,\n                p1DataIndex: i % count,\n                datasetIndex\n            })));\n            if (styleChanged(style, prevStyle)) {\n                addStyle(start, i - 1, segment.loop, prevStyle);\n            }\n            prev = pt;\n            prevStyle = style;\n        }\n        if (start < i - 1) {\n            addStyle(start, i - 1, segment.loop, prevStyle);\n        }\n    }\n    return result;\n}\nfunction readStyle(options) {\n    return {\n        backgroundColor: options.backgroundColor,\n        borderCapStyle: options.borderCapStyle,\n        borderDash: options.borderDash,\n        borderDashOffset: options.borderDashOffset,\n        borderJoinStyle: options.borderJoinStyle,\n        borderWidth: options.borderWidth,\n        borderColor: options.borderColor\n    };\n}\nfunction styleChanged(style, prevStyle) {\n    if (!prevStyle) {\n        return false;\n    }\n    const cache = [];\n    const replacer = function(key, value) {\n        if (!isPatternOrGradient(value)) {\n            return value;\n        }\n        if (!cache.includes(value)) {\n            cache.push(value);\n        }\n        return cache.indexOf(value);\n    };\n    return JSON.stringify(style, replacer) !== JSON.stringify(prevStyle, replacer);\n}\n\nexport { unclipArea as $, _rlookupByKey as A, _lookupByKey as B, _isPointInArea as C, getAngleFromPoint as D, toPadding as E, each as F, getMaximumSize as G, HALF_PI as H, _getParentNode as I, readUsedSize as J, supportsEventListenerOptions as K, throttled as L, _isDomSupported as M, _factorize as N, finiteOrDefault as O, PI as P, callback as Q, _addGrace as R, _limitValue as S, TAU as T, toDegrees as U, _measureText as V, _int16Range as W, _alignPixel as X, clipArea as Y, renderText as Z, _arrayUnique as _, resolve as a, fontString as a$, toFont as a0, _toLeftRightCenter as a1, _alignStartEnd as a2, overrides as a3, merge as a4, _capitalize as a5, descriptors as a6, isFunction as a7, _attachContext as a8, _createResolver as a9, overrideTextDirection as aA, _textX as aB, restoreTextDirection as aC, drawPointLegend as aD, distanceBetweenPoints as aE, noop as aF, _setMinAndMaxByKey as aG, niceNum as aH, almostWhole as aI, almostEquals as aJ, _decimalPlaces as aK, Ticks as aL, log10 as aM, _longestText as aN, _filterBetween as aO, _lookup as aP, isPatternOrGradient as aQ, getHoverColor as aR, clone as aS, _merger as aT, _mergerIf as aU, _deprecated as aV, _splitKey as aW, toFontString as aX, splineCurve as aY, splineCurveMonotone as aZ, getStyle as a_, _descriptors as aa, mergeIf as ab, uid as ac, debounce as ad, retinaScale as ae, clearCanvas as af, setsEqual as ag, _elementsEqual as ah, _isClickEvent as ai, _isBetween as aj, _readValueToProps as ak, _updateBezierControlPoints as al, _computeSegments as am, _boundSegments as an, _steppedInterpolation as ao, _bezierInterpolation as ap, _pointInLine as aq, _steppedLineTo as ar, _bezierCurveTo as as, drawPoint as at, addRoundedRectPath as au, toTRBL as av, toTRBLCorners as aw, _boundSegment as ax, _normalizeAngle as ay, getRtlAdapter as az, isArray as b, toLineHeight as b0, PITAU as b1, INFINITY as b2, RAD_PER_DEG as b3, QUARTER_PI as b4, TWO_THIRDS_PI as b5, _angleDiff as b6, color as c, defaults as d, effects as e, resolveObjectKey as f, isNumberFinite as g, defined as h, isObject as i, createContext as j, isNullOrUndef as k, listenArrayEvents as l, toPercentage as m, toDimension as n, formatNumber as o, _angleBetween as p, _getStartAndCountOfVisiblePoints as q, requestAnimFrame as r, sign as s, toRadians as t, unlistenArrayEvents as u, valueOrDefault as v, _scaleRangesChanged as w, isNumber as x, _parseObjectDataRadialScale as y, getRelativePosition as z };\n//# sourceMappingURL=helpers.segment.js.map\n","/*!\n * Chart.js v4.4.2\n * https://www.chartjs.org\n * (c) 2024 Chart.js Contributors\n * Released under the MIT License\n */\nimport { r as requestAnimFrame, a as resolve, e as effects, c as color, i as isObject, d as defaults, b as isArray, v as valueOrDefault, u as unlistenArrayEvents, l as listenArrayEvents, f as resolveObjectKey, g as isNumberFinite, h as defined, s as sign, j as createContext, k as isNullOrUndef, _ as _arrayUnique, t as toRadians, m as toPercentage, n as toDimension, T as TAU, o as formatNumber, p as _angleBetween, H as HALF_PI, P as PI, q as _getStartAndCountOfVisiblePoints, w as _scaleRangesChanged, x as isNumber, y as _parseObjectDataRadialScale, z as getRelativePosition, A as _rlookupByKey, B as _lookupByKey, C as _isPointInArea, D as getAngleFromPoint, E as toPadding, F as each, G as getMaximumSize, I as _getParentNode, J as readUsedSize, K as supportsEventListenerOptions, L as throttled, M as _isDomSupported, N as _factorize, O as finiteOrDefault, Q as callback, R as _addGrace, S as _limitValue, U as toDegrees, V as _measureText, W as _int16Range, X as _alignPixel, Y as clipArea, Z as renderText, $ as unclipArea, a0 as toFont, a1 as _toLeftRightCenter, a2 as _alignStartEnd, a3 as overrides, a4 as merge, a5 as _capitalize, a6 as descriptors, a7 as isFunction, a8 as _attachContext, a9 as _createResolver, aa as _descriptors, ab as mergeIf, ac as uid, ad as debounce, ae as retinaScale, af as clearCanvas, ag as setsEqual, ah as _elementsEqual, ai as _isClickEvent, aj as _isBetween, ak as _readValueToProps, al as _updateBezierControlPoints, am as _computeSegments, an as _boundSegments, ao as _steppedInterpolation, ap as _bezierInterpolation, aq as _pointInLine, ar as _steppedLineTo, as as _bezierCurveTo, at as drawPoint, au as addRoundedRectPath, av as toTRBL, aw as toTRBLCorners, ax as _boundSegment, ay as _normalizeAngle, az as getRtlAdapter, aA as overrideTextDirection, aB as _textX, aC as restoreTextDirection, aD as drawPointLegend, aE as distanceBetweenPoints, aF as noop, aG as _setMinAndMaxByKey, aH as niceNum, aI as almostWhole, aJ as almostEquals, aK as _decimalPlaces, aL as Ticks, aM as log10, aN as _longestText, aO as _filterBetween, aP as _lookup } from './chunks/helpers.segment.js';\nimport '@kurkle/color';\n\nclass Animator {\n    constructor(){\n        this._request = null;\n        this._charts = new Map();\n        this._running = false;\n        this._lastDate = undefined;\n    }\n _notify(chart, anims, date, type) {\n        const callbacks = anims.listeners[type];\n        const numSteps = anims.duration;\n        callbacks.forEach((fn)=>fn({\n                chart,\n                initial: anims.initial,\n                numSteps,\n                currentStep: Math.min(date - anims.start, numSteps)\n            }));\n    }\n _refresh() {\n        if (this._request) {\n            return;\n        }\n        this._running = true;\n        this._request = requestAnimFrame.call(window, ()=>{\n            this._update();\n            this._request = null;\n            if (this._running) {\n                this._refresh();\n            }\n        });\n    }\n _update(date = Date.now()) {\n        let remaining = 0;\n        this._charts.forEach((anims, chart)=>{\n            if (!anims.running || !anims.items.length) {\n                return;\n            }\n            const items = anims.items;\n            let i = items.length - 1;\n            let draw = false;\n            let item;\n            for(; i >= 0; --i){\n                item = items[i];\n                if (item._active) {\n                    if (item._total > anims.duration) {\n                        anims.duration = item._total;\n                    }\n                    item.tick(date);\n                    draw = true;\n                } else {\n                    items[i] = items[items.length - 1];\n                    items.pop();\n                }\n            }\n            if (draw) {\n                chart.draw();\n                this._notify(chart, anims, date, 'progress');\n            }\n            if (!items.length) {\n                anims.running = false;\n                this._notify(chart, anims, date, 'complete');\n                anims.initial = false;\n            }\n            remaining += items.length;\n        });\n        this._lastDate = date;\n        if (remaining === 0) {\n            this._running = false;\n        }\n    }\n _getAnims(chart) {\n        const charts = this._charts;\n        let anims = charts.get(chart);\n        if (!anims) {\n            anims = {\n                running: false,\n                initial: true,\n                items: [],\n                listeners: {\n                    complete: [],\n                    progress: []\n                }\n            };\n            charts.set(chart, anims);\n        }\n        return anims;\n    }\n listen(chart, event, cb) {\n        this._getAnims(chart).listeners[event].push(cb);\n    }\n add(chart, items) {\n        if (!items || !items.length) {\n            return;\n        }\n        this._getAnims(chart).items.push(...items);\n    }\n has(chart) {\n        return this._getAnims(chart).items.length > 0;\n    }\n start(chart) {\n        const anims = this._charts.get(chart);\n        if (!anims) {\n            return;\n        }\n        anims.running = true;\n        anims.start = Date.now();\n        anims.duration = anims.items.reduce((acc, cur)=>Math.max(acc, cur._duration), 0);\n        this._refresh();\n    }\n    running(chart) {\n        if (!this._running) {\n            return false;\n        }\n        const anims = this._charts.get(chart);\n        if (!anims || !anims.running || !anims.items.length) {\n            return false;\n        }\n        return true;\n    }\n stop(chart) {\n        const anims = this._charts.get(chart);\n        if (!anims || !anims.items.length) {\n            return;\n        }\n        const items = anims.items;\n        let i = items.length - 1;\n        for(; i >= 0; --i){\n            items[i].cancel();\n        }\n        anims.items = [];\n        this._notify(chart, anims, Date.now(), 'complete');\n    }\n remove(chart) {\n        return this._charts.delete(chart);\n    }\n}\nvar animator = /* #__PURE__ */ new Animator();\n\nconst transparent = 'transparent';\nconst interpolators = {\n    boolean (from, to, factor) {\n        return factor > 0.5 ? to : from;\n    },\n color (from, to, factor) {\n        const c0 = color(from || transparent);\n        const c1 = c0.valid && color(to || transparent);\n        return c1 && c1.valid ? c1.mix(c0, factor).hexString() : to;\n    },\n    number (from, to, factor) {\n        return from + (to - from) * factor;\n    }\n};\nclass Animation {\n    constructor(cfg, target, prop, to){\n        const currentValue = target[prop];\n        to = resolve([\n            cfg.to,\n            to,\n            currentValue,\n            cfg.from\n        ]);\n        const from = resolve([\n            cfg.from,\n            currentValue,\n            to\n        ]);\n        this._active = true;\n        this._fn = cfg.fn || interpolators[cfg.type || typeof from];\n        this._easing = effects[cfg.easing] || effects.linear;\n        this._start = Math.floor(Date.now() + (cfg.delay || 0));\n        this._duration = this._total = Math.floor(cfg.duration);\n        this._loop = !!cfg.loop;\n        this._target = target;\n        this._prop = prop;\n        this._from = from;\n        this._to = to;\n        this._promises = undefined;\n    }\n    active() {\n        return this._active;\n    }\n    update(cfg, to, date) {\n        if (this._active) {\n            this._notify(false);\n            const currentValue = this._target[this._prop];\n            const elapsed = date - this._start;\n            const remain = this._duration - elapsed;\n            this._start = date;\n            this._duration = Math.floor(Math.max(remain, cfg.duration));\n            this._total += elapsed;\n            this._loop = !!cfg.loop;\n            this._to = resolve([\n                cfg.to,\n                to,\n                currentValue,\n                cfg.from\n            ]);\n            this._from = resolve([\n                cfg.from,\n                currentValue,\n                to\n            ]);\n        }\n    }\n    cancel() {\n        if (this._active) {\n            this.tick(Date.now());\n            this._active = false;\n            this._notify(false);\n        }\n    }\n    tick(date) {\n        const elapsed = date - this._start;\n        const duration = this._duration;\n        const prop = this._prop;\n        const from = this._from;\n        const loop = this._loop;\n        const to = this._to;\n        let factor;\n        this._active = from !== to && (loop || elapsed < duration);\n        if (!this._active) {\n            this._target[prop] = to;\n            this._notify(true);\n            return;\n        }\n        if (elapsed < 0) {\n            this._target[prop] = from;\n            return;\n        }\n        factor = elapsed / duration % 2;\n        factor = loop && factor > 1 ? 2 - factor : factor;\n        factor = this._easing(Math.min(1, Math.max(0, factor)));\n        this._target[prop] = this._fn(from, to, factor);\n    }\n    wait() {\n        const promises = this._promises || (this._promises = []);\n        return new Promise((res, rej)=>{\n            promises.push({\n                res,\n                rej\n            });\n        });\n    }\n    _notify(resolved) {\n        const method = resolved ? 'res' : 'rej';\n        const promises = this._promises || [];\n        for(let i = 0; i < promises.length; i++){\n            promises[i][method]();\n        }\n    }\n}\n\nclass Animations {\n    constructor(chart, config){\n        this._chart = chart;\n        this._properties = new Map();\n        this.configure(config);\n    }\n    configure(config) {\n        if (!isObject(config)) {\n            return;\n        }\n        const animationOptions = Object.keys(defaults.animation);\n        const animatedProps = this._properties;\n        Object.getOwnPropertyNames(config).forEach((key)=>{\n            const cfg = config[key];\n            if (!isObject(cfg)) {\n                return;\n            }\n            const resolved = {};\n            for (const option of animationOptions){\n                resolved[option] = cfg[option];\n            }\n            (isArray(cfg.properties) && cfg.properties || [\n                key\n            ]).forEach((prop)=>{\n                if (prop === key || !animatedProps.has(prop)) {\n                    animatedProps.set(prop, resolved);\n                }\n            });\n        });\n    }\n _animateOptions(target, values) {\n        const newOptions = values.options;\n        const options = resolveTargetOptions(target, newOptions);\n        if (!options) {\n            return [];\n        }\n        const animations = this._createAnimations(options, newOptions);\n        if (newOptions.$shared) {\n            awaitAll(target.options.$animations, newOptions).then(()=>{\n                target.options = newOptions;\n            }, ()=>{\n            });\n        }\n        return animations;\n    }\n _createAnimations(target, values) {\n        const animatedProps = this._properties;\n        const animations = [];\n        const running = target.$animations || (target.$animations = {});\n        const props = Object.keys(values);\n        const date = Date.now();\n        let i;\n        for(i = props.length - 1; i >= 0; --i){\n            const prop = props[i];\n            if (prop.charAt(0) === '$') {\n                continue;\n            }\n            if (prop === 'options') {\n                animations.push(...this._animateOptions(target, values));\n                continue;\n            }\n            const value = values[prop];\n            let animation = running[prop];\n            const cfg = animatedProps.get(prop);\n            if (animation) {\n                if (cfg && animation.active()) {\n                    animation.update(cfg, value, date);\n                    continue;\n                } else {\n                    animation.cancel();\n                }\n            }\n            if (!cfg || !cfg.duration) {\n                target[prop] = value;\n                continue;\n            }\n            running[prop] = animation = new Animation(cfg, target, prop, value);\n            animations.push(animation);\n        }\n        return animations;\n    }\n update(target, values) {\n        if (this._properties.size === 0) {\n            Object.assign(target, values);\n            return;\n        }\n        const animations = this._createAnimations(target, values);\n        if (animations.length) {\n            animator.add(this._chart, animations);\n            return true;\n        }\n    }\n}\nfunction awaitAll(animations, properties) {\n    const running = [];\n    const keys = Object.keys(properties);\n    for(let i = 0; i < keys.length; i++){\n        const anim = animations[keys[i]];\n        if (anim && anim.active()) {\n            running.push(anim.wait());\n        }\n    }\n    return Promise.all(running);\n}\nfunction resolveTargetOptions(target, newOptions) {\n    if (!newOptions) {\n        return;\n    }\n    let options = target.options;\n    if (!options) {\n        target.options = newOptions;\n        return;\n    }\n    if (options.$shared) {\n        target.options = options = Object.assign({}, options, {\n            $shared: false,\n            $animations: {}\n        });\n    }\n    return options;\n}\n\nfunction scaleClip(scale, allowedOverflow) {\n    const opts = scale && scale.options || {};\n    const reverse = opts.reverse;\n    const min = opts.min === undefined ? allowedOverflow : 0;\n    const max = opts.max === undefined ? allowedOverflow : 0;\n    return {\n        start: reverse ? max : min,\n        end: reverse ? min : max\n    };\n}\nfunction defaultClip(xScale, yScale, allowedOverflow) {\n    if (allowedOverflow === false) {\n        return false;\n    }\n    const x = scaleClip(xScale, allowedOverflow);\n    const y = scaleClip(yScale, allowedOverflow);\n    return {\n        top: y.end,\n        right: x.end,\n        bottom: y.start,\n        left: x.start\n    };\n}\nfunction toClip(value) {\n    let t, r, b, l;\n    if (isObject(value)) {\n        t = value.top;\n        r = value.right;\n        b = value.bottom;\n        l = value.left;\n    } else {\n        t = r = b = l = value;\n    }\n    return {\n        top: t,\n        right: r,\n        bottom: b,\n        left: l,\n        disabled: value === false\n    };\n}\nfunction getSortedDatasetIndices(chart, filterVisible) {\n    const keys = [];\n    const metasets = chart._getSortedDatasetMetas(filterVisible);\n    let i, ilen;\n    for(i = 0, ilen = metasets.length; i < ilen; ++i){\n        keys.push(metasets[i].index);\n    }\n    return keys;\n}\nfunction applyStack(stack, value, dsIndex, options = {}) {\n    const keys = stack.keys;\n    const singleMode = options.mode === 'single';\n    let i, ilen, datasetIndex, otherValue;\n    if (value === null) {\n        return;\n    }\n    for(i = 0, ilen = keys.length; i < ilen; ++i){\n        datasetIndex = +keys[i];\n        if (datasetIndex === dsIndex) {\n            if (options.all) {\n                continue;\n            }\n            break;\n        }\n        otherValue = stack.values[datasetIndex];\n        if (isNumberFinite(otherValue) && (singleMode || value === 0 || sign(value) === sign(otherValue))) {\n            value += otherValue;\n        }\n    }\n    return value;\n}\nfunction convertObjectDataToArray(data) {\n    const keys = Object.keys(data);\n    const adata = new Array(keys.length);\n    let i, ilen, key;\n    for(i = 0, ilen = keys.length; i < ilen; ++i){\n        key = keys[i];\n        adata[i] = {\n            x: key,\n            y: data[key]\n        };\n    }\n    return adata;\n}\nfunction isStacked(scale, meta) {\n    const stacked = scale && scale.options.stacked;\n    return stacked || stacked === undefined && meta.stack !== undefined;\n}\nfunction getStackKey(indexScale, valueScale, meta) {\n    return `${indexScale.id}.${valueScale.id}.${meta.stack || meta.type}`;\n}\nfunction getUserBounds(scale) {\n    const { min , max , minDefined , maxDefined  } = scale.getUserBounds();\n    return {\n        min: minDefined ? min : Number.NEGATIVE_INFINITY,\n        max: maxDefined ? max : Number.POSITIVE_INFINITY\n    };\n}\nfunction getOrCreateStack(stacks, stackKey, indexValue) {\n    const subStack = stacks[stackKey] || (stacks[stackKey] = {});\n    return subStack[indexValue] || (subStack[indexValue] = {});\n}\nfunction getLastIndexInStack(stack, vScale, positive, type) {\n    for (const meta of vScale.getMatchingVisibleMetas(type).reverse()){\n        const value = stack[meta.index];\n        if (positive && value > 0 || !positive && value < 0) {\n            return meta.index;\n        }\n    }\n    return null;\n}\nfunction updateStacks(controller, parsed) {\n    const { chart , _cachedMeta: meta  } = controller;\n    const stacks = chart._stacks || (chart._stacks = {});\n    const { iScale , vScale , index: datasetIndex  } = meta;\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const key = getStackKey(iScale, vScale, meta);\n    const ilen = parsed.length;\n    let stack;\n    for(let i = 0; i < ilen; ++i){\n        const item = parsed[i];\n        const { [iAxis]: index , [vAxis]: value  } = item;\n        const itemStacks = item._stacks || (item._stacks = {});\n        stack = itemStacks[vAxis] = getOrCreateStack(stacks, key, index);\n        stack[datasetIndex] = value;\n        stack._top = getLastIndexInStack(stack, vScale, true, meta.type);\n        stack._bottom = getLastIndexInStack(stack, vScale, false, meta.type);\n        const visualValues = stack._visualValues || (stack._visualValues = {});\n        visualValues[datasetIndex] = value;\n    }\n}\nfunction getFirstScaleId(chart, axis) {\n    const scales = chart.scales;\n    return Object.keys(scales).filter((key)=>scales[key].axis === axis).shift();\n}\nfunction createDatasetContext(parent, index) {\n    return createContext(parent, {\n        active: false,\n        dataset: undefined,\n        datasetIndex: index,\n        index,\n        mode: 'default',\n        type: 'dataset'\n    });\n}\nfunction createDataContext(parent, index, element) {\n    return createContext(parent, {\n        active: false,\n        dataIndex: index,\n        parsed: undefined,\n        raw: undefined,\n        element,\n        index,\n        mode: 'default',\n        type: 'data'\n    });\n}\nfunction clearStacks(meta, items) {\n    const datasetIndex = meta.controller.index;\n    const axis = meta.vScale && meta.vScale.axis;\n    if (!axis) {\n        return;\n    }\n    items = items || meta._parsed;\n    for (const parsed of items){\n        const stacks = parsed._stacks;\n        if (!stacks || stacks[axis] === undefined || stacks[axis][datasetIndex] === undefined) {\n            return;\n        }\n        delete stacks[axis][datasetIndex];\n        if (stacks[axis]._visualValues !== undefined && stacks[axis]._visualValues[datasetIndex] !== undefined) {\n            delete stacks[axis]._visualValues[datasetIndex];\n        }\n    }\n}\nconst isDirectUpdateMode = (mode)=>mode === 'reset' || mode === 'none';\nconst cloneIfNotShared = (cached, shared)=>shared ? cached : Object.assign({}, cached);\nconst createStack = (canStack, meta, chart)=>canStack && !meta.hidden && meta._stacked && {\n        keys: getSortedDatasetIndices(chart, true),\n        values: null\n    };\nclass DatasetController {\n static defaults = {};\n static datasetElementType = null;\n static dataElementType = null;\n constructor(chart, datasetIndex){\n        this.chart = chart;\n        this._ctx = chart.ctx;\n        this.index = datasetIndex;\n        this._cachedDataOpts = {};\n        this._cachedMeta = this.getMeta();\n        this._type = this._cachedMeta.type;\n        this.options = undefined;\n         this._parsing = false;\n        this._data = undefined;\n        this._objectData = undefined;\n        this._sharedOptions = undefined;\n        this._drawStart = undefined;\n        this._drawCount = undefined;\n        this.enableOptionSharing = false;\n        this.supportsDecimation = false;\n        this.$context = undefined;\n        this._syncList = [];\n        this.datasetElementType = new.target.datasetElementType;\n        this.dataElementType = new.target.dataElementType;\n        this.initialize();\n    }\n    initialize() {\n        const meta = this._cachedMeta;\n        this.configure();\n        this.linkScales();\n        meta._stacked = isStacked(meta.vScale, meta);\n        this.addElements();\n        if (this.options.fill && !this.chart.isPluginEnabled('filler')) {\n            console.warn(\"Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options\");\n        }\n    }\n    updateIndex(datasetIndex) {\n        if (this.index !== datasetIndex) {\n            clearStacks(this._cachedMeta);\n        }\n        this.index = datasetIndex;\n    }\n    linkScales() {\n        const chart = this.chart;\n        const meta = this._cachedMeta;\n        const dataset = this.getDataset();\n        const chooseId = (axis, x, y, r)=>axis === 'x' ? x : axis === 'r' ? r : y;\n        const xid = meta.xAxisID = valueOrDefault(dataset.xAxisID, getFirstScaleId(chart, 'x'));\n        const yid = meta.yAxisID = valueOrDefault(dataset.yAxisID, getFirstScaleId(chart, 'y'));\n        const rid = meta.rAxisID = valueOrDefault(dataset.rAxisID, getFirstScaleId(chart, 'r'));\n        const indexAxis = meta.indexAxis;\n        const iid = meta.iAxisID = chooseId(indexAxis, xid, yid, rid);\n        const vid = meta.vAxisID = chooseId(indexAxis, yid, xid, rid);\n        meta.xScale = this.getScaleForId(xid);\n        meta.yScale = this.getScaleForId(yid);\n        meta.rScale = this.getScaleForId(rid);\n        meta.iScale = this.getScaleForId(iid);\n        meta.vScale = this.getScaleForId(vid);\n    }\n    getDataset() {\n        return this.chart.data.datasets[this.index];\n    }\n    getMeta() {\n        return this.chart.getDatasetMeta(this.index);\n    }\n getScaleForId(scaleID) {\n        return this.chart.scales[scaleID];\n    }\n _getOtherScale(scale) {\n        const meta = this._cachedMeta;\n        return scale === meta.iScale ? meta.vScale : meta.iScale;\n    }\n    reset() {\n        this._update('reset');\n    }\n _destroy() {\n        const meta = this._cachedMeta;\n        if (this._data) {\n            unlistenArrayEvents(this._data, this);\n        }\n        if (meta._stacked) {\n            clearStacks(meta);\n        }\n    }\n _dataCheck() {\n        const dataset = this.getDataset();\n        const data = dataset.data || (dataset.data = []);\n        const _data = this._data;\n        if (isObject(data)) {\n            this._data = convertObjectDataToArray(data);\n        } else if (_data !== data) {\n            if (_data) {\n                unlistenArrayEvents(_data, this);\n                const meta = this._cachedMeta;\n                clearStacks(meta);\n                meta._parsed = [];\n            }\n            if (data && Object.isExtensible(data)) {\n                listenArrayEvents(data, this);\n            }\n            this._syncList = [];\n            this._data = data;\n        }\n    }\n    addElements() {\n        const meta = this._cachedMeta;\n        this._dataCheck();\n        if (this.datasetElementType) {\n            meta.dataset = new this.datasetElementType();\n        }\n    }\n    buildOrUpdateElements(resetNewElements) {\n        const meta = this._cachedMeta;\n        const dataset = this.getDataset();\n        let stackChanged = false;\n        this._dataCheck();\n        const oldStacked = meta._stacked;\n        meta._stacked = isStacked(meta.vScale, meta);\n        if (meta.stack !== dataset.stack) {\n            stackChanged = true;\n            clearStacks(meta);\n            meta.stack = dataset.stack;\n        }\n        this._resyncElements(resetNewElements);\n        if (stackChanged || oldStacked !== meta._stacked) {\n            updateStacks(this, meta._parsed);\n        }\n    }\n configure() {\n        const config = this.chart.config;\n        const scopeKeys = config.datasetScopeKeys(this._type);\n        const scopes = config.getOptionScopes(this.getDataset(), scopeKeys, true);\n        this.options = config.createResolver(scopes, this.getContext());\n        this._parsing = this.options.parsing;\n        this._cachedDataOpts = {};\n    }\n parse(start, count) {\n        const { _cachedMeta: meta , _data: data  } = this;\n        const { iScale , _stacked  } = meta;\n        const iAxis = iScale.axis;\n        let sorted = start === 0 && count === data.length ? true : meta._sorted;\n        let prev = start > 0 && meta._parsed[start - 1];\n        let i, cur, parsed;\n        if (this._parsing === false) {\n            meta._parsed = data;\n            meta._sorted = true;\n            parsed = data;\n        } else {\n            if (isArray(data[start])) {\n                parsed = this.parseArrayData(meta, data, start, count);\n            } else if (isObject(data[start])) {\n                parsed = this.parseObjectData(meta, data, start, count);\n            } else {\n                parsed = this.parsePrimitiveData(meta, data, start, count);\n            }\n            const isNotInOrderComparedToPrev = ()=>cur[iAxis] === null || prev && cur[iAxis] < prev[iAxis];\n            for(i = 0; i < count; ++i){\n                meta._parsed[i + start] = cur = parsed[i];\n                if (sorted) {\n                    if (isNotInOrderComparedToPrev()) {\n                        sorted = false;\n                    }\n                    prev = cur;\n                }\n            }\n            meta._sorted = sorted;\n        }\n        if (_stacked) {\n            updateStacks(this, parsed);\n        }\n    }\n parsePrimitiveData(meta, data, start, count) {\n        const { iScale , vScale  } = meta;\n        const iAxis = iScale.axis;\n        const vAxis = vScale.axis;\n        const labels = iScale.getLabels();\n        const singleScale = iScale === vScale;\n        const parsed = new Array(count);\n        let i, ilen, index;\n        for(i = 0, ilen = count; i < ilen; ++i){\n            index = i + start;\n            parsed[i] = {\n                [iAxis]: singleScale || iScale.parse(labels[index], index),\n                [vAxis]: vScale.parse(data[index], index)\n            };\n        }\n        return parsed;\n    }\n parseArrayData(meta, data, start, count) {\n        const { xScale , yScale  } = meta;\n        const parsed = new Array(count);\n        let i, ilen, index, item;\n        for(i = 0, ilen = count; i < ilen; ++i){\n            index = i + start;\n            item = data[index];\n            parsed[i] = {\n                x: xScale.parse(item[0], index),\n                y: yScale.parse(item[1], index)\n            };\n        }\n        return parsed;\n    }\n parseObjectData(meta, data, start, count) {\n        const { xScale , yScale  } = meta;\n        const { xAxisKey ='x' , yAxisKey ='y'  } = this._parsing;\n        const parsed = new Array(count);\n        let i, ilen, index, item;\n        for(i = 0, ilen = count; i < ilen; ++i){\n            index = i + start;\n            item = data[index];\n            parsed[i] = {\n                x: xScale.parse(resolveObjectKey(item, xAxisKey), index),\n                y: yScale.parse(resolveObjectKey(item, yAxisKey), index)\n            };\n        }\n        return parsed;\n    }\n getParsed(index) {\n        return this._cachedMeta._parsed[index];\n    }\n getDataElement(index) {\n        return this._cachedMeta.data[index];\n    }\n applyStack(scale, parsed, mode) {\n        const chart = this.chart;\n        const meta = this._cachedMeta;\n        const value = parsed[scale.axis];\n        const stack = {\n            keys: getSortedDatasetIndices(chart, true),\n            values: parsed._stacks[scale.axis]._visualValues\n        };\n        return applyStack(stack, value, meta.index, {\n            mode\n        });\n    }\n updateRangeFromParsed(range, scale, parsed, stack) {\n        const parsedValue = parsed[scale.axis];\n        let value = parsedValue === null ? NaN : parsedValue;\n        const values = stack && parsed._stacks[scale.axis];\n        if (stack && values) {\n            stack.values = values;\n            value = applyStack(stack, parsedValue, this._cachedMeta.index);\n        }\n        range.min = Math.min(range.min, value);\n        range.max = Math.max(range.max, value);\n    }\n getMinMax(scale, canStack) {\n        const meta = this._cachedMeta;\n        const _parsed = meta._parsed;\n        const sorted = meta._sorted && scale === meta.iScale;\n        const ilen = _parsed.length;\n        const otherScale = this._getOtherScale(scale);\n        const stack = createStack(canStack, meta, this.chart);\n        const range = {\n            min: Number.POSITIVE_INFINITY,\n            max: Number.NEGATIVE_INFINITY\n        };\n        const { min: otherMin , max: otherMax  } = getUserBounds(otherScale);\n        let i, parsed;\n        function _skip() {\n            parsed = _parsed[i];\n            const otherValue = parsed[otherScale.axis];\n            return !isNumberFinite(parsed[scale.axis]) || otherMin > otherValue || otherMax < otherValue;\n        }\n        for(i = 0; i < ilen; ++i){\n            if (_skip()) {\n                continue;\n            }\n            this.updateRangeFromParsed(range, scale, parsed, stack);\n            if (sorted) {\n                break;\n            }\n        }\n        if (sorted) {\n            for(i = ilen - 1; i >= 0; --i){\n                if (_skip()) {\n                    continue;\n                }\n                this.updateRangeFromParsed(range, scale, parsed, stack);\n                break;\n            }\n        }\n        return range;\n    }\n    getAllParsedValues(scale) {\n        const parsed = this._cachedMeta._parsed;\n        const values = [];\n        let i, ilen, value;\n        for(i = 0, ilen = parsed.length; i < ilen; ++i){\n            value = parsed[i][scale.axis];\n            if (isNumberFinite(value)) {\n                values.push(value);\n            }\n        }\n        return values;\n    }\n getMaxOverflow() {\n        return false;\n    }\n getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const iScale = meta.iScale;\n        const vScale = meta.vScale;\n        const parsed = this.getParsed(index);\n        return {\n            label: iScale ? '' + iScale.getLabelForValue(parsed[iScale.axis]) : '',\n            value: vScale ? '' + vScale.getLabelForValue(parsed[vScale.axis]) : ''\n        };\n    }\n _update(mode) {\n        const meta = this._cachedMeta;\n        this.update(mode || 'default');\n        meta._clip = toClip(valueOrDefault(this.options.clip, defaultClip(meta.xScale, meta.yScale, this.getMaxOverflow())));\n    }\n update(mode) {}\n    draw() {\n        const ctx = this._ctx;\n        const chart = this.chart;\n        const meta = this._cachedMeta;\n        const elements = meta.data || [];\n        const area = chart.chartArea;\n        const active = [];\n        const start = this._drawStart || 0;\n        const count = this._drawCount || elements.length - start;\n        const drawActiveElementsOnTop = this.options.drawActiveElementsOnTop;\n        let i;\n        if (meta.dataset) {\n            meta.dataset.draw(ctx, area, start, count);\n        }\n        for(i = start; i < start + count; ++i){\n            const element = elements[i];\n            if (element.hidden) {\n                continue;\n            }\n            if (element.active && drawActiveElementsOnTop) {\n                active.push(element);\n            } else {\n                element.draw(ctx, area);\n            }\n        }\n        for(i = 0; i < active.length; ++i){\n            active[i].draw(ctx, area);\n        }\n    }\n getStyle(index, active) {\n        const mode = active ? 'active' : 'default';\n        return index === undefined && this._cachedMeta.dataset ? this.resolveDatasetElementOptions(mode) : this.resolveDataElementOptions(index || 0, mode);\n    }\n getContext(index, active, mode) {\n        const dataset = this.getDataset();\n        let context;\n        if (index >= 0 && index < this._cachedMeta.data.length) {\n            const element = this._cachedMeta.data[index];\n            context = element.$context || (element.$context = createDataContext(this.getContext(), index, element));\n            context.parsed = this.getParsed(index);\n            context.raw = dataset.data[index];\n            context.index = context.dataIndex = index;\n        } else {\n            context = this.$context || (this.$context = createDatasetContext(this.chart.getContext(), this.index));\n            context.dataset = dataset;\n            context.index = context.datasetIndex = this.index;\n        }\n        context.active = !!active;\n        context.mode = mode;\n        return context;\n    }\n resolveDatasetElementOptions(mode) {\n        return this._resolveElementOptions(this.datasetElementType.id, mode);\n    }\n resolveDataElementOptions(index, mode) {\n        return this._resolveElementOptions(this.dataElementType.id, mode, index);\n    }\n _resolveElementOptions(elementType, mode = 'default', index) {\n        const active = mode === 'active';\n        const cache = this._cachedDataOpts;\n        const cacheKey = elementType + '-' + mode;\n        const cached = cache[cacheKey];\n        const sharing = this.enableOptionSharing && defined(index);\n        if (cached) {\n            return cloneIfNotShared(cached, sharing);\n        }\n        const config = this.chart.config;\n        const scopeKeys = config.datasetElementScopeKeys(this._type, elementType);\n        const prefixes = active ? [\n            `${elementType}Hover`,\n            'hover',\n            elementType,\n            ''\n        ] : [\n            elementType,\n            ''\n        ];\n        const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n        const names = Object.keys(defaults.elements[elementType]);\n        const context = ()=>this.getContext(index, active, mode);\n        const values = config.resolveNamedOptions(scopes, names, context, prefixes);\n        if (values.$shared) {\n            values.$shared = sharing;\n            cache[cacheKey] = Object.freeze(cloneIfNotShared(values, sharing));\n        }\n        return values;\n    }\n _resolveAnimations(index, transition, active) {\n        const chart = this.chart;\n        const cache = this._cachedDataOpts;\n        const cacheKey = `animation-${transition}`;\n        const cached = cache[cacheKey];\n        if (cached) {\n            return cached;\n        }\n        let options;\n        if (chart.options.animation !== false) {\n            const config = this.chart.config;\n            const scopeKeys = config.datasetAnimationScopeKeys(this._type, transition);\n            const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n            options = config.createResolver(scopes, this.getContext(index, active, transition));\n        }\n        const animations = new Animations(chart, options && options.animations);\n        if (options && options._cacheable) {\n            cache[cacheKey] = Object.freeze(animations);\n        }\n        return animations;\n    }\n getSharedOptions(options) {\n        if (!options.$shared) {\n            return;\n        }\n        return this._sharedOptions || (this._sharedOptions = Object.assign({}, options));\n    }\n includeOptions(mode, sharedOptions) {\n        return !sharedOptions || isDirectUpdateMode(mode) || this.chart._animationsDisabled;\n    }\n _getSharedOptions(start, mode) {\n        const firstOpts = this.resolveDataElementOptions(start, mode);\n        const previouslySharedOptions = this._sharedOptions;\n        const sharedOptions = this.getSharedOptions(firstOpts);\n        const includeOptions = this.includeOptions(mode, sharedOptions) || sharedOptions !== previouslySharedOptions;\n        this.updateSharedOptions(sharedOptions, mode, firstOpts);\n        return {\n            sharedOptions,\n            includeOptions\n        };\n    }\n updateElement(element, index, properties, mode) {\n        if (isDirectUpdateMode(mode)) {\n            Object.assign(element, properties);\n        } else {\n            this._resolveAnimations(index, mode).update(element, properties);\n        }\n    }\n updateSharedOptions(sharedOptions, mode, newOptions) {\n        if (sharedOptions && !isDirectUpdateMode(mode)) {\n            this._resolveAnimations(undefined, mode).update(sharedOptions, newOptions);\n        }\n    }\n _setStyle(element, index, mode, active) {\n        element.active = active;\n        const options = this.getStyle(index, active);\n        this._resolveAnimations(index, mode, active).update(element, {\n            options: !active && this.getSharedOptions(options) || options\n        });\n    }\n    removeHoverStyle(element, datasetIndex, index) {\n        this._setStyle(element, index, 'active', false);\n    }\n    setHoverStyle(element, datasetIndex, index) {\n        this._setStyle(element, index, 'active', true);\n    }\n _removeDatasetHoverStyle() {\n        const element = this._cachedMeta.dataset;\n        if (element) {\n            this._setStyle(element, undefined, 'active', false);\n        }\n    }\n _setDatasetHoverStyle() {\n        const element = this._cachedMeta.dataset;\n        if (element) {\n            this._setStyle(element, undefined, 'active', true);\n        }\n    }\n _resyncElements(resetNewElements) {\n        const data = this._data;\n        const elements = this._cachedMeta.data;\n        for (const [method, arg1, arg2] of this._syncList){\n            this[method](arg1, arg2);\n        }\n        this._syncList = [];\n        const numMeta = elements.length;\n        const numData = data.length;\n        const count = Math.min(numData, numMeta);\n        if (count) {\n            this.parse(0, count);\n        }\n        if (numData > numMeta) {\n            this._insertElements(numMeta, numData - numMeta, resetNewElements);\n        } else if (numData < numMeta) {\n            this._removeElements(numData, numMeta - numData);\n        }\n    }\n _insertElements(start, count, resetNewElements = true) {\n        const meta = this._cachedMeta;\n        const data = meta.data;\n        const end = start + count;\n        let i;\n        const move = (arr)=>{\n            arr.length += count;\n            for(i = arr.length - 1; i >= end; i--){\n                arr[i] = arr[i - count];\n            }\n        };\n        move(data);\n        for(i = start; i < end; ++i){\n            data[i] = new this.dataElementType();\n        }\n        if (this._parsing) {\n            move(meta._parsed);\n        }\n        this.parse(start, count);\n        if (resetNewElements) {\n            this.updateElements(data, start, count, 'reset');\n        }\n    }\n    updateElements(element, start, count, mode) {}\n _removeElements(start, count) {\n        const meta = this._cachedMeta;\n        if (this._parsing) {\n            const removed = meta._parsed.splice(start, count);\n            if (meta._stacked) {\n                clearStacks(meta, removed);\n            }\n        }\n        meta.data.splice(start, count);\n    }\n _sync(args) {\n        if (this._parsing) {\n            this._syncList.push(args);\n        } else {\n            const [method, arg1, arg2] = args;\n            this[method](arg1, arg2);\n        }\n        this.chart._dataChanges.push([\n            this.index,\n            ...args\n        ]);\n    }\n    _onDataPush() {\n        const count = arguments.length;\n        this._sync([\n            '_insertElements',\n            this.getDataset().data.length - count,\n            count\n        ]);\n    }\n    _onDataPop() {\n        this._sync([\n            '_removeElements',\n            this._cachedMeta.data.length - 1,\n            1\n        ]);\n    }\n    _onDataShift() {\n        this._sync([\n            '_removeElements',\n            0,\n            1\n        ]);\n    }\n    _onDataSplice(start, count) {\n        if (count) {\n            this._sync([\n                '_removeElements',\n                start,\n                count\n            ]);\n        }\n        const newCount = arguments.length - 2;\n        if (newCount) {\n            this._sync([\n                '_insertElements',\n                start,\n                newCount\n            ]);\n        }\n    }\n    _onDataUnshift() {\n        this._sync([\n            '_insertElements',\n            0,\n            arguments.length\n        ]);\n    }\n}\n\nfunction getAllScaleValues(scale, type) {\n    if (!scale._cache.$bar) {\n        const visibleMetas = scale.getMatchingVisibleMetas(type);\n        let values = [];\n        for(let i = 0, ilen = visibleMetas.length; i < ilen; i++){\n            values = values.concat(visibleMetas[i].controller.getAllParsedValues(scale));\n        }\n        scale._cache.$bar = _arrayUnique(values.sort((a, b)=>a - b));\n    }\n    return scale._cache.$bar;\n}\n function computeMinSampleSize(meta) {\n    const scale = meta.iScale;\n    const values = getAllScaleValues(scale, meta.type);\n    let min = scale._length;\n    let i, ilen, curr, prev;\n    const updateMinAndPrev = ()=>{\n        if (curr === 32767 || curr === -32768) {\n            return;\n        }\n        if (defined(prev)) {\n            min = Math.min(min, Math.abs(curr - prev) || min);\n        }\n        prev = curr;\n    };\n    for(i = 0, ilen = values.length; i < ilen; ++i){\n        curr = scale.getPixelForValue(values[i]);\n        updateMinAndPrev();\n    }\n    prev = undefined;\n    for(i = 0, ilen = scale.ticks.length; i < ilen; ++i){\n        curr = scale.getPixelForTick(i);\n        updateMinAndPrev();\n    }\n    return min;\n}\n function computeFitCategoryTraits(index, ruler, options, stackCount) {\n    const thickness = options.barThickness;\n    let size, ratio;\n    if (isNullOrUndef(thickness)) {\n        size = ruler.min * options.categoryPercentage;\n        ratio = options.barPercentage;\n    } else {\n        size = thickness * stackCount;\n        ratio = 1;\n    }\n    return {\n        chunk: size / stackCount,\n        ratio,\n        start: ruler.pixels[index] - size / 2\n    };\n}\n function computeFlexCategoryTraits(index, ruler, options, stackCount) {\n    const pixels = ruler.pixels;\n    const curr = pixels[index];\n    let prev = index > 0 ? pixels[index - 1] : null;\n    let next = index < pixels.length - 1 ? pixels[index + 1] : null;\n    const percent = options.categoryPercentage;\n    if (prev === null) {\n        prev = curr - (next === null ? ruler.end - ruler.start : next - curr);\n    }\n    if (next === null) {\n        next = curr + curr - prev;\n    }\n    const start = curr - (curr - Math.min(prev, next)) / 2 * percent;\n    const size = Math.abs(next - prev) / 2 * percent;\n    return {\n        chunk: size / stackCount,\n        ratio: options.barPercentage,\n        start\n    };\n}\nfunction parseFloatBar(entry, item, vScale, i) {\n    const startValue = vScale.parse(entry[0], i);\n    const endValue = vScale.parse(entry[1], i);\n    const min = Math.min(startValue, endValue);\n    const max = Math.max(startValue, endValue);\n    let barStart = min;\n    let barEnd = max;\n    if (Math.abs(min) > Math.abs(max)) {\n        barStart = max;\n        barEnd = min;\n    }\n    item[vScale.axis] = barEnd;\n    item._custom = {\n        barStart,\n        barEnd,\n        start: startValue,\n        end: endValue,\n        min,\n        max\n    };\n}\nfunction parseValue(entry, item, vScale, i) {\n    if (isArray(entry)) {\n        parseFloatBar(entry, item, vScale, i);\n    } else {\n        item[vScale.axis] = vScale.parse(entry, i);\n    }\n    return item;\n}\nfunction parseArrayOrPrimitive(meta, data, start, count) {\n    const iScale = meta.iScale;\n    const vScale = meta.vScale;\n    const labels = iScale.getLabels();\n    const singleScale = iScale === vScale;\n    const parsed = [];\n    let i, ilen, item, entry;\n    for(i = start, ilen = start + count; i < ilen; ++i){\n        entry = data[i];\n        item = {};\n        item[iScale.axis] = singleScale || iScale.parse(labels[i], i);\n        parsed.push(parseValue(entry, item, vScale, i));\n    }\n    return parsed;\n}\nfunction isFloatBar(custom) {\n    return custom && custom.barStart !== undefined && custom.barEnd !== undefined;\n}\nfunction barSign(size, vScale, actualBase) {\n    if (size !== 0) {\n        return sign(size);\n    }\n    return (vScale.isHorizontal() ? 1 : -1) * (vScale.min >= actualBase ? 1 : -1);\n}\nfunction borderProps(properties) {\n    let reverse, start, end, top, bottom;\n    if (properties.horizontal) {\n        reverse = properties.base > properties.x;\n        start = 'left';\n        end = 'right';\n    } else {\n        reverse = properties.base < properties.y;\n        start = 'bottom';\n        end = 'top';\n    }\n    if (reverse) {\n        top = 'end';\n        bottom = 'start';\n    } else {\n        top = 'start';\n        bottom = 'end';\n    }\n    return {\n        start,\n        end,\n        reverse,\n        top,\n        bottom\n    };\n}\nfunction setBorderSkipped(properties, options, stack, index) {\n    let edge = options.borderSkipped;\n    const res = {};\n    if (!edge) {\n        properties.borderSkipped = res;\n        return;\n    }\n    if (edge === true) {\n        properties.borderSkipped = {\n            top: true,\n            right: true,\n            bottom: true,\n            left: true\n        };\n        return;\n    }\n    const { start , end , reverse , top , bottom  } = borderProps(properties);\n    if (edge === 'middle' && stack) {\n        properties.enableBorderRadius = true;\n        if ((stack._top || 0) === index) {\n            edge = top;\n        } else if ((stack._bottom || 0) === index) {\n            edge = bottom;\n        } else {\n            res[parseEdge(bottom, start, end, reverse)] = true;\n            edge = top;\n        }\n    }\n    res[parseEdge(edge, start, end, reverse)] = true;\n    properties.borderSkipped = res;\n}\nfunction parseEdge(edge, a, b, reverse) {\n    if (reverse) {\n        edge = swap(edge, a, b);\n        edge = startEnd(edge, b, a);\n    } else {\n        edge = startEnd(edge, a, b);\n    }\n    return edge;\n}\nfunction swap(orig, v1, v2) {\n    return orig === v1 ? v2 : orig === v2 ? v1 : orig;\n}\nfunction startEnd(v, start, end) {\n    return v === 'start' ? start : v === 'end' ? end : v;\n}\nfunction setInflateAmount(properties, { inflateAmount  }, ratio) {\n    properties.inflateAmount = inflateAmount === 'auto' ? ratio === 1 ? 0.33 : 0 : inflateAmount;\n}\nclass BarController extends DatasetController {\n    static id = 'bar';\n static defaults = {\n        datasetElementType: false,\n        dataElementType: 'bar',\n        categoryPercentage: 0.8,\n        barPercentage: 0.9,\n        grouped: true,\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'x',\n                    'y',\n                    'base',\n                    'width',\n                    'height'\n                ]\n            }\n        }\n    };\n static overrides = {\n        scales: {\n            _index_: {\n                type: 'category',\n                offset: true,\n                grid: {\n                    offset: true\n                }\n            },\n            _value_: {\n                type: 'linear',\n                beginAtZero: true\n            }\n        }\n    };\n parsePrimitiveData(meta, data, start, count) {\n        return parseArrayOrPrimitive(meta, data, start, count);\n    }\n parseArrayData(meta, data, start, count) {\n        return parseArrayOrPrimitive(meta, data, start, count);\n    }\n parseObjectData(meta, data, start, count) {\n        const { iScale , vScale  } = meta;\n        const { xAxisKey ='x' , yAxisKey ='y'  } = this._parsing;\n        const iAxisKey = iScale.axis === 'x' ? xAxisKey : yAxisKey;\n        const vAxisKey = vScale.axis === 'x' ? xAxisKey : yAxisKey;\n        const parsed = [];\n        let i, ilen, item, obj;\n        for(i = start, ilen = start + count; i < ilen; ++i){\n            obj = data[i];\n            item = {};\n            item[iScale.axis] = iScale.parse(resolveObjectKey(obj, iAxisKey), i);\n            parsed.push(parseValue(resolveObjectKey(obj, vAxisKey), item, vScale, i));\n        }\n        return parsed;\n    }\n updateRangeFromParsed(range, scale, parsed, stack) {\n        super.updateRangeFromParsed(range, scale, parsed, stack);\n        const custom = parsed._custom;\n        if (custom && scale === this._cachedMeta.vScale) {\n            range.min = Math.min(range.min, custom.min);\n            range.max = Math.max(range.max, custom.max);\n        }\n    }\n getMaxOverflow() {\n        return 0;\n    }\n getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const { iScale , vScale  } = meta;\n        const parsed = this.getParsed(index);\n        const custom = parsed._custom;\n        const value = isFloatBar(custom) ? '[' + custom.start + ', ' + custom.end + ']' : '' + vScale.getLabelForValue(parsed[vScale.axis]);\n        return {\n            label: '' + iScale.getLabelForValue(parsed[iScale.axis]),\n            value\n        };\n    }\n    initialize() {\n        this.enableOptionSharing = true;\n        super.initialize();\n        const meta = this._cachedMeta;\n        meta.stack = this.getDataset().stack;\n    }\n    update(mode) {\n        const meta = this._cachedMeta;\n        this.updateElements(meta.data, 0, meta.data.length, mode);\n    }\n    updateElements(bars, start, count, mode) {\n        const reset = mode === 'reset';\n        const { index , _cachedMeta: { vScale  }  } = this;\n        const base = vScale.getBasePixel();\n        const horizontal = vScale.isHorizontal();\n        const ruler = this._getRuler();\n        const { sharedOptions , includeOptions  } = this._getSharedOptions(start, mode);\n        for(let i = start; i < start + count; i++){\n            const parsed = this.getParsed(i);\n            const vpixels = reset || isNullOrUndef(parsed[vScale.axis]) ? {\n                base,\n                head: base\n            } : this._calculateBarValuePixels(i);\n            const ipixels = this._calculateBarIndexPixels(i, ruler);\n            const stack = (parsed._stacks || {})[vScale.axis];\n            const properties = {\n                horizontal,\n                base: vpixels.base,\n                enableBorderRadius: !stack || isFloatBar(parsed._custom) || index === stack._top || index === stack._bottom,\n                x: horizontal ? vpixels.head : ipixels.center,\n                y: horizontal ? ipixels.center : vpixels.head,\n                height: horizontal ? ipixels.size : Math.abs(vpixels.size),\n                width: horizontal ? Math.abs(vpixels.size) : ipixels.size\n            };\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, bars[i].active ? 'active' : mode);\n            }\n            const options = properties.options || bars[i].options;\n            setBorderSkipped(properties, options, stack, index);\n            setInflateAmount(properties, options, ruler.ratio);\n            this.updateElement(bars[i], i, properties, mode);\n        }\n    }\n _getStacks(last, dataIndex) {\n        const { iScale  } = this._cachedMeta;\n        const metasets = iScale.getMatchingVisibleMetas(this._type).filter((meta)=>meta.controller.options.grouped);\n        const stacked = iScale.options.stacked;\n        const stacks = [];\n        const skipNull = (meta)=>{\n            const parsed = meta.controller.getParsed(dataIndex);\n            const val = parsed && parsed[meta.vScale.axis];\n            if (isNullOrUndef(val) || isNaN(val)) {\n                return true;\n            }\n        };\n        for (const meta of metasets){\n            if (dataIndex !== undefined && skipNull(meta)) {\n                continue;\n            }\n            if (stacked === false || stacks.indexOf(meta.stack) === -1 || stacked === undefined && meta.stack === undefined) {\n                stacks.push(meta.stack);\n            }\n            if (meta.index === last) {\n                break;\n            }\n        }\n        if (!stacks.length) {\n            stacks.push(undefined);\n        }\n        return stacks;\n    }\n _getStackCount(index) {\n        return this._getStacks(undefined, index).length;\n    }\n _getStackIndex(datasetIndex, name, dataIndex) {\n        const stacks = this._getStacks(datasetIndex, dataIndex);\n        const index = name !== undefined ? stacks.indexOf(name) : -1;\n        return index === -1 ? stacks.length - 1 : index;\n    }\n _getRuler() {\n        const opts = this.options;\n        const meta = this._cachedMeta;\n        const iScale = meta.iScale;\n        const pixels = [];\n        let i, ilen;\n        for(i = 0, ilen = meta.data.length; i < ilen; ++i){\n            pixels.push(iScale.getPixelForValue(this.getParsed(i)[iScale.axis], i));\n        }\n        const barThickness = opts.barThickness;\n        const min = barThickness || computeMinSampleSize(meta);\n        return {\n            min,\n            pixels,\n            start: iScale._startPixel,\n            end: iScale._endPixel,\n            stackCount: this._getStackCount(),\n            scale: iScale,\n            grouped: opts.grouped,\n            ratio: barThickness ? 1 : opts.categoryPercentage * opts.barPercentage\n        };\n    }\n _calculateBarValuePixels(index) {\n        const { _cachedMeta: { vScale , _stacked , index: datasetIndex  } , options: { base: baseValue , minBarLength  }  } = this;\n        const actualBase = baseValue || 0;\n        const parsed = this.getParsed(index);\n        const custom = parsed._custom;\n        const floating = isFloatBar(custom);\n        let value = parsed[vScale.axis];\n        let start = 0;\n        let length = _stacked ? this.applyStack(vScale, parsed, _stacked) : value;\n        let head, size;\n        if (length !== value) {\n            start = length - value;\n            length = value;\n        }\n        if (floating) {\n            value = custom.barStart;\n            length = custom.barEnd - custom.barStart;\n            if (value !== 0 && sign(value) !== sign(custom.barEnd)) {\n                start = 0;\n            }\n            start += value;\n        }\n        const startValue = !isNullOrUndef(baseValue) && !floating ? baseValue : start;\n        let base = vScale.getPixelForValue(startValue);\n        if (this.chart.getDataVisibility(index)) {\n            head = vScale.getPixelForValue(start + length);\n        } else {\n            head = base;\n        }\n        size = head - base;\n        if (Math.abs(size) < minBarLength) {\n            size = barSign(size, vScale, actualBase) * minBarLength;\n            if (value === actualBase) {\n                base -= size / 2;\n            }\n            const startPixel = vScale.getPixelForDecimal(0);\n            const endPixel = vScale.getPixelForDecimal(1);\n            const min = Math.min(startPixel, endPixel);\n            const max = Math.max(startPixel, endPixel);\n            base = Math.max(Math.min(base, max), min);\n            head = base + size;\n            if (_stacked && !floating) {\n                parsed._stacks[vScale.axis]._visualValues[datasetIndex] = vScale.getValueForPixel(head) - vScale.getValueForPixel(base);\n            }\n        }\n        if (base === vScale.getPixelForValue(actualBase)) {\n            const halfGrid = sign(size) * vScale.getLineWidthForValue(actualBase) / 2;\n            base += halfGrid;\n            size -= halfGrid;\n        }\n        return {\n            size,\n            base,\n            head,\n            center: head + size / 2\n        };\n    }\n _calculateBarIndexPixels(index, ruler) {\n        const scale = ruler.scale;\n        const options = this.options;\n        const skipNull = options.skipNull;\n        const maxBarThickness = valueOrDefault(options.maxBarThickness, Infinity);\n        let center, size;\n        if (ruler.grouped) {\n            const stackCount = skipNull ? this._getStackCount(index) : ruler.stackCount;\n            const range = options.barThickness === 'flex' ? computeFlexCategoryTraits(index, ruler, options, stackCount) : computeFitCategoryTraits(index, ruler, options, stackCount);\n            const stackIndex = this._getStackIndex(this.index, this._cachedMeta.stack, skipNull ? index : undefined);\n            center = range.start + range.chunk * stackIndex + range.chunk / 2;\n            size = Math.min(maxBarThickness, range.chunk * range.ratio);\n        } else {\n            center = scale.getPixelForValue(this.getParsed(index)[scale.axis], index);\n            size = Math.min(maxBarThickness, ruler.min * ruler.ratio);\n        }\n        return {\n            base: center - size / 2,\n            head: center + size / 2,\n            center,\n            size\n        };\n    }\n    draw() {\n        const meta = this._cachedMeta;\n        const vScale = meta.vScale;\n        const rects = meta.data;\n        const ilen = rects.length;\n        let i = 0;\n        for(; i < ilen; ++i){\n            if (this.getParsed(i)[vScale.axis] !== null) {\n                rects[i].draw(this._ctx);\n            }\n        }\n    }\n}\n\nclass BubbleController extends DatasetController {\n    static id = 'bubble';\n static defaults = {\n        datasetElementType: false,\n        dataElementType: 'point',\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'x',\n                    'y',\n                    'borderWidth',\n                    'radius'\n                ]\n            }\n        }\n    };\n static overrides = {\n        scales: {\n            x: {\n                type: 'linear'\n            },\n            y: {\n                type: 'linear'\n            }\n        }\n    };\n    initialize() {\n        this.enableOptionSharing = true;\n        super.initialize();\n    }\n parsePrimitiveData(meta, data, start, count) {\n        const parsed = super.parsePrimitiveData(meta, data, start, count);\n        for(let i = 0; i < parsed.length; i++){\n            parsed[i]._custom = this.resolveDataElementOptions(i + start).radius;\n        }\n        return parsed;\n    }\n parseArrayData(meta, data, start, count) {\n        const parsed = super.parseArrayData(meta, data, start, count);\n        for(let i = 0; i < parsed.length; i++){\n            const item = data[start + i];\n            parsed[i]._custom = valueOrDefault(item[2], this.resolveDataElementOptions(i + start).radius);\n        }\n        return parsed;\n    }\n parseObjectData(meta, data, start, count) {\n        const parsed = super.parseObjectData(meta, data, start, count);\n        for(let i = 0; i < parsed.length; i++){\n            const item = data[start + i];\n            parsed[i]._custom = valueOrDefault(item && item.r && +item.r, this.resolveDataElementOptions(i + start).radius);\n        }\n        return parsed;\n    }\n getMaxOverflow() {\n        const data = this._cachedMeta.data;\n        let max = 0;\n        for(let i = data.length - 1; i >= 0; --i){\n            max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n        }\n        return max > 0 && max;\n    }\n getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const labels = this.chart.data.labels || [];\n        const { xScale , yScale  } = meta;\n        const parsed = this.getParsed(index);\n        const x = xScale.getLabelForValue(parsed.x);\n        const y = yScale.getLabelForValue(parsed.y);\n        const r = parsed._custom;\n        return {\n            label: labels[index] || '',\n            value: '(' + x + ', ' + y + (r ? ', ' + r : '') + ')'\n        };\n    }\n    update(mode) {\n        const points = this._cachedMeta.data;\n        this.updateElements(points, 0, points.length, mode);\n    }\n    updateElements(points, start, count, mode) {\n        const reset = mode === 'reset';\n        const { iScale , vScale  } = this._cachedMeta;\n        const { sharedOptions , includeOptions  } = this._getSharedOptions(start, mode);\n        const iAxis = iScale.axis;\n        const vAxis = vScale.axis;\n        for(let i = start; i < start + count; i++){\n            const point = points[i];\n            const parsed = !reset && this.getParsed(i);\n            const properties = {};\n            const iPixel = properties[iAxis] = reset ? iScale.getPixelForDecimal(0.5) : iScale.getPixelForValue(parsed[iAxis]);\n            const vPixel = properties[vAxis] = reset ? vScale.getBasePixel() : vScale.getPixelForValue(parsed[vAxis]);\n            properties.skip = isNaN(iPixel) || isNaN(vPixel);\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n                if (reset) {\n                    properties.options.radius = 0;\n                }\n            }\n            this.updateElement(point, i, properties, mode);\n        }\n    }\n resolveDataElementOptions(index, mode) {\n        const parsed = this.getParsed(index);\n        let values = super.resolveDataElementOptions(index, mode);\n        if (values.$shared) {\n            values = Object.assign({}, values, {\n                $shared: false\n            });\n        }\n        const radius = values.radius;\n        if (mode !== 'active') {\n            values.radius = 0;\n        }\n        values.radius += valueOrDefault(parsed && parsed._custom, radius);\n        return values;\n    }\n}\n\nfunction getRatioAndOffset(rotation, circumference, cutout) {\n    let ratioX = 1;\n    let ratioY = 1;\n    let offsetX = 0;\n    let offsetY = 0;\n    if (circumference < TAU) {\n        const startAngle = rotation;\n        const endAngle = startAngle + circumference;\n        const startX = Math.cos(startAngle);\n        const startY = Math.sin(startAngle);\n        const endX = Math.cos(endAngle);\n        const endY = Math.sin(endAngle);\n        const calcMax = (angle, a, b)=>_angleBetween(angle, startAngle, endAngle, true) ? 1 : Math.max(a, a * cutout, b, b * cutout);\n        const calcMin = (angle, a, b)=>_angleBetween(angle, startAngle, endAngle, true) ? -1 : Math.min(a, a * cutout, b, b * cutout);\n        const maxX = calcMax(0, startX, endX);\n        const maxY = calcMax(HALF_PI, startY, endY);\n        const minX = calcMin(PI, startX, endX);\n        const minY = calcMin(PI + HALF_PI, startY, endY);\n        ratioX = (maxX - minX) / 2;\n        ratioY = (maxY - minY) / 2;\n        offsetX = -(maxX + minX) / 2;\n        offsetY = -(maxY + minY) / 2;\n    }\n    return {\n        ratioX,\n        ratioY,\n        offsetX,\n        offsetY\n    };\n}\nclass DoughnutController extends DatasetController {\n    static id = 'doughnut';\n static defaults = {\n        datasetElementType: false,\n        dataElementType: 'arc',\n        animation: {\n            animateRotate: true,\n            animateScale: false\n        },\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'circumference',\n                    'endAngle',\n                    'innerRadius',\n                    'outerRadius',\n                    'startAngle',\n                    'x',\n                    'y',\n                    'offset',\n                    'borderWidth',\n                    'spacing'\n                ]\n            }\n        },\n        cutout: '50%',\n        rotation: 0,\n        circumference: 360,\n        radius: '100%',\n        spacing: 0,\n        indexAxis: 'r'\n    };\n    static descriptors = {\n        _scriptable: (name)=>name !== 'spacing',\n        _indexable: (name)=>name !== 'spacing' && !name.startsWith('borderDash') && !name.startsWith('hoverBorderDash')\n    };\n static overrides = {\n        aspectRatio: 1,\n        plugins: {\n            legend: {\n                labels: {\n                    generateLabels (chart) {\n                        const data = chart.data;\n                        if (data.labels.length && data.datasets.length) {\n                            const { labels: { pointStyle , color  }  } = chart.legend.options;\n                            return data.labels.map((label, i)=>{\n                                const meta = chart.getDatasetMeta(0);\n                                const style = meta.controller.getStyle(i);\n                                return {\n                                    text: label,\n                                    fillStyle: style.backgroundColor,\n                                    strokeStyle: style.borderColor,\n                                    fontColor: color,\n                                    lineWidth: style.borderWidth,\n                                    pointStyle: pointStyle,\n                                    hidden: !chart.getDataVisibility(i),\n                                    index: i\n                                };\n                            });\n                        }\n                        return [];\n                    }\n                },\n                onClick (e, legendItem, legend) {\n                    legend.chart.toggleDataVisibility(legendItem.index);\n                    legend.chart.update();\n                }\n            }\n        }\n    };\n    constructor(chart, datasetIndex){\n        super(chart, datasetIndex);\n        this.enableOptionSharing = true;\n        this.innerRadius = undefined;\n        this.outerRadius = undefined;\n        this.offsetX = undefined;\n        this.offsetY = undefined;\n    }\n    linkScales() {}\n parse(start, count) {\n        const data = this.getDataset().data;\n        const meta = this._cachedMeta;\n        if (this._parsing === false) {\n            meta._parsed = data;\n        } else {\n            let getter = (i)=>+data[i];\n            if (isObject(data[start])) {\n                const { key ='value'  } = this._parsing;\n                getter = (i)=>+resolveObjectKey(data[i], key);\n            }\n            let i, ilen;\n            for(i = start, ilen = start + count; i < ilen; ++i){\n                meta._parsed[i] = getter(i);\n            }\n        }\n    }\n _getRotation() {\n        return toRadians(this.options.rotation - 90);\n    }\n _getCircumference() {\n        return toRadians(this.options.circumference);\n    }\n _getRotationExtents() {\n        let min = TAU;\n        let max = -TAU;\n        for(let i = 0; i < this.chart.data.datasets.length; ++i){\n            if (this.chart.isDatasetVisible(i) && this.chart.getDatasetMeta(i).type === this._type) {\n                const controller = this.chart.getDatasetMeta(i).controller;\n                const rotation = controller._getRotation();\n                const circumference = controller._getCircumference();\n                min = Math.min(min, rotation);\n                max = Math.max(max, rotation + circumference);\n            }\n        }\n        return {\n            rotation: min,\n            circumference: max - min\n        };\n    }\n update(mode) {\n        const chart = this.chart;\n        const { chartArea  } = chart;\n        const meta = this._cachedMeta;\n        const arcs = meta.data;\n        const spacing = this.getMaxBorderWidth() + this.getMaxOffset(arcs) + this.options.spacing;\n        const maxSize = Math.max((Math.min(chartArea.width, chartArea.height) - spacing) / 2, 0);\n        const cutout = Math.min(toPercentage(this.options.cutout, maxSize), 1);\n        const chartWeight = this._getRingWeight(this.index);\n        const { circumference , rotation  } = this._getRotationExtents();\n        const { ratioX , ratioY , offsetX , offsetY  } = getRatioAndOffset(rotation, circumference, cutout);\n        const maxWidth = (chartArea.width - spacing) / ratioX;\n        const maxHeight = (chartArea.height - spacing) / ratioY;\n        const maxRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0);\n        const outerRadius = toDimension(this.options.radius, maxRadius);\n        const innerRadius = Math.max(outerRadius * cutout, 0);\n        const radiusLength = (outerRadius - innerRadius) / this._getVisibleDatasetWeightTotal();\n        this.offsetX = offsetX * outerRadius;\n        this.offsetY = offsetY * outerRadius;\n        meta.total = this.calculateTotal();\n        this.outerRadius = outerRadius - radiusLength * this._getRingWeightOffset(this.index);\n        this.innerRadius = Math.max(this.outerRadius - radiusLength * chartWeight, 0);\n        this.updateElements(arcs, 0, arcs.length, mode);\n    }\n _circumference(i, reset) {\n        const opts = this.options;\n        const meta = this._cachedMeta;\n        const circumference = this._getCircumference();\n        if (reset && opts.animation.animateRotate || !this.chart.getDataVisibility(i) || meta._parsed[i] === null || meta.data[i].hidden) {\n            return 0;\n        }\n        return this.calculateCircumference(meta._parsed[i] * circumference / TAU);\n    }\n    updateElements(arcs, start, count, mode) {\n        const reset = mode === 'reset';\n        const chart = this.chart;\n        const chartArea = chart.chartArea;\n        const opts = chart.options;\n        const animationOpts = opts.animation;\n        const centerX = (chartArea.left + chartArea.right) / 2;\n        const centerY = (chartArea.top + chartArea.bottom) / 2;\n        const animateScale = reset && animationOpts.animateScale;\n        const innerRadius = animateScale ? 0 : this.innerRadius;\n        const outerRadius = animateScale ? 0 : this.outerRadius;\n        const { sharedOptions , includeOptions  } = this._getSharedOptions(start, mode);\n        let startAngle = this._getRotation();\n        let i;\n        for(i = 0; i < start; ++i){\n            startAngle += this._circumference(i, reset);\n        }\n        for(i = start; i < start + count; ++i){\n            const circumference = this._circumference(i, reset);\n            const arc = arcs[i];\n            const properties = {\n                x: centerX + this.offsetX,\n                y: centerY + this.offsetY,\n                startAngle,\n                endAngle: startAngle + circumference,\n                circumference,\n                outerRadius,\n                innerRadius\n            };\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, arc.active ? 'active' : mode);\n            }\n            startAngle += circumference;\n            this.updateElement(arc, i, properties, mode);\n        }\n    }\n    calculateTotal() {\n        const meta = this._cachedMeta;\n        const metaData = meta.data;\n        let total = 0;\n        let i;\n        for(i = 0; i < metaData.length; i++){\n            const value = meta._parsed[i];\n            if (value !== null && !isNaN(value) && this.chart.getDataVisibility(i) && !metaData[i].hidden) {\n                total += Math.abs(value);\n            }\n        }\n        return total;\n    }\n    calculateCircumference(value) {\n        const total = this._cachedMeta.total;\n        if (total > 0 && !isNaN(value)) {\n            return TAU * (Math.abs(value) / total);\n        }\n        return 0;\n    }\n    getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const chart = this.chart;\n        const labels = chart.data.labels || [];\n        const value = formatNumber(meta._parsed[index], chart.options.locale);\n        return {\n            label: labels[index] || '',\n            value\n        };\n    }\n    getMaxBorderWidth(arcs) {\n        let max = 0;\n        const chart = this.chart;\n        let i, ilen, meta, controller, options;\n        if (!arcs) {\n            for(i = 0, ilen = chart.data.datasets.length; i < ilen; ++i){\n                if (chart.isDatasetVisible(i)) {\n                    meta = chart.getDatasetMeta(i);\n                    arcs = meta.data;\n                    controller = meta.controller;\n                    break;\n                }\n            }\n        }\n        if (!arcs) {\n            return 0;\n        }\n        for(i = 0, ilen = arcs.length; i < ilen; ++i){\n            options = controller.resolveDataElementOptions(i);\n            if (options.borderAlign !== 'inner') {\n                max = Math.max(max, options.borderWidth || 0, options.hoverBorderWidth || 0);\n            }\n        }\n        return max;\n    }\n    getMaxOffset(arcs) {\n        let max = 0;\n        for(let i = 0, ilen = arcs.length; i < ilen; ++i){\n            const options = this.resolveDataElementOptions(i);\n            max = Math.max(max, options.offset || 0, options.hoverOffset || 0);\n        }\n        return max;\n    }\n _getRingWeightOffset(datasetIndex) {\n        let ringWeightOffset = 0;\n        for(let i = 0; i < datasetIndex; ++i){\n            if (this.chart.isDatasetVisible(i)) {\n                ringWeightOffset += this._getRingWeight(i);\n            }\n        }\n        return ringWeightOffset;\n    }\n _getRingWeight(datasetIndex) {\n        return Math.max(valueOrDefault(this.chart.data.datasets[datasetIndex].weight, 1), 0);\n    }\n _getVisibleDatasetWeightTotal() {\n        return this._getRingWeightOffset(this.chart.data.datasets.length) || 1;\n    }\n}\n\nclass LineController extends DatasetController {\n    static id = 'line';\n static defaults = {\n        datasetElementType: 'line',\n        dataElementType: 'point',\n        showLine: true,\n        spanGaps: false\n    };\n static overrides = {\n        scales: {\n            _index_: {\n                type: 'category'\n            },\n            _value_: {\n                type: 'linear'\n            }\n        }\n    };\n    initialize() {\n        this.enableOptionSharing = true;\n        this.supportsDecimation = true;\n        super.initialize();\n    }\n    update(mode) {\n        const meta = this._cachedMeta;\n        const { dataset: line , data: points = [] , _dataset  } = meta;\n        const animationsDisabled = this.chart._animationsDisabled;\n        let { start , count  } = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n        this._drawStart = start;\n        this._drawCount = count;\n        if (_scaleRangesChanged(meta)) {\n            start = 0;\n            count = points.length;\n        }\n        line._chart = this.chart;\n        line._datasetIndex = this.index;\n        line._decimated = !!_dataset._decimated;\n        line.points = points;\n        const options = this.resolveDatasetElementOptions(mode);\n        if (!this.options.showLine) {\n            options.borderWidth = 0;\n        }\n        options.segment = this.options.segment;\n        this.updateElement(line, undefined, {\n            animated: !animationsDisabled,\n            options\n        }, mode);\n        this.updateElements(points, start, count, mode);\n    }\n    updateElements(points, start, count, mode) {\n        const reset = mode === 'reset';\n        const { iScale , vScale , _stacked , _dataset  } = this._cachedMeta;\n        const { sharedOptions , includeOptions  } = this._getSharedOptions(start, mode);\n        const iAxis = iScale.axis;\n        const vAxis = vScale.axis;\n        const { spanGaps , segment  } = this.options;\n        const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n        const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n        const end = start + count;\n        const pointsCount = points.length;\n        let prevParsed = start > 0 && this.getParsed(start - 1);\n        for(let i = 0; i < pointsCount; ++i){\n            const point = points[i];\n            const properties = directUpdate ? point : {};\n            if (i < start || i >= end) {\n                properties.skip = true;\n                continue;\n            }\n            const parsed = this.getParsed(i);\n            const nullData = isNullOrUndef(parsed[vAxis]);\n            const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n            const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n            properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n            properties.stop = i > 0 && Math.abs(parsed[iAxis] - prevParsed[iAxis]) > maxGapLength;\n            if (segment) {\n                properties.parsed = parsed;\n                properties.raw = _dataset.data[i];\n            }\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n            }\n            if (!directUpdate) {\n                this.updateElement(point, i, properties, mode);\n            }\n            prevParsed = parsed;\n        }\n    }\n getMaxOverflow() {\n        const meta = this._cachedMeta;\n        const dataset = meta.dataset;\n        const border = dataset.options && dataset.options.borderWidth || 0;\n        const data = meta.data || [];\n        if (!data.length) {\n            return border;\n        }\n        const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n        const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n        return Math.max(border, firstPoint, lastPoint) / 2;\n    }\n    draw() {\n        const meta = this._cachedMeta;\n        meta.dataset.updateControlPoints(this.chart.chartArea, meta.iScale.axis);\n        super.draw();\n    }\n}\n\nclass PolarAreaController extends DatasetController {\n    static id = 'polarArea';\n static defaults = {\n        dataElementType: 'arc',\n        animation: {\n            animateRotate: true,\n            animateScale: true\n        },\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'x',\n                    'y',\n                    'startAngle',\n                    'endAngle',\n                    'innerRadius',\n                    'outerRadius'\n                ]\n            }\n        },\n        indexAxis: 'r',\n        startAngle: 0\n    };\n static overrides = {\n        aspectRatio: 1,\n        plugins: {\n            legend: {\n                labels: {\n                    generateLabels (chart) {\n                        const data = chart.data;\n                        if (data.labels.length && data.datasets.length) {\n                            const { labels: { pointStyle , color  }  } = chart.legend.options;\n                            return data.labels.map((label, i)=>{\n                                const meta = chart.getDatasetMeta(0);\n                                const style = meta.controller.getStyle(i);\n                                return {\n                                    text: label,\n                                    fillStyle: style.backgroundColor,\n                                    strokeStyle: style.borderColor,\n                                    fontColor: color,\n                                    lineWidth: style.borderWidth,\n                                    pointStyle: pointStyle,\n                                    hidden: !chart.getDataVisibility(i),\n                                    index: i\n                                };\n                            });\n                        }\n                        return [];\n                    }\n                },\n                onClick (e, legendItem, legend) {\n                    legend.chart.toggleDataVisibility(legendItem.index);\n                    legend.chart.update();\n                }\n            }\n        },\n        scales: {\n            r: {\n                type: 'radialLinear',\n                angleLines: {\n                    display: false\n                },\n                beginAtZero: true,\n                grid: {\n                    circular: true\n                },\n                pointLabels: {\n                    display: false\n                },\n                startAngle: 0\n            }\n        }\n    };\n    constructor(chart, datasetIndex){\n        super(chart, datasetIndex);\n        this.innerRadius = undefined;\n        this.outerRadius = undefined;\n    }\n    getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const chart = this.chart;\n        const labels = chart.data.labels || [];\n        const value = formatNumber(meta._parsed[index].r, chart.options.locale);\n        return {\n            label: labels[index] || '',\n            value\n        };\n    }\n    parseObjectData(meta, data, start, count) {\n        return _parseObjectDataRadialScale.bind(this)(meta, data, start, count);\n    }\n    update(mode) {\n        const arcs = this._cachedMeta.data;\n        this._updateRadius();\n        this.updateElements(arcs, 0, arcs.length, mode);\n    }\n getMinMax() {\n        const meta = this._cachedMeta;\n        const range = {\n            min: Number.POSITIVE_INFINITY,\n            max: Number.NEGATIVE_INFINITY\n        };\n        meta.data.forEach((element, index)=>{\n            const parsed = this.getParsed(index).r;\n            if (!isNaN(parsed) && this.chart.getDataVisibility(index)) {\n                if (parsed < range.min) {\n                    range.min = parsed;\n                }\n                if (parsed > range.max) {\n                    range.max = parsed;\n                }\n            }\n        });\n        return range;\n    }\n _updateRadius() {\n        const chart = this.chart;\n        const chartArea = chart.chartArea;\n        const opts = chart.options;\n        const minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\n        const outerRadius = Math.max(minSize / 2, 0);\n        const innerRadius = Math.max(opts.cutoutPercentage ? outerRadius / 100 * opts.cutoutPercentage : 1, 0);\n        const radiusLength = (outerRadius - innerRadius) / chart.getVisibleDatasetCount();\n        this.outerRadius = outerRadius - radiusLength * this.index;\n        this.innerRadius = this.outerRadius - radiusLength;\n    }\n    updateElements(arcs, start, count, mode) {\n        const reset = mode === 'reset';\n        const chart = this.chart;\n        const opts = chart.options;\n        const animationOpts = opts.animation;\n        const scale = this._cachedMeta.rScale;\n        const centerX = scale.xCenter;\n        const centerY = scale.yCenter;\n        const datasetStartAngle = scale.getIndexAngle(0) - 0.5 * PI;\n        let angle = datasetStartAngle;\n        let i;\n        const defaultAngle = 360 / this.countVisibleElements();\n        for(i = 0; i < start; ++i){\n            angle += this._computeAngle(i, mode, defaultAngle);\n        }\n        for(i = start; i < start + count; i++){\n            const arc = arcs[i];\n            let startAngle = angle;\n            let endAngle = angle + this._computeAngle(i, mode, defaultAngle);\n            let outerRadius = chart.getDataVisibility(i) ? scale.getDistanceFromCenterForValue(this.getParsed(i).r) : 0;\n            angle = endAngle;\n            if (reset) {\n                if (animationOpts.animateScale) {\n                    outerRadius = 0;\n                }\n                if (animationOpts.animateRotate) {\n                    startAngle = endAngle = datasetStartAngle;\n                }\n            }\n            const properties = {\n                x: centerX,\n                y: centerY,\n                innerRadius: 0,\n                outerRadius,\n                startAngle,\n                endAngle,\n                options: this.resolveDataElementOptions(i, arc.active ? 'active' : mode)\n            };\n            this.updateElement(arc, i, properties, mode);\n        }\n    }\n    countVisibleElements() {\n        const meta = this._cachedMeta;\n        let count = 0;\n        meta.data.forEach((element, index)=>{\n            if (!isNaN(this.getParsed(index).r) && this.chart.getDataVisibility(index)) {\n                count++;\n            }\n        });\n        return count;\n    }\n _computeAngle(index, mode, defaultAngle) {\n        return this.chart.getDataVisibility(index) ? toRadians(this.resolveDataElementOptions(index, mode).angle || defaultAngle) : 0;\n    }\n}\n\nclass PieController extends DoughnutController {\n    static id = 'pie';\n static defaults = {\n        cutout: 0,\n        rotation: 0,\n        circumference: 360,\n        radius: '100%'\n    };\n}\n\nclass RadarController extends DatasetController {\n    static id = 'radar';\n static defaults = {\n        datasetElementType: 'line',\n        dataElementType: 'point',\n        indexAxis: 'r',\n        showLine: true,\n        elements: {\n            line: {\n                fill: 'start'\n            }\n        }\n    };\n static overrides = {\n        aspectRatio: 1,\n        scales: {\n            r: {\n                type: 'radialLinear'\n            }\n        }\n    };\n getLabelAndValue(index) {\n        const vScale = this._cachedMeta.vScale;\n        const parsed = this.getParsed(index);\n        return {\n            label: vScale.getLabels()[index],\n            value: '' + vScale.getLabelForValue(parsed[vScale.axis])\n        };\n    }\n    parseObjectData(meta, data, start, count) {\n        return _parseObjectDataRadialScale.bind(this)(meta, data, start, count);\n    }\n    update(mode) {\n        const meta = this._cachedMeta;\n        const line = meta.dataset;\n        const points = meta.data || [];\n        const labels = meta.iScale.getLabels();\n        line.points = points;\n        if (mode !== 'resize') {\n            const options = this.resolveDatasetElementOptions(mode);\n            if (!this.options.showLine) {\n                options.borderWidth = 0;\n            }\n            const properties = {\n                _loop: true,\n                _fullLoop: labels.length === points.length,\n                options\n            };\n            this.updateElement(line, undefined, properties, mode);\n        }\n        this.updateElements(points, 0, points.length, mode);\n    }\n    updateElements(points, start, count, mode) {\n        const scale = this._cachedMeta.rScale;\n        const reset = mode === 'reset';\n        for(let i = start; i < start + count; i++){\n            const point = points[i];\n            const options = this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n            const pointPosition = scale.getPointPositionForValue(i, this.getParsed(i).r);\n            const x = reset ? scale.xCenter : pointPosition.x;\n            const y = reset ? scale.yCenter : pointPosition.y;\n            const properties = {\n                x,\n                y,\n                angle: pointPosition.angle,\n                skip: isNaN(x) || isNaN(y),\n                options\n            };\n            this.updateElement(point, i, properties, mode);\n        }\n    }\n}\n\nclass ScatterController extends DatasetController {\n    static id = 'scatter';\n static defaults = {\n        datasetElementType: false,\n        dataElementType: 'point',\n        showLine: false,\n        fill: false\n    };\n static overrides = {\n        interaction: {\n            mode: 'point'\n        },\n        scales: {\n            x: {\n                type: 'linear'\n            },\n            y: {\n                type: 'linear'\n            }\n        }\n    };\n getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const labels = this.chart.data.labels || [];\n        const { xScale , yScale  } = meta;\n        const parsed = this.getParsed(index);\n        const x = xScale.getLabelForValue(parsed.x);\n        const y = yScale.getLabelForValue(parsed.y);\n        return {\n            label: labels[index] || '',\n            value: '(' + x + ', ' + y + ')'\n        };\n    }\n    update(mode) {\n        const meta = this._cachedMeta;\n        const { data: points = []  } = meta;\n        const animationsDisabled = this.chart._animationsDisabled;\n        let { start , count  } = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n        this._drawStart = start;\n        this._drawCount = count;\n        if (_scaleRangesChanged(meta)) {\n            start = 0;\n            count = points.length;\n        }\n        if (this.options.showLine) {\n            if (!this.datasetElementType) {\n                this.addElements();\n            }\n            const { dataset: line , _dataset  } = meta;\n            line._chart = this.chart;\n            line._datasetIndex = this.index;\n            line._decimated = !!_dataset._decimated;\n            line.points = points;\n            const options = this.resolveDatasetElementOptions(mode);\n            options.segment = this.options.segment;\n            this.updateElement(line, undefined, {\n                animated: !animationsDisabled,\n                options\n            }, mode);\n        } else if (this.datasetElementType) {\n            delete meta.dataset;\n            this.datasetElementType = false;\n        }\n        this.updateElements(points, start, count, mode);\n    }\n    addElements() {\n        const { showLine  } = this.options;\n        if (!this.datasetElementType && showLine) {\n            this.datasetElementType = this.chart.registry.getElement('line');\n        }\n        super.addElements();\n    }\n    updateElements(points, start, count, mode) {\n        const reset = mode === 'reset';\n        const { iScale , vScale , _stacked , _dataset  } = this._cachedMeta;\n        const firstOpts = this.resolveDataElementOptions(start, mode);\n        const sharedOptions = this.getSharedOptions(firstOpts);\n        const includeOptions = this.includeOptions(mode, sharedOptions);\n        const iAxis = iScale.axis;\n        const vAxis = vScale.axis;\n        const { spanGaps , segment  } = this.options;\n        const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n        const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n        let prevParsed = start > 0 && this.getParsed(start - 1);\n        for(let i = start; i < start + count; ++i){\n            const point = points[i];\n            const parsed = this.getParsed(i);\n            const properties = directUpdate ? point : {};\n            const nullData = isNullOrUndef(parsed[vAxis]);\n            const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n            const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n            properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n            properties.stop = i > 0 && Math.abs(parsed[iAxis] - prevParsed[iAxis]) > maxGapLength;\n            if (segment) {\n                properties.parsed = parsed;\n                properties.raw = _dataset.data[i];\n            }\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n            }\n            if (!directUpdate) {\n                this.updateElement(point, i, properties, mode);\n            }\n            prevParsed = parsed;\n        }\n        this.updateSharedOptions(sharedOptions, mode, firstOpts);\n    }\n getMaxOverflow() {\n        const meta = this._cachedMeta;\n        const data = meta.data || [];\n        if (!this.options.showLine) {\n            let max = 0;\n            for(let i = data.length - 1; i >= 0; --i){\n                max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n            }\n            return max > 0 && max;\n        }\n        const dataset = meta.dataset;\n        const border = dataset.options && dataset.options.borderWidth || 0;\n        if (!data.length) {\n            return border;\n        }\n        const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n        const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n        return Math.max(border, firstPoint, lastPoint) / 2;\n    }\n}\n\nvar controllers = /*#__PURE__*/Object.freeze({\n__proto__: null,\nBarController: BarController,\nBubbleController: BubbleController,\nDoughnutController: DoughnutController,\nLineController: LineController,\nPieController: PieController,\nPolarAreaController: PolarAreaController,\nRadarController: RadarController,\nScatterController: ScatterController\n});\n\n/**\n * @namespace Chart._adapters\n * @since 2.8.0\n * @private\n */ function abstract() {\n    throw new Error('This method is not implemented: Check that a complete date adapter is provided.');\n}\n/**\n * Date adapter (current used by the time scale)\n * @namespace Chart._adapters._date\n * @memberof Chart._adapters\n * @private\n */ class DateAdapterBase {\n    /**\n   * Override default date adapter methods.\n   * Accepts type parameter to define options type.\n   * @example\n   * Chart._adapters._date.override<{myAdapterOption: string}>({\n   *   init() {\n   *     console.log(this.options.myAdapterOption);\n   *   }\n   * })\n   */ static override(members) {\n        Object.assign(DateAdapterBase.prototype, members);\n    }\n    options;\n    constructor(options){\n        this.options = options || {};\n    }\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    init() {}\n    formats() {\n        return abstract();\n    }\n    parse() {\n        return abstract();\n    }\n    format() {\n        return abstract();\n    }\n    add() {\n        return abstract();\n    }\n    diff() {\n        return abstract();\n    }\n    startOf() {\n        return abstract();\n    }\n    endOf() {\n        return abstract();\n    }\n}\nvar adapters = {\n    _date: DateAdapterBase\n};\n\nfunction binarySearch(metaset, axis, value, intersect) {\n    const { controller , data , _sorted  } = metaset;\n    const iScale = controller._cachedMeta.iScale;\n    if (iScale && axis === iScale.axis && axis !== 'r' && _sorted && data.length) {\n        const lookupMethod = iScale._reversePixels ? _rlookupByKey : _lookupByKey;\n        if (!intersect) {\n            return lookupMethod(data, axis, value);\n        } else if (controller._sharedOptions) {\n            const el = data[0];\n            const range = typeof el.getRange === 'function' && el.getRange(axis);\n            if (range) {\n                const start = lookupMethod(data, axis, value - range);\n                const end = lookupMethod(data, axis, value + range);\n                return {\n                    lo: start.lo,\n                    hi: end.hi\n                };\n            }\n        }\n    }\n    return {\n        lo: 0,\n        hi: data.length - 1\n    };\n}\n function evaluateInteractionItems(chart, axis, position, handler, intersect) {\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    const value = position[axis];\n    for(let i = 0, ilen = metasets.length; i < ilen; ++i){\n        const { index , data  } = metasets[i];\n        const { lo , hi  } = binarySearch(metasets[i], axis, value, intersect);\n        for(let j = lo; j <= hi; ++j){\n            const element = data[j];\n            if (!element.skip) {\n                handler(element, index, j);\n            }\n        }\n    }\n}\n function getDistanceMetricForAxis(axis) {\n    const useX = axis.indexOf('x') !== -1;\n    const useY = axis.indexOf('y') !== -1;\n    return function(pt1, pt2) {\n        const deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;\n        const deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;\n        return Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\n    };\n}\n function getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) {\n    const items = [];\n    if (!includeInvisible && !chart.isPointInArea(position)) {\n        return items;\n    }\n    const evaluationFunc = function(element, datasetIndex, index) {\n        if (!includeInvisible && !_isPointInArea(element, chart.chartArea, 0)) {\n            return;\n        }\n        if (element.inRange(position.x, position.y, useFinalPosition)) {\n            items.push({\n                element,\n                datasetIndex,\n                index\n            });\n        }\n    };\n    evaluateInteractionItems(chart, axis, position, evaluationFunc, true);\n    return items;\n}\n function getNearestRadialItems(chart, position, axis, useFinalPosition) {\n    let items = [];\n    function evaluationFunc(element, datasetIndex, index) {\n        const { startAngle , endAngle  } = element.getProps([\n            'startAngle',\n            'endAngle'\n        ], useFinalPosition);\n        const { angle  } = getAngleFromPoint(element, {\n            x: position.x,\n            y: position.y\n        });\n        if (_angleBetween(angle, startAngle, endAngle)) {\n            items.push({\n                element,\n                datasetIndex,\n                index\n            });\n        }\n    }\n    evaluateInteractionItems(chart, axis, position, evaluationFunc);\n    return items;\n}\n function getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n    let items = [];\n    const distanceMetric = getDistanceMetricForAxis(axis);\n    let minDistance = Number.POSITIVE_INFINITY;\n    function evaluationFunc(element, datasetIndex, index) {\n        const inRange = element.inRange(position.x, position.y, useFinalPosition);\n        if (intersect && !inRange) {\n            return;\n        }\n        const center = element.getCenterPoint(useFinalPosition);\n        const pointInArea = !!includeInvisible || chart.isPointInArea(center);\n        if (!pointInArea && !inRange) {\n            return;\n        }\n        const distance = distanceMetric(position, center);\n        if (distance < minDistance) {\n            items = [\n                {\n                    element,\n                    datasetIndex,\n                    index\n                }\n            ];\n            minDistance = distance;\n        } else if (distance === minDistance) {\n            items.push({\n                element,\n                datasetIndex,\n                index\n            });\n        }\n    }\n    evaluateInteractionItems(chart, axis, position, evaluationFunc);\n    return items;\n}\n function getNearestItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n    if (!includeInvisible && !chart.isPointInArea(position)) {\n        return [];\n    }\n    return axis === 'r' && !intersect ? getNearestRadialItems(chart, position, axis, useFinalPosition) : getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible);\n}\n function getAxisItems(chart, position, axis, intersect, useFinalPosition) {\n    const items = [];\n    const rangeMethod = axis === 'x' ? 'inXRange' : 'inYRange';\n    let intersectsItem = false;\n    evaluateInteractionItems(chart, axis, position, (element, datasetIndex, index)=>{\n        if (element[rangeMethod](position[axis], useFinalPosition)) {\n            items.push({\n                element,\n                datasetIndex,\n                index\n            });\n            intersectsItem = intersectsItem || element.inRange(position.x, position.y, useFinalPosition);\n        }\n    });\n    if (intersect && !intersectsItem) {\n        return [];\n    }\n    return items;\n}\n var Interaction = {\n    evaluateInteractionItems,\n    modes: {\n index (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            const axis = options.axis || 'x';\n            const includeInvisible = options.includeInvisible || false;\n            const items = options.intersect ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) : getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n            const elements = [];\n            if (!items.length) {\n                return [];\n            }\n            chart.getSortedVisibleDatasetMetas().forEach((meta)=>{\n                const index = items[0].index;\n                const element = meta.data[index];\n                if (element && !element.skip) {\n                    elements.push({\n                        element,\n                        datasetIndex: meta.index,\n                        index\n                    });\n                }\n            });\n            return elements;\n        },\n dataset (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            const axis = options.axis || 'xy';\n            const includeInvisible = options.includeInvisible || false;\n            let items = options.intersect ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) : getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n            if (items.length > 0) {\n                const datasetIndex = items[0].datasetIndex;\n                const data = chart.getDatasetMeta(datasetIndex).data;\n                items = [];\n                for(let i = 0; i < data.length; ++i){\n                    items.push({\n                        element: data[i],\n                        datasetIndex,\n                        index: i\n                    });\n                }\n            }\n            return items;\n        },\n point (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            const axis = options.axis || 'xy';\n            const includeInvisible = options.includeInvisible || false;\n            return getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible);\n        },\n nearest (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            const axis = options.axis || 'xy';\n            const includeInvisible = options.includeInvisible || false;\n            return getNearestItems(chart, position, axis, options.intersect, useFinalPosition, includeInvisible);\n        },\n x (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            return getAxisItems(chart, position, 'x', options.intersect, useFinalPosition);\n        },\n y (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            return getAxisItems(chart, position, 'y', options.intersect, useFinalPosition);\n        }\n    }\n};\n\nconst STATIC_POSITIONS = [\n    'left',\n    'top',\n    'right',\n    'bottom'\n];\nfunction filterByPosition(array, position) {\n    return array.filter((v)=>v.pos === position);\n}\nfunction filterDynamicPositionByAxis(array, axis) {\n    return array.filter((v)=>STATIC_POSITIONS.indexOf(v.pos) === -1 && v.box.axis === axis);\n}\nfunction sortByWeight(array, reverse) {\n    return array.sort((a, b)=>{\n        const v0 = reverse ? b : a;\n        const v1 = reverse ? a : b;\n        return v0.weight === v1.weight ? v0.index - v1.index : v0.weight - v1.weight;\n    });\n}\nfunction wrapBoxes(boxes) {\n    const layoutBoxes = [];\n    let i, ilen, box, pos, stack, stackWeight;\n    for(i = 0, ilen = (boxes || []).length; i < ilen; ++i){\n        box = boxes[i];\n        ({ position: pos , options: { stack , stackWeight =1  }  } = box);\n        layoutBoxes.push({\n            index: i,\n            box,\n            pos,\n            horizontal: box.isHorizontal(),\n            weight: box.weight,\n            stack: stack && pos + stack,\n            stackWeight\n        });\n    }\n    return layoutBoxes;\n}\nfunction buildStacks(layouts) {\n    const stacks = {};\n    for (const wrap of layouts){\n        const { stack , pos , stackWeight  } = wrap;\n        if (!stack || !STATIC_POSITIONS.includes(pos)) {\n            continue;\n        }\n        const _stack = stacks[stack] || (stacks[stack] = {\n            count: 0,\n            placed: 0,\n            weight: 0,\n            size: 0\n        });\n        _stack.count++;\n        _stack.weight += stackWeight;\n    }\n    return stacks;\n}\n function setLayoutDims(layouts, params) {\n    const stacks = buildStacks(layouts);\n    const { vBoxMaxWidth , hBoxMaxHeight  } = params;\n    let i, ilen, layout;\n    for(i = 0, ilen = layouts.length; i < ilen; ++i){\n        layout = layouts[i];\n        const { fullSize  } = layout.box;\n        const stack = stacks[layout.stack];\n        const factor = stack && layout.stackWeight / stack.weight;\n        if (layout.horizontal) {\n            layout.width = factor ? factor * vBoxMaxWidth : fullSize && params.availableWidth;\n            layout.height = hBoxMaxHeight;\n        } else {\n            layout.width = vBoxMaxWidth;\n            layout.height = factor ? factor * hBoxMaxHeight : fullSize && params.availableHeight;\n        }\n    }\n    return stacks;\n}\nfunction buildLayoutBoxes(boxes) {\n    const layoutBoxes = wrapBoxes(boxes);\n    const fullSize = sortByWeight(layoutBoxes.filter((wrap)=>wrap.box.fullSize), true);\n    const left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true);\n    const right = sortByWeight(filterByPosition(layoutBoxes, 'right'));\n    const top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true);\n    const bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom'));\n    const centerHorizontal = filterDynamicPositionByAxis(layoutBoxes, 'x');\n    const centerVertical = filterDynamicPositionByAxis(layoutBoxes, 'y');\n    return {\n        fullSize,\n        leftAndTop: left.concat(top),\n        rightAndBottom: right.concat(centerVertical).concat(bottom).concat(centerHorizontal),\n        chartArea: filterByPosition(layoutBoxes, 'chartArea'),\n        vertical: left.concat(right).concat(centerVertical),\n        horizontal: top.concat(bottom).concat(centerHorizontal)\n    };\n}\nfunction getCombinedMax(maxPadding, chartArea, a, b) {\n    return Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);\n}\nfunction updateMaxPadding(maxPadding, boxPadding) {\n    maxPadding.top = Math.max(maxPadding.top, boxPadding.top);\n    maxPadding.left = Math.max(maxPadding.left, boxPadding.left);\n    maxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);\n    maxPadding.right = Math.max(maxPadding.right, boxPadding.right);\n}\nfunction updateDims(chartArea, params, layout, stacks) {\n    const { pos , box  } = layout;\n    const maxPadding = chartArea.maxPadding;\n    if (!isObject(pos)) {\n        if (layout.size) {\n            chartArea[pos] -= layout.size;\n        }\n        const stack = stacks[layout.stack] || {\n            size: 0,\n            count: 1\n        };\n        stack.size = Math.max(stack.size, layout.horizontal ? box.height : box.width);\n        layout.size = stack.size / stack.count;\n        chartArea[pos] += layout.size;\n    }\n    if (box.getPadding) {\n        updateMaxPadding(maxPadding, box.getPadding());\n    }\n    const newWidth = Math.max(0, params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right'));\n    const newHeight = Math.max(0, params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom'));\n    const widthChanged = newWidth !== chartArea.w;\n    const heightChanged = newHeight !== chartArea.h;\n    chartArea.w = newWidth;\n    chartArea.h = newHeight;\n    return layout.horizontal ? {\n        same: widthChanged,\n        other: heightChanged\n    } : {\n        same: heightChanged,\n        other: widthChanged\n    };\n}\nfunction handleMaxPadding(chartArea) {\n    const maxPadding = chartArea.maxPadding;\n    function updatePos(pos) {\n        const change = Math.max(maxPadding[pos] - chartArea[pos], 0);\n        chartArea[pos] += change;\n        return change;\n    }\n    chartArea.y += updatePos('top');\n    chartArea.x += updatePos('left');\n    updatePos('right');\n    updatePos('bottom');\n}\nfunction getMargins(horizontal, chartArea) {\n    const maxPadding = chartArea.maxPadding;\n    function marginForPositions(positions) {\n        const margin = {\n            left: 0,\n            top: 0,\n            right: 0,\n            bottom: 0\n        };\n        positions.forEach((pos)=>{\n            margin[pos] = Math.max(chartArea[pos], maxPadding[pos]);\n        });\n        return margin;\n    }\n    return horizontal ? marginForPositions([\n        'left',\n        'right'\n    ]) : marginForPositions([\n        'top',\n        'bottom'\n    ]);\n}\nfunction fitBoxes(boxes, chartArea, params, stacks) {\n    const refitBoxes = [];\n    let i, ilen, layout, box, refit, changed;\n    for(i = 0, ilen = boxes.length, refit = 0; i < ilen; ++i){\n        layout = boxes[i];\n        box = layout.box;\n        box.update(layout.width || chartArea.w, layout.height || chartArea.h, getMargins(layout.horizontal, chartArea));\n        const { same , other  } = updateDims(chartArea, params, layout, stacks);\n        refit |= same && refitBoxes.length;\n        changed = changed || other;\n        if (!box.fullSize) {\n            refitBoxes.push(layout);\n        }\n    }\n    return refit && fitBoxes(refitBoxes, chartArea, params, stacks) || changed;\n}\nfunction setBoxDims(box, left, top, width, height) {\n    box.top = top;\n    box.left = left;\n    box.right = left + width;\n    box.bottom = top + height;\n    box.width = width;\n    box.height = height;\n}\nfunction placeBoxes(boxes, chartArea, params, stacks) {\n    const userPadding = params.padding;\n    let { x , y  } = chartArea;\n    for (const layout of boxes){\n        const box = layout.box;\n        const stack = stacks[layout.stack] || {\n            count: 1,\n            placed: 0,\n            weight: 1\n        };\n        const weight = layout.stackWeight / stack.weight || 1;\n        if (layout.horizontal) {\n            const width = chartArea.w * weight;\n            const height = stack.size || box.height;\n            if (defined(stack.start)) {\n                y = stack.start;\n            }\n            if (box.fullSize) {\n                setBoxDims(box, userPadding.left, y, params.outerWidth - userPadding.right - userPadding.left, height);\n            } else {\n                setBoxDims(box, chartArea.left + stack.placed, y, width, height);\n            }\n            stack.start = y;\n            stack.placed += width;\n            y = box.bottom;\n        } else {\n            const height = chartArea.h * weight;\n            const width = stack.size || box.width;\n            if (defined(stack.start)) {\n                x = stack.start;\n            }\n            if (box.fullSize) {\n                setBoxDims(box, x, userPadding.top, width, params.outerHeight - userPadding.bottom - userPadding.top);\n            } else {\n                setBoxDims(box, x, chartArea.top + stack.placed, width, height);\n            }\n            stack.start = x;\n            stack.placed += height;\n            x = box.right;\n        }\n    }\n    chartArea.x = x;\n    chartArea.y = y;\n}\nvar layouts = {\n addBox (chart, item) {\n        if (!chart.boxes) {\n            chart.boxes = [];\n        }\n        item.fullSize = item.fullSize || false;\n        item.position = item.position || 'top';\n        item.weight = item.weight || 0;\n        item._layers = item._layers || function() {\n            return [\n                {\n                    z: 0,\n                    draw (chartArea) {\n                        item.draw(chartArea);\n                    }\n                }\n            ];\n        };\n        chart.boxes.push(item);\n    },\n removeBox (chart, layoutItem) {\n        const index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;\n        if (index !== -1) {\n            chart.boxes.splice(index, 1);\n        }\n    },\n configure (chart, item, options) {\n        item.fullSize = options.fullSize;\n        item.position = options.position;\n        item.weight = options.weight;\n    },\n update (chart, width, height, minPadding) {\n        if (!chart) {\n            return;\n        }\n        const padding = toPadding(chart.options.layout.padding);\n        const availableWidth = Math.max(width - padding.width, 0);\n        const availableHeight = Math.max(height - padding.height, 0);\n        const boxes = buildLayoutBoxes(chart.boxes);\n        const verticalBoxes = boxes.vertical;\n        const horizontalBoxes = boxes.horizontal;\n        each(chart.boxes, (box)=>{\n            if (typeof box.beforeLayout === 'function') {\n                box.beforeLayout();\n            }\n        });\n        const visibleVerticalBoxCount = verticalBoxes.reduce((total, wrap)=>wrap.box.options && wrap.box.options.display === false ? total : total + 1, 0) || 1;\n        const params = Object.freeze({\n            outerWidth: width,\n            outerHeight: height,\n            padding,\n            availableWidth,\n            availableHeight,\n            vBoxMaxWidth: availableWidth / 2 / visibleVerticalBoxCount,\n            hBoxMaxHeight: availableHeight / 2\n        });\n        const maxPadding = Object.assign({}, padding);\n        updateMaxPadding(maxPadding, toPadding(minPadding));\n        const chartArea = Object.assign({\n            maxPadding,\n            w: availableWidth,\n            h: availableHeight,\n            x: padding.left,\n            y: padding.top\n        }, padding);\n        const stacks = setLayoutDims(verticalBoxes.concat(horizontalBoxes), params);\n        fitBoxes(boxes.fullSize, chartArea, params, stacks);\n        fitBoxes(verticalBoxes, chartArea, params, stacks);\n        if (fitBoxes(horizontalBoxes, chartArea, params, stacks)) {\n            fitBoxes(verticalBoxes, chartArea, params, stacks);\n        }\n        handleMaxPadding(chartArea);\n        placeBoxes(boxes.leftAndTop, chartArea, params, stacks);\n        chartArea.x += chartArea.w;\n        chartArea.y += chartArea.h;\n        placeBoxes(boxes.rightAndBottom, chartArea, params, stacks);\n        chart.chartArea = {\n            left: chartArea.left,\n            top: chartArea.top,\n            right: chartArea.left + chartArea.w,\n            bottom: chartArea.top + chartArea.h,\n            height: chartArea.h,\n            width: chartArea.w\n        };\n        each(boxes.chartArea, (layout)=>{\n            const box = layout.box;\n            Object.assign(box, chart.chartArea);\n            box.update(chartArea.w, chartArea.h, {\n                left: 0,\n                top: 0,\n                right: 0,\n                bottom: 0\n            });\n        });\n    }\n};\n\nclass BasePlatform {\n acquireContext(canvas, aspectRatio) {}\n releaseContext(context) {\n        return false;\n    }\n addEventListener(chart, type, listener) {}\n removeEventListener(chart, type, listener) {}\n getDevicePixelRatio() {\n        return 1;\n    }\n getMaximumSize(element, width, height, aspectRatio) {\n        width = Math.max(0, width || element.width);\n        height = height || element.height;\n        return {\n            width,\n            height: Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height)\n        };\n    }\n isAttached(canvas) {\n        return true;\n    }\n updateConfig(config) {\n    }\n}\n\nclass BasicPlatform extends BasePlatform {\n    acquireContext(item) {\n        return item && item.getContext && item.getContext('2d') || null;\n    }\n    updateConfig(config) {\n        config.options.animation = false;\n    }\n}\n\nconst EXPANDO_KEY = '$chartjs';\n const EVENT_TYPES = {\n    touchstart: 'mousedown',\n    touchmove: 'mousemove',\n    touchend: 'mouseup',\n    pointerenter: 'mouseenter',\n    pointerdown: 'mousedown',\n    pointermove: 'mousemove',\n    pointerup: 'mouseup',\n    pointerleave: 'mouseout',\n    pointerout: 'mouseout'\n};\nconst isNullOrEmpty = (value)=>value === null || value === '';\n function initCanvas(canvas, aspectRatio) {\n    const style = canvas.style;\n    const renderHeight = canvas.getAttribute('height');\n    const renderWidth = canvas.getAttribute('width');\n    canvas[EXPANDO_KEY] = {\n        initial: {\n            height: renderHeight,\n            width: renderWidth,\n            style: {\n                display: style.display,\n                height: style.height,\n                width: style.width\n            }\n        }\n    };\n    style.display = style.display || 'block';\n    style.boxSizing = style.boxSizing || 'border-box';\n    if (isNullOrEmpty(renderWidth)) {\n        const displayWidth = readUsedSize(canvas, 'width');\n        if (displayWidth !== undefined) {\n            canvas.width = displayWidth;\n        }\n    }\n    if (isNullOrEmpty(renderHeight)) {\n        if (canvas.style.height === '') {\n            canvas.height = canvas.width / (aspectRatio || 2);\n        } else {\n            const displayHeight = readUsedSize(canvas, 'height');\n            if (displayHeight !== undefined) {\n                canvas.height = displayHeight;\n            }\n        }\n    }\n    return canvas;\n}\nconst eventListenerOptions = supportsEventListenerOptions ? {\n    passive: true\n} : false;\nfunction addListener(node, type, listener) {\n    if (node) {\n        node.addEventListener(type, listener, eventListenerOptions);\n    }\n}\nfunction removeListener(chart, type, listener) {\n    if (chart && chart.canvas) {\n        chart.canvas.removeEventListener(type, listener, eventListenerOptions);\n    }\n}\nfunction fromNativeEvent(event, chart) {\n    const type = EVENT_TYPES[event.type] || event.type;\n    const { x , y  } = getRelativePosition(event, chart);\n    return {\n        type,\n        chart,\n        native: event,\n        x: x !== undefined ? x : null,\n        y: y !== undefined ? y : null\n    };\n}\nfunction nodeListContains(nodeList, canvas) {\n    for (const node of nodeList){\n        if (node === canvas || node.contains(canvas)) {\n            return true;\n        }\n    }\n}\nfunction createAttachObserver(chart, type, listener) {\n    const canvas = chart.canvas;\n    const observer = new MutationObserver((entries)=>{\n        let trigger = false;\n        for (const entry of entries){\n            trigger = trigger || nodeListContains(entry.addedNodes, canvas);\n            trigger = trigger && !nodeListContains(entry.removedNodes, canvas);\n        }\n        if (trigger) {\n            listener();\n        }\n    });\n    observer.observe(document, {\n        childList: true,\n        subtree: true\n    });\n    return observer;\n}\nfunction createDetachObserver(chart, type, listener) {\n    const canvas = chart.canvas;\n    const observer = new MutationObserver((entries)=>{\n        let trigger = false;\n        for (const entry of entries){\n            trigger = trigger || nodeListContains(entry.removedNodes, canvas);\n            trigger = trigger && !nodeListContains(entry.addedNodes, canvas);\n        }\n        if (trigger) {\n            listener();\n        }\n    });\n    observer.observe(document, {\n        childList: true,\n        subtree: true\n    });\n    return observer;\n}\nconst drpListeningCharts = new Map();\nlet oldDevicePixelRatio = 0;\nfunction onWindowResize() {\n    const dpr = window.devicePixelRatio;\n    if (dpr === oldDevicePixelRatio) {\n        return;\n    }\n    oldDevicePixelRatio = dpr;\n    drpListeningCharts.forEach((resize, chart)=>{\n        if (chart.currentDevicePixelRatio !== dpr) {\n            resize();\n        }\n    });\n}\nfunction listenDevicePixelRatioChanges(chart, resize) {\n    if (!drpListeningCharts.size) {\n        window.addEventListener('resize', onWindowResize);\n    }\n    drpListeningCharts.set(chart, resize);\n}\nfunction unlistenDevicePixelRatioChanges(chart) {\n    drpListeningCharts.delete(chart);\n    if (!drpListeningCharts.size) {\n        window.removeEventListener('resize', onWindowResize);\n    }\n}\nfunction createResizeObserver(chart, type, listener) {\n    const canvas = chart.canvas;\n    const container = canvas && _getParentNode(canvas);\n    if (!container) {\n        return;\n    }\n    const resize = throttled((width, height)=>{\n        const w = container.clientWidth;\n        listener(width, height);\n        if (w < container.clientWidth) {\n            listener();\n        }\n    }, window);\n    const observer = new ResizeObserver((entries)=>{\n        const entry = entries[0];\n        const width = entry.contentRect.width;\n        const height = entry.contentRect.height;\n        if (width === 0 && height === 0) {\n            return;\n        }\n        resize(width, height);\n    });\n    observer.observe(container);\n    listenDevicePixelRatioChanges(chart, resize);\n    return observer;\n}\nfunction releaseObserver(chart, type, observer) {\n    if (observer) {\n        observer.disconnect();\n    }\n    if (type === 'resize') {\n        unlistenDevicePixelRatioChanges(chart);\n    }\n}\nfunction createProxyAndListen(chart, type, listener) {\n    const canvas = chart.canvas;\n    const proxy = throttled((event)=>{\n        if (chart.ctx !== null) {\n            listener(fromNativeEvent(event, chart));\n        }\n    }, chart);\n    addListener(canvas, type, proxy);\n    return proxy;\n}\n class DomPlatform extends BasePlatform {\n acquireContext(canvas, aspectRatio) {\n        const context = canvas && canvas.getContext && canvas.getContext('2d');\n        if (context && context.canvas === canvas) {\n            initCanvas(canvas, aspectRatio);\n            return context;\n        }\n        return null;\n    }\n releaseContext(context) {\n        const canvas = context.canvas;\n        if (!canvas[EXPANDO_KEY]) {\n            return false;\n        }\n        const initial = canvas[EXPANDO_KEY].initial;\n        [\n            'height',\n            'width'\n        ].forEach((prop)=>{\n            const value = initial[prop];\n            if (isNullOrUndef(value)) {\n                canvas.removeAttribute(prop);\n            } else {\n                canvas.setAttribute(prop, value);\n            }\n        });\n        const style = initial.style || {};\n        Object.keys(style).forEach((key)=>{\n            canvas.style[key] = style[key];\n        });\n        canvas.width = canvas.width;\n        delete canvas[EXPANDO_KEY];\n        return true;\n    }\n addEventListener(chart, type, listener) {\n        this.removeEventListener(chart, type);\n        const proxies = chart.$proxies || (chart.$proxies = {});\n        const handlers = {\n            attach: createAttachObserver,\n            detach: createDetachObserver,\n            resize: createResizeObserver\n        };\n        const handler = handlers[type] || createProxyAndListen;\n        proxies[type] = handler(chart, type, listener);\n    }\n removeEventListener(chart, type) {\n        const proxies = chart.$proxies || (chart.$proxies = {});\n        const proxy = proxies[type];\n        if (!proxy) {\n            return;\n        }\n        const handlers = {\n            attach: releaseObserver,\n            detach: releaseObserver,\n            resize: releaseObserver\n        };\n        const handler = handlers[type] || removeListener;\n        handler(chart, type, proxy);\n        proxies[type] = undefined;\n    }\n    getDevicePixelRatio() {\n        return window.devicePixelRatio;\n    }\n getMaximumSize(canvas, width, height, aspectRatio) {\n        return getMaximumSize(canvas, width, height, aspectRatio);\n    }\n isAttached(canvas) {\n        const container = _getParentNode(canvas);\n        return !!(container && container.isConnected);\n    }\n}\n\nfunction _detectPlatform(canvas) {\n    if (!_isDomSupported() || typeof OffscreenCanvas !== 'undefined' && canvas instanceof OffscreenCanvas) {\n        return BasicPlatform;\n    }\n    return DomPlatform;\n}\n\nclass Element {\n    static defaults = {};\n    static defaultRoutes = undefined;\n    x;\n    y;\n    active = false;\n    options;\n    $animations;\n    tooltipPosition(useFinalPosition) {\n        const { x , y  } = this.getProps([\n            'x',\n            'y'\n        ], useFinalPosition);\n        return {\n            x,\n            y\n        };\n    }\n    hasValue() {\n        return isNumber(this.x) && isNumber(this.y);\n    }\n    getProps(props, final) {\n        const anims = this.$animations;\n        if (!final || !anims) {\n            // let's not create an object, if not needed\n            return this;\n        }\n        const ret = {};\n        props.forEach((prop)=>{\n            ret[prop] = anims[prop] && anims[prop].active() ? anims[prop]._to : this[prop];\n        });\n        return ret;\n    }\n}\n\nfunction autoSkip(scale, ticks) {\n    const tickOpts = scale.options.ticks;\n    const determinedMaxTicks = determineMaxTicks(scale);\n    const ticksLimit = Math.min(tickOpts.maxTicksLimit || determinedMaxTicks, determinedMaxTicks);\n    const majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];\n    const numMajorIndices = majorIndices.length;\n    const first = majorIndices[0];\n    const last = majorIndices[numMajorIndices - 1];\n    const newTicks = [];\n    if (numMajorIndices > ticksLimit) {\n        skipMajors(ticks, newTicks, majorIndices, numMajorIndices / ticksLimit);\n        return newTicks;\n    }\n    const spacing = calculateSpacing(majorIndices, ticks, ticksLimit);\n    if (numMajorIndices > 0) {\n        let i, ilen;\n        const avgMajorSpacing = numMajorIndices > 1 ? Math.round((last - first) / (numMajorIndices - 1)) : null;\n        skip(ticks, newTicks, spacing, isNullOrUndef(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);\n        for(i = 0, ilen = numMajorIndices - 1; i < ilen; i++){\n            skip(ticks, newTicks, spacing, majorIndices[i], majorIndices[i + 1]);\n        }\n        skip(ticks, newTicks, spacing, last, isNullOrUndef(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);\n        return newTicks;\n    }\n    skip(ticks, newTicks, spacing);\n    return newTicks;\n}\nfunction determineMaxTicks(scale) {\n    const offset = scale.options.offset;\n    const tickLength = scale._tickSize();\n    const maxScale = scale._length / tickLength + (offset ? 0 : 1);\n    const maxChart = scale._maxLength / tickLength;\n    return Math.floor(Math.min(maxScale, maxChart));\n}\n function calculateSpacing(majorIndices, ticks, ticksLimit) {\n    const evenMajorSpacing = getEvenSpacing(majorIndices);\n    const spacing = ticks.length / ticksLimit;\n    if (!evenMajorSpacing) {\n        return Math.max(spacing, 1);\n    }\n    const factors = _factorize(evenMajorSpacing);\n    for(let i = 0, ilen = factors.length - 1; i < ilen; i++){\n        const factor = factors[i];\n        if (factor > spacing) {\n            return factor;\n        }\n    }\n    return Math.max(spacing, 1);\n}\n function getMajorIndices(ticks) {\n    const result = [];\n    let i, ilen;\n    for(i = 0, ilen = ticks.length; i < ilen; i++){\n        if (ticks[i].major) {\n            result.push(i);\n        }\n    }\n    return result;\n}\n function skipMajors(ticks, newTicks, majorIndices, spacing) {\n    let count = 0;\n    let next = majorIndices[0];\n    let i;\n    spacing = Math.ceil(spacing);\n    for(i = 0; i < ticks.length; i++){\n        if (i === next) {\n            newTicks.push(ticks[i]);\n            count++;\n            next = majorIndices[count * spacing];\n        }\n    }\n}\n function skip(ticks, newTicks, spacing, majorStart, majorEnd) {\n    const start = valueOrDefault(majorStart, 0);\n    const end = Math.min(valueOrDefault(majorEnd, ticks.length), ticks.length);\n    let count = 0;\n    let length, i, next;\n    spacing = Math.ceil(spacing);\n    if (majorEnd) {\n        length = majorEnd - majorStart;\n        spacing = length / Math.floor(length / spacing);\n    }\n    next = start;\n    while(next < 0){\n        count++;\n        next = Math.round(start + count * spacing);\n    }\n    for(i = Math.max(start, 0); i < end; i++){\n        if (i === next) {\n            newTicks.push(ticks[i]);\n            count++;\n            next = Math.round(start + count * spacing);\n        }\n    }\n}\n function getEvenSpacing(arr) {\n    const len = arr.length;\n    let i, diff;\n    if (len < 2) {\n        return false;\n    }\n    for(diff = arr[0], i = 1; i < len; ++i){\n        if (arr[i] - arr[i - 1] !== diff) {\n            return false;\n        }\n    }\n    return diff;\n}\n\nconst reverseAlign = (align)=>align === 'left' ? 'right' : align === 'right' ? 'left' : align;\nconst offsetFromEdge = (scale, edge, offset)=>edge === 'top' || edge === 'left' ? scale[edge] + offset : scale[edge] - offset;\nconst getTicksLimit = (ticksLength, maxTicksLimit)=>Math.min(maxTicksLimit || ticksLength, ticksLength);\n function sample(arr, numItems) {\n    const result = [];\n    const increment = arr.length / numItems;\n    const len = arr.length;\n    let i = 0;\n    for(; i < len; i += increment){\n        result.push(arr[Math.floor(i)]);\n    }\n    return result;\n}\n function getPixelForGridLine(scale, index, offsetGridLines) {\n    const length = scale.ticks.length;\n    const validIndex = Math.min(index, length - 1);\n    const start = scale._startPixel;\n    const end = scale._endPixel;\n    const epsilon = 1e-6;\n    let lineValue = scale.getPixelForTick(validIndex);\n    let offset;\n    if (offsetGridLines) {\n        if (length === 1) {\n            offset = Math.max(lineValue - start, end - lineValue);\n        } else if (index === 0) {\n            offset = (scale.getPixelForTick(1) - lineValue) / 2;\n        } else {\n            offset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2;\n        }\n        lineValue += validIndex < index ? offset : -offset;\n        if (lineValue < start - epsilon || lineValue > end + epsilon) {\n            return;\n        }\n    }\n    return lineValue;\n}\n function garbageCollect(caches, length) {\n    each(caches, (cache)=>{\n        const gc = cache.gc;\n        const gcLen = gc.length / 2;\n        let i;\n        if (gcLen > length) {\n            for(i = 0; i < gcLen; ++i){\n                delete cache.data[gc[i]];\n            }\n            gc.splice(0, gcLen);\n        }\n    });\n}\n function getTickMarkLength(options) {\n    return options.drawTicks ? options.tickLength : 0;\n}\n function getTitleHeight(options, fallback) {\n    if (!options.display) {\n        return 0;\n    }\n    const font = toFont(options.font, fallback);\n    const padding = toPadding(options.padding);\n    const lines = isArray(options.text) ? options.text.length : 1;\n    return lines * font.lineHeight + padding.height;\n}\nfunction createScaleContext(parent, scale) {\n    return createContext(parent, {\n        scale,\n        type: 'scale'\n    });\n}\nfunction createTickContext(parent, index, tick) {\n    return createContext(parent, {\n        tick,\n        index,\n        type: 'tick'\n    });\n}\nfunction titleAlign(align, position, reverse) {\n     let ret = _toLeftRightCenter(align);\n    if (reverse && position !== 'right' || !reverse && position === 'right') {\n        ret = reverseAlign(ret);\n    }\n    return ret;\n}\nfunction titleArgs(scale, offset, position, align) {\n    const { top , left , bottom , right , chart  } = scale;\n    const { chartArea , scales  } = chart;\n    let rotation = 0;\n    let maxWidth, titleX, titleY;\n    const height = bottom - top;\n    const width = right - left;\n    if (scale.isHorizontal()) {\n        titleX = _alignStartEnd(align, left, right);\n        if (isObject(position)) {\n            const positionAxisID = Object.keys(position)[0];\n            const value = position[positionAxisID];\n            titleY = scales[positionAxisID].getPixelForValue(value) + height - offset;\n        } else if (position === 'center') {\n            titleY = (chartArea.bottom + chartArea.top) / 2 + height - offset;\n        } else {\n            titleY = offsetFromEdge(scale, position, offset);\n        }\n        maxWidth = right - left;\n    } else {\n        if (isObject(position)) {\n            const positionAxisID = Object.keys(position)[0];\n            const value = position[positionAxisID];\n            titleX = scales[positionAxisID].getPixelForValue(value) - width + offset;\n        } else if (position === 'center') {\n            titleX = (chartArea.left + chartArea.right) / 2 - width + offset;\n        } else {\n            titleX = offsetFromEdge(scale, position, offset);\n        }\n        titleY = _alignStartEnd(align, bottom, top);\n        rotation = position === 'left' ? -HALF_PI : HALF_PI;\n    }\n    return {\n        titleX,\n        titleY,\n        maxWidth,\n        rotation\n    };\n}\nclass Scale extends Element {\n    constructor(cfg){\n        super();\n         this.id = cfg.id;\n         this.type = cfg.type;\n         this.options = undefined;\n         this.ctx = cfg.ctx;\n         this.chart = cfg.chart;\n         this.top = undefined;\n         this.bottom = undefined;\n         this.left = undefined;\n         this.right = undefined;\n         this.width = undefined;\n         this.height = undefined;\n        this._margins = {\n            left: 0,\n            right: 0,\n            top: 0,\n            bottom: 0\n        };\n         this.maxWidth = undefined;\n         this.maxHeight = undefined;\n         this.paddingTop = undefined;\n         this.paddingBottom = undefined;\n         this.paddingLeft = undefined;\n         this.paddingRight = undefined;\n         this.axis = undefined;\n         this.labelRotation = undefined;\n        this.min = undefined;\n        this.max = undefined;\n        this._range = undefined;\n         this.ticks = [];\n         this._gridLineItems = null;\n         this._labelItems = null;\n         this._labelSizes = null;\n        this._length = 0;\n        this._maxLength = 0;\n        this._longestTextCache = {};\n         this._startPixel = undefined;\n         this._endPixel = undefined;\n        this._reversePixels = false;\n        this._userMax = undefined;\n        this._userMin = undefined;\n        this._suggestedMax = undefined;\n        this._suggestedMin = undefined;\n        this._ticksLength = 0;\n        this._borderValue = 0;\n        this._cache = {};\n        this._dataLimitsCached = false;\n        this.$context = undefined;\n    }\n init(options) {\n        this.options = options.setContext(this.getContext());\n        this.axis = options.axis;\n        this._userMin = this.parse(options.min);\n        this._userMax = this.parse(options.max);\n        this._suggestedMin = this.parse(options.suggestedMin);\n        this._suggestedMax = this.parse(options.suggestedMax);\n    }\n parse(raw, index) {\n        return raw;\n    }\n getUserBounds() {\n        let { _userMin , _userMax , _suggestedMin , _suggestedMax  } = this;\n        _userMin = finiteOrDefault(_userMin, Number.POSITIVE_INFINITY);\n        _userMax = finiteOrDefault(_userMax, Number.NEGATIVE_INFINITY);\n        _suggestedMin = finiteOrDefault(_suggestedMin, Number.POSITIVE_INFINITY);\n        _suggestedMax = finiteOrDefault(_suggestedMax, Number.NEGATIVE_INFINITY);\n        return {\n            min: finiteOrDefault(_userMin, _suggestedMin),\n            max: finiteOrDefault(_userMax, _suggestedMax),\n            minDefined: isNumberFinite(_userMin),\n            maxDefined: isNumberFinite(_userMax)\n        };\n    }\n getMinMax(canStack) {\n        let { min , max , minDefined , maxDefined  } = this.getUserBounds();\n        let range;\n        if (minDefined && maxDefined) {\n            return {\n                min,\n                max\n            };\n        }\n        const metas = this.getMatchingVisibleMetas();\n        for(let i = 0, ilen = metas.length; i < ilen; ++i){\n            range = metas[i].controller.getMinMax(this, canStack);\n            if (!minDefined) {\n                min = Math.min(min, range.min);\n            }\n            if (!maxDefined) {\n                max = Math.max(max, range.max);\n            }\n        }\n        min = maxDefined && min > max ? max : min;\n        max = minDefined && min > max ? min : max;\n        return {\n            min: finiteOrDefault(min, finiteOrDefault(max, min)),\n            max: finiteOrDefault(max, finiteOrDefault(min, max))\n        };\n    }\n getPadding() {\n        return {\n            left: this.paddingLeft || 0,\n            top: this.paddingTop || 0,\n            right: this.paddingRight || 0,\n            bottom: this.paddingBottom || 0\n        };\n    }\n getTicks() {\n        return this.ticks;\n    }\n getLabels() {\n        const data = this.chart.data;\n        return this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];\n    }\n getLabelItems(chartArea = this.chart.chartArea) {\n        const items = this._labelItems || (this._labelItems = this._computeLabelItems(chartArea));\n        return items;\n    }\n    beforeLayout() {\n        this._cache = {};\n        this._dataLimitsCached = false;\n    }\n    beforeUpdate() {\n        callback(this.options.beforeUpdate, [\n            this\n        ]);\n    }\n update(maxWidth, maxHeight, margins) {\n        const { beginAtZero , grace , ticks: tickOpts  } = this.options;\n        const sampleSize = tickOpts.sampleSize;\n        this.beforeUpdate();\n        this.maxWidth = maxWidth;\n        this.maxHeight = maxHeight;\n        this._margins = margins = Object.assign({\n            left: 0,\n            right: 0,\n            top: 0,\n            bottom: 0\n        }, margins);\n        this.ticks = null;\n        this._labelSizes = null;\n        this._gridLineItems = null;\n        this._labelItems = null;\n        this.beforeSetDimensions();\n        this.setDimensions();\n        this.afterSetDimensions();\n        this._maxLength = this.isHorizontal() ? this.width + margins.left + margins.right : this.height + margins.top + margins.bottom;\n        if (!this._dataLimitsCached) {\n            this.beforeDataLimits();\n            this.determineDataLimits();\n            this.afterDataLimits();\n            this._range = _addGrace(this, grace, beginAtZero);\n            this._dataLimitsCached = true;\n        }\n        this.beforeBuildTicks();\n        this.ticks = this.buildTicks() || [];\n        this.afterBuildTicks();\n        const samplingEnabled = sampleSize < this.ticks.length;\n        this._convertTicksToLabels(samplingEnabled ? sample(this.ticks, sampleSize) : this.ticks);\n        this.configure();\n        this.beforeCalculateLabelRotation();\n        this.calculateLabelRotation();\n        this.afterCalculateLabelRotation();\n        if (tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto')) {\n            this.ticks = autoSkip(this, this.ticks);\n            this._labelSizes = null;\n            this.afterAutoSkip();\n        }\n        if (samplingEnabled) {\n            this._convertTicksToLabels(this.ticks);\n        }\n        this.beforeFit();\n        this.fit();\n        this.afterFit();\n        this.afterUpdate();\n    }\n configure() {\n        let reversePixels = this.options.reverse;\n        let startPixel, endPixel;\n        if (this.isHorizontal()) {\n            startPixel = this.left;\n            endPixel = this.right;\n        } else {\n            startPixel = this.top;\n            endPixel = this.bottom;\n            reversePixels = !reversePixels;\n        }\n        this._startPixel = startPixel;\n        this._endPixel = endPixel;\n        this._reversePixels = reversePixels;\n        this._length = endPixel - startPixel;\n        this._alignToPixels = this.options.alignToPixels;\n    }\n    afterUpdate() {\n        callback(this.options.afterUpdate, [\n            this\n        ]);\n    }\n    beforeSetDimensions() {\n        callback(this.options.beforeSetDimensions, [\n            this\n        ]);\n    }\n    setDimensions() {\n        if (this.isHorizontal()) {\n            this.width = this.maxWidth;\n            this.left = 0;\n            this.right = this.width;\n        } else {\n            this.height = this.maxHeight;\n            this.top = 0;\n            this.bottom = this.height;\n        }\n        this.paddingLeft = 0;\n        this.paddingTop = 0;\n        this.paddingRight = 0;\n        this.paddingBottom = 0;\n    }\n    afterSetDimensions() {\n        callback(this.options.afterSetDimensions, [\n            this\n        ]);\n    }\n    _callHooks(name) {\n        this.chart.notifyPlugins(name, this.getContext());\n        callback(this.options[name], [\n            this\n        ]);\n    }\n    beforeDataLimits() {\n        this._callHooks('beforeDataLimits');\n    }\n    determineDataLimits() {}\n    afterDataLimits() {\n        this._callHooks('afterDataLimits');\n    }\n    beforeBuildTicks() {\n        this._callHooks('beforeBuildTicks');\n    }\n buildTicks() {\n        return [];\n    }\n    afterBuildTicks() {\n        this._callHooks('afterBuildTicks');\n    }\n    beforeTickToLabelConversion() {\n        callback(this.options.beforeTickToLabelConversion, [\n            this\n        ]);\n    }\n generateTickLabels(ticks) {\n        const tickOpts = this.options.ticks;\n        let i, ilen, tick;\n        for(i = 0, ilen = ticks.length; i < ilen; i++){\n            tick = ticks[i];\n            tick.label = callback(tickOpts.callback, [\n                tick.value,\n                i,\n                ticks\n            ], this);\n        }\n    }\n    afterTickToLabelConversion() {\n        callback(this.options.afterTickToLabelConversion, [\n            this\n        ]);\n    }\n    beforeCalculateLabelRotation() {\n        callback(this.options.beforeCalculateLabelRotation, [\n            this\n        ]);\n    }\n    calculateLabelRotation() {\n        const options = this.options;\n        const tickOpts = options.ticks;\n        const numTicks = getTicksLimit(this.ticks.length, options.ticks.maxTicksLimit);\n        const minRotation = tickOpts.minRotation || 0;\n        const maxRotation = tickOpts.maxRotation;\n        let labelRotation = minRotation;\n        let tickWidth, maxHeight, maxLabelDiagonal;\n        if (!this._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !this.isHorizontal()) {\n            this.labelRotation = minRotation;\n            return;\n        }\n        const labelSizes = this._getLabelSizes();\n        const maxLabelWidth = labelSizes.widest.width;\n        const maxLabelHeight = labelSizes.highest.height;\n        const maxWidth = _limitValue(this.chart.width - maxLabelWidth, 0, this.maxWidth);\n        tickWidth = options.offset ? this.maxWidth / numTicks : maxWidth / (numTicks - 1);\n        if (maxLabelWidth + 6 > tickWidth) {\n            tickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));\n            maxHeight = this.maxHeight - getTickMarkLength(options.grid) - tickOpts.padding - getTitleHeight(options.title, this.chart.options.font);\n            maxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);\n            labelRotation = toDegrees(Math.min(Math.asin(_limitValue((labelSizes.highest.height + 6) / tickWidth, -1, 1)), Math.asin(_limitValue(maxHeight / maxLabelDiagonal, -1, 1)) - Math.asin(_limitValue(maxLabelHeight / maxLabelDiagonal, -1, 1))));\n            labelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));\n        }\n        this.labelRotation = labelRotation;\n    }\n    afterCalculateLabelRotation() {\n        callback(this.options.afterCalculateLabelRotation, [\n            this\n        ]);\n    }\n    afterAutoSkip() {}\n    beforeFit() {\n        callback(this.options.beforeFit, [\n            this\n        ]);\n    }\n    fit() {\n        const minSize = {\n            width: 0,\n            height: 0\n        };\n        const { chart , options: { ticks: tickOpts , title: titleOpts , grid: gridOpts  }  } = this;\n        const display = this._isVisible();\n        const isHorizontal = this.isHorizontal();\n        if (display) {\n            const titleHeight = getTitleHeight(titleOpts, chart.options.font);\n            if (isHorizontal) {\n                minSize.width = this.maxWidth;\n                minSize.height = getTickMarkLength(gridOpts) + titleHeight;\n            } else {\n                minSize.height = this.maxHeight;\n                minSize.width = getTickMarkLength(gridOpts) + titleHeight;\n            }\n            if (tickOpts.display && this.ticks.length) {\n                const { first , last , widest , highest  } = this._getLabelSizes();\n                const tickPadding = tickOpts.padding * 2;\n                const angleRadians = toRadians(this.labelRotation);\n                const cos = Math.cos(angleRadians);\n                const sin = Math.sin(angleRadians);\n                if (isHorizontal) {\n                    const labelHeight = tickOpts.mirror ? 0 : sin * widest.width + cos * highest.height;\n                    minSize.height = Math.min(this.maxHeight, minSize.height + labelHeight + tickPadding);\n                } else {\n                    const labelWidth = tickOpts.mirror ? 0 : cos * widest.width + sin * highest.height;\n                    minSize.width = Math.min(this.maxWidth, minSize.width + labelWidth + tickPadding);\n                }\n                this._calculatePadding(first, last, sin, cos);\n            }\n        }\n        this._handleMargins();\n        if (isHorizontal) {\n            this.width = this._length = chart.width - this._margins.left - this._margins.right;\n            this.height = minSize.height;\n        } else {\n            this.width = minSize.width;\n            this.height = this._length = chart.height - this._margins.top - this._margins.bottom;\n        }\n    }\n    _calculatePadding(first, last, sin, cos) {\n        const { ticks: { align , padding  } , position  } = this.options;\n        const isRotated = this.labelRotation !== 0;\n        const labelsBelowTicks = position !== 'top' && this.axis === 'x';\n        if (this.isHorizontal()) {\n            const offsetLeft = this.getPixelForTick(0) - this.left;\n            const offsetRight = this.right - this.getPixelForTick(this.ticks.length - 1);\n            let paddingLeft = 0;\n            let paddingRight = 0;\n            if (isRotated) {\n                if (labelsBelowTicks) {\n                    paddingLeft = cos * first.width;\n                    paddingRight = sin * last.height;\n                } else {\n                    paddingLeft = sin * first.height;\n                    paddingRight = cos * last.width;\n                }\n            } else if (align === 'start') {\n                paddingRight = last.width;\n            } else if (align === 'end') {\n                paddingLeft = first.width;\n            } else if (align !== 'inner') {\n                paddingLeft = first.width / 2;\n                paddingRight = last.width / 2;\n            }\n            this.paddingLeft = Math.max((paddingLeft - offsetLeft + padding) * this.width / (this.width - offsetLeft), 0);\n            this.paddingRight = Math.max((paddingRight - offsetRight + padding) * this.width / (this.width - offsetRight), 0);\n        } else {\n            let paddingTop = last.height / 2;\n            let paddingBottom = first.height / 2;\n            if (align === 'start') {\n                paddingTop = 0;\n                paddingBottom = first.height;\n            } else if (align === 'end') {\n                paddingTop = last.height;\n                paddingBottom = 0;\n            }\n            this.paddingTop = paddingTop + padding;\n            this.paddingBottom = paddingBottom + padding;\n        }\n    }\n _handleMargins() {\n        if (this._margins) {\n            this._margins.left = Math.max(this.paddingLeft, this._margins.left);\n            this._margins.top = Math.max(this.paddingTop, this._margins.top);\n            this._margins.right = Math.max(this.paddingRight, this._margins.right);\n            this._margins.bottom = Math.max(this.paddingBottom, this._margins.bottom);\n        }\n    }\n    afterFit() {\n        callback(this.options.afterFit, [\n            this\n        ]);\n    }\n isHorizontal() {\n        const { axis , position  } = this.options;\n        return position === 'top' || position === 'bottom' || axis === 'x';\n    }\n isFullSize() {\n        return this.options.fullSize;\n    }\n _convertTicksToLabels(ticks) {\n        this.beforeTickToLabelConversion();\n        this.generateTickLabels(ticks);\n        let i, ilen;\n        for(i = 0, ilen = ticks.length; i < ilen; i++){\n            if (isNullOrUndef(ticks[i].label)) {\n                ticks.splice(i, 1);\n                ilen--;\n                i--;\n            }\n        }\n        this.afterTickToLabelConversion();\n    }\n _getLabelSizes() {\n        let labelSizes = this._labelSizes;\n        if (!labelSizes) {\n            const sampleSize = this.options.ticks.sampleSize;\n            let ticks = this.ticks;\n            if (sampleSize < ticks.length) {\n                ticks = sample(ticks, sampleSize);\n            }\n            this._labelSizes = labelSizes = this._computeLabelSizes(ticks, ticks.length, this.options.ticks.maxTicksLimit);\n        }\n        return labelSizes;\n    }\n _computeLabelSizes(ticks, length, maxTicksLimit) {\n        const { ctx , _longestTextCache: caches  } = this;\n        const widths = [];\n        const heights = [];\n        const increment = Math.floor(length / getTicksLimit(length, maxTicksLimit));\n        let widestLabelSize = 0;\n        let highestLabelSize = 0;\n        let i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel;\n        for(i = 0; i < length; i += increment){\n            label = ticks[i].label;\n            tickFont = this._resolveTickFontOptions(i);\n            ctx.font = fontString = tickFont.string;\n            cache = caches[fontString] = caches[fontString] || {\n                data: {},\n                gc: []\n            };\n            lineHeight = tickFont.lineHeight;\n            width = height = 0;\n            if (!isNullOrUndef(label) && !isArray(label)) {\n                width = _measureText(ctx, cache.data, cache.gc, width, label);\n                height = lineHeight;\n            } else if (isArray(label)) {\n                for(j = 0, jlen = label.length; j < jlen; ++j){\n                    nestedLabel =  label[j];\n                    if (!isNullOrUndef(nestedLabel) && !isArray(nestedLabel)) {\n                        width = _measureText(ctx, cache.data, cache.gc, width, nestedLabel);\n                        height += lineHeight;\n                    }\n                }\n            }\n            widths.push(width);\n            heights.push(height);\n            widestLabelSize = Math.max(width, widestLabelSize);\n            highestLabelSize = Math.max(height, highestLabelSize);\n        }\n        garbageCollect(caches, length);\n        const widest = widths.indexOf(widestLabelSize);\n        const highest = heights.indexOf(highestLabelSize);\n        const valueAt = (idx)=>({\n                width: widths[idx] || 0,\n                height: heights[idx] || 0\n            });\n        return {\n            first: valueAt(0),\n            last: valueAt(length - 1),\n            widest: valueAt(widest),\n            highest: valueAt(highest),\n            widths,\n            heights\n        };\n    }\n getLabelForValue(value) {\n        return value;\n    }\n getPixelForValue(value, index) {\n        return NaN;\n    }\n getValueForPixel(pixel) {}\n getPixelForTick(index) {\n        const ticks = this.ticks;\n        if (index < 0 || index > ticks.length - 1) {\n            return null;\n        }\n        return this.getPixelForValue(ticks[index].value);\n    }\n getPixelForDecimal(decimal) {\n        if (this._reversePixels) {\n            decimal = 1 - decimal;\n        }\n        const pixel = this._startPixel + decimal * this._length;\n        return _int16Range(this._alignToPixels ? _alignPixel(this.chart, pixel, 0) : pixel);\n    }\n getDecimalForPixel(pixel) {\n        const decimal = (pixel - this._startPixel) / this._length;\n        return this._reversePixels ? 1 - decimal : decimal;\n    }\n getBasePixel() {\n        return this.getPixelForValue(this.getBaseValue());\n    }\n getBaseValue() {\n        const { min , max  } = this;\n        return min < 0 && max < 0 ? max : min > 0 && max > 0 ? min : 0;\n    }\n getContext(index) {\n        const ticks = this.ticks || [];\n        if (index >= 0 && index < ticks.length) {\n            const tick = ticks[index];\n            return tick.$context || (tick.$context = createTickContext(this.getContext(), index, tick));\n        }\n        return this.$context || (this.$context = createScaleContext(this.chart.getContext(), this));\n    }\n _tickSize() {\n        const optionTicks = this.options.ticks;\n        const rot = toRadians(this.labelRotation);\n        const cos = Math.abs(Math.cos(rot));\n        const sin = Math.abs(Math.sin(rot));\n        const labelSizes = this._getLabelSizes();\n        const padding = optionTicks.autoSkipPadding || 0;\n        const w = labelSizes ? labelSizes.widest.width + padding : 0;\n        const h = labelSizes ? labelSizes.highest.height + padding : 0;\n        return this.isHorizontal() ? h * cos > w * sin ? w / cos : h / sin : h * sin < w * cos ? h / cos : w / sin;\n    }\n _isVisible() {\n        const display = this.options.display;\n        if (display !== 'auto') {\n            return !!display;\n        }\n        return this.getMatchingVisibleMetas().length > 0;\n    }\n _computeGridLineItems(chartArea) {\n        const axis = this.axis;\n        const chart = this.chart;\n        const options = this.options;\n        const { grid , position , border  } = options;\n        const offset = grid.offset;\n        const isHorizontal = this.isHorizontal();\n        const ticks = this.ticks;\n        const ticksLength = ticks.length + (offset ? 1 : 0);\n        const tl = getTickMarkLength(grid);\n        const items = [];\n        const borderOpts = border.setContext(this.getContext());\n        const axisWidth = borderOpts.display ? borderOpts.width : 0;\n        const axisHalfWidth = axisWidth / 2;\n        const alignBorderValue = function(pixel) {\n            return _alignPixel(chart, pixel, axisWidth);\n        };\n        let borderValue, i, lineValue, alignedLineValue;\n        let tx1, ty1, tx2, ty2, x1, y1, x2, y2;\n        if (position === 'top') {\n            borderValue = alignBorderValue(this.bottom);\n            ty1 = this.bottom - tl;\n            ty2 = borderValue - axisHalfWidth;\n            y1 = alignBorderValue(chartArea.top) + axisHalfWidth;\n            y2 = chartArea.bottom;\n        } else if (position === 'bottom') {\n            borderValue = alignBorderValue(this.top);\n            y1 = chartArea.top;\n            y2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;\n            ty1 = borderValue + axisHalfWidth;\n            ty2 = this.top + tl;\n        } else if (position === 'left') {\n            borderValue = alignBorderValue(this.right);\n            tx1 = this.right - tl;\n            tx2 = borderValue - axisHalfWidth;\n            x1 = alignBorderValue(chartArea.left) + axisHalfWidth;\n            x2 = chartArea.right;\n        } else if (position === 'right') {\n            borderValue = alignBorderValue(this.left);\n            x1 = chartArea.left;\n            x2 = alignBorderValue(chartArea.right) - axisHalfWidth;\n            tx1 = borderValue + axisHalfWidth;\n            tx2 = this.left + tl;\n        } else if (axis === 'x') {\n            if (position === 'center') {\n                borderValue = alignBorderValue((chartArea.top + chartArea.bottom) / 2 + 0.5);\n            } else if (isObject(position)) {\n                const positionAxisID = Object.keys(position)[0];\n                const value = position[positionAxisID];\n                borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n            }\n            y1 = chartArea.top;\n            y2 = chartArea.bottom;\n            ty1 = borderValue + axisHalfWidth;\n            ty2 = ty1 + tl;\n        } else if (axis === 'y') {\n            if (position === 'center') {\n                borderValue = alignBorderValue((chartArea.left + chartArea.right) / 2);\n            } else if (isObject(position)) {\n                const positionAxisID = Object.keys(position)[0];\n                const value = position[positionAxisID];\n                borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n            }\n            tx1 = borderValue - axisHalfWidth;\n            tx2 = tx1 - tl;\n            x1 = chartArea.left;\n            x2 = chartArea.right;\n        }\n        const limit = valueOrDefault(options.ticks.maxTicksLimit, ticksLength);\n        const step = Math.max(1, Math.ceil(ticksLength / limit));\n        for(i = 0; i < ticksLength; i += step){\n            const context = this.getContext(i);\n            const optsAtIndex = grid.setContext(context);\n            const optsAtIndexBorder = border.setContext(context);\n            const lineWidth = optsAtIndex.lineWidth;\n            const lineColor = optsAtIndex.color;\n            const borderDash = optsAtIndexBorder.dash || [];\n            const borderDashOffset = optsAtIndexBorder.dashOffset;\n            const tickWidth = optsAtIndex.tickWidth;\n            const tickColor = optsAtIndex.tickColor;\n            const tickBorderDash = optsAtIndex.tickBorderDash || [];\n            const tickBorderDashOffset = optsAtIndex.tickBorderDashOffset;\n            lineValue = getPixelForGridLine(this, i, offset);\n            if (lineValue === undefined) {\n                continue;\n            }\n            alignedLineValue = _alignPixel(chart, lineValue, lineWidth);\n            if (isHorizontal) {\n                tx1 = tx2 = x1 = x2 = alignedLineValue;\n            } else {\n                ty1 = ty2 = y1 = y2 = alignedLineValue;\n            }\n            items.push({\n                tx1,\n                ty1,\n                tx2,\n                ty2,\n                x1,\n                y1,\n                x2,\n                y2,\n                width: lineWidth,\n                color: lineColor,\n                borderDash,\n                borderDashOffset,\n                tickWidth,\n                tickColor,\n                tickBorderDash,\n                tickBorderDashOffset\n            });\n        }\n        this._ticksLength = ticksLength;\n        this._borderValue = borderValue;\n        return items;\n    }\n _computeLabelItems(chartArea) {\n        const axis = this.axis;\n        const options = this.options;\n        const { position , ticks: optionTicks  } = options;\n        const isHorizontal = this.isHorizontal();\n        const ticks = this.ticks;\n        const { align , crossAlign , padding , mirror  } = optionTicks;\n        const tl = getTickMarkLength(options.grid);\n        const tickAndPadding = tl + padding;\n        const hTickAndPadding = mirror ? -padding : tickAndPadding;\n        const rotation = -toRadians(this.labelRotation);\n        const items = [];\n        let i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;\n        let textBaseline = 'middle';\n        if (position === 'top') {\n            y = this.bottom - hTickAndPadding;\n            textAlign = this._getXAxisLabelAlignment();\n        } else if (position === 'bottom') {\n            y = this.top + hTickAndPadding;\n            textAlign = this._getXAxisLabelAlignment();\n        } else if (position === 'left') {\n            const ret = this._getYAxisLabelAlignment(tl);\n            textAlign = ret.textAlign;\n            x = ret.x;\n        } else if (position === 'right') {\n            const ret = this._getYAxisLabelAlignment(tl);\n            textAlign = ret.textAlign;\n            x = ret.x;\n        } else if (axis === 'x') {\n            if (position === 'center') {\n                y = (chartArea.top + chartArea.bottom) / 2 + tickAndPadding;\n            } else if (isObject(position)) {\n                const positionAxisID = Object.keys(position)[0];\n                const value = position[positionAxisID];\n                y = this.chart.scales[positionAxisID].getPixelForValue(value) + tickAndPadding;\n            }\n            textAlign = this._getXAxisLabelAlignment();\n        } else if (axis === 'y') {\n            if (position === 'center') {\n                x = (chartArea.left + chartArea.right) / 2 - tickAndPadding;\n            } else if (isObject(position)) {\n                const positionAxisID = Object.keys(position)[0];\n                const value = position[positionAxisID];\n                x = this.chart.scales[positionAxisID].getPixelForValue(value);\n            }\n            textAlign = this._getYAxisLabelAlignment(tl).textAlign;\n        }\n        if (axis === 'y') {\n            if (align === 'start') {\n                textBaseline = 'top';\n            } else if (align === 'end') {\n                textBaseline = 'bottom';\n            }\n        }\n        const labelSizes = this._getLabelSizes();\n        for(i = 0, ilen = ticks.length; i < ilen; ++i){\n            tick = ticks[i];\n            label = tick.label;\n            const optsAtIndex = optionTicks.setContext(this.getContext(i));\n            pixel = this.getPixelForTick(i) + optionTicks.labelOffset;\n            font = this._resolveTickFontOptions(i);\n            lineHeight = font.lineHeight;\n            lineCount = isArray(label) ? label.length : 1;\n            const halfCount = lineCount / 2;\n            const color = optsAtIndex.color;\n            const strokeColor = optsAtIndex.textStrokeColor;\n            const strokeWidth = optsAtIndex.textStrokeWidth;\n            let tickTextAlign = textAlign;\n            if (isHorizontal) {\n                x = pixel;\n                if (textAlign === 'inner') {\n                    if (i === ilen - 1) {\n                        tickTextAlign = !this.options.reverse ? 'right' : 'left';\n                    } else if (i === 0) {\n                        tickTextAlign = !this.options.reverse ? 'left' : 'right';\n                    } else {\n                        tickTextAlign = 'center';\n                    }\n                }\n                if (position === 'top') {\n                    if (crossAlign === 'near' || rotation !== 0) {\n                        textOffset = -lineCount * lineHeight + lineHeight / 2;\n                    } else if (crossAlign === 'center') {\n                        textOffset = -labelSizes.highest.height / 2 - halfCount * lineHeight + lineHeight;\n                    } else {\n                        textOffset = -labelSizes.highest.height + lineHeight / 2;\n                    }\n                } else {\n                    if (crossAlign === 'near' || rotation !== 0) {\n                        textOffset = lineHeight / 2;\n                    } else if (crossAlign === 'center') {\n                        textOffset = labelSizes.highest.height / 2 - halfCount * lineHeight;\n                    } else {\n                        textOffset = labelSizes.highest.height - lineCount * lineHeight;\n                    }\n                }\n                if (mirror) {\n                    textOffset *= -1;\n                }\n                if (rotation !== 0 && !optsAtIndex.showLabelBackdrop) {\n                    x += lineHeight / 2 * Math.sin(rotation);\n                }\n            } else {\n                y = pixel;\n                textOffset = (1 - lineCount) * lineHeight / 2;\n            }\n            let backdrop;\n            if (optsAtIndex.showLabelBackdrop) {\n                const labelPadding = toPadding(optsAtIndex.backdropPadding);\n                const height = labelSizes.heights[i];\n                const width = labelSizes.widths[i];\n                let top = textOffset - labelPadding.top;\n                let left = 0 - labelPadding.left;\n                switch(textBaseline){\n                    case 'middle':\n                        top -= height / 2;\n                        break;\n                    case 'bottom':\n                        top -= height;\n                        break;\n                }\n                switch(textAlign){\n                    case 'center':\n                        left -= width / 2;\n                        break;\n                    case 'right':\n                        left -= width;\n                        break;\n                    case 'inner':\n                        if (i === ilen - 1) {\n                            left -= width;\n                        } else if (i > 0) {\n                            left -= width / 2;\n                        }\n                        break;\n                }\n                backdrop = {\n                    left,\n                    top,\n                    width: width + labelPadding.width,\n                    height: height + labelPadding.height,\n                    color: optsAtIndex.backdropColor\n                };\n            }\n            items.push({\n                label,\n                font,\n                textOffset,\n                options: {\n                    rotation,\n                    color,\n                    strokeColor,\n                    strokeWidth,\n                    textAlign: tickTextAlign,\n                    textBaseline,\n                    translation: [\n                        x,\n                        y\n                    ],\n                    backdrop\n                }\n            });\n        }\n        return items;\n    }\n    _getXAxisLabelAlignment() {\n        const { position , ticks  } = this.options;\n        const rotation = -toRadians(this.labelRotation);\n        if (rotation) {\n            return position === 'top' ? 'left' : 'right';\n        }\n        let align = 'center';\n        if (ticks.align === 'start') {\n            align = 'left';\n        } else if (ticks.align === 'end') {\n            align = 'right';\n        } else if (ticks.align === 'inner') {\n            align = 'inner';\n        }\n        return align;\n    }\n    _getYAxisLabelAlignment(tl) {\n        const { position , ticks: { crossAlign , mirror , padding  }  } = this.options;\n        const labelSizes = this._getLabelSizes();\n        const tickAndPadding = tl + padding;\n        const widest = labelSizes.widest.width;\n        let textAlign;\n        let x;\n        if (position === 'left') {\n            if (mirror) {\n                x = this.right + padding;\n                if (crossAlign === 'near') {\n                    textAlign = 'left';\n                } else if (crossAlign === 'center') {\n                    textAlign = 'center';\n                    x += widest / 2;\n                } else {\n                    textAlign = 'right';\n                    x += widest;\n                }\n            } else {\n                x = this.right - tickAndPadding;\n                if (crossAlign === 'near') {\n                    textAlign = 'right';\n                } else if (crossAlign === 'center') {\n                    textAlign = 'center';\n                    x -= widest / 2;\n                } else {\n                    textAlign = 'left';\n                    x = this.left;\n                }\n            }\n        } else if (position === 'right') {\n            if (mirror) {\n                x = this.left + padding;\n                if (crossAlign === 'near') {\n                    textAlign = 'right';\n                } else if (crossAlign === 'center') {\n                    textAlign = 'center';\n                    x -= widest / 2;\n                } else {\n                    textAlign = 'left';\n                    x -= widest;\n                }\n            } else {\n                x = this.left + tickAndPadding;\n                if (crossAlign === 'near') {\n                    textAlign = 'left';\n                } else if (crossAlign === 'center') {\n                    textAlign = 'center';\n                    x += widest / 2;\n                } else {\n                    textAlign = 'right';\n                    x = this.right;\n                }\n            }\n        } else {\n            textAlign = 'right';\n        }\n        return {\n            textAlign,\n            x\n        };\n    }\n _computeLabelArea() {\n        if (this.options.ticks.mirror) {\n            return;\n        }\n        const chart = this.chart;\n        const position = this.options.position;\n        if (position === 'left' || position === 'right') {\n            return {\n                top: 0,\n                left: this.left,\n                bottom: chart.height,\n                right: this.right\n            };\n        }\n        if (position === 'top' || position === 'bottom') {\n            return {\n                top: this.top,\n                left: 0,\n                bottom: this.bottom,\n                right: chart.width\n            };\n        }\n    }\n drawBackground() {\n        const { ctx , options: { backgroundColor  } , left , top , width , height  } = this;\n        if (backgroundColor) {\n            ctx.save();\n            ctx.fillStyle = backgroundColor;\n            ctx.fillRect(left, top, width, height);\n            ctx.restore();\n        }\n    }\n    getLineWidthForValue(value) {\n        const grid = this.options.grid;\n        if (!this._isVisible() || !grid.display) {\n            return 0;\n        }\n        const ticks = this.ticks;\n        const index = ticks.findIndex((t)=>t.value === value);\n        if (index >= 0) {\n            const opts = grid.setContext(this.getContext(index));\n            return opts.lineWidth;\n        }\n        return 0;\n    }\n drawGrid(chartArea) {\n        const grid = this.options.grid;\n        const ctx = this.ctx;\n        const items = this._gridLineItems || (this._gridLineItems = this._computeGridLineItems(chartArea));\n        let i, ilen;\n        const drawLine = (p1, p2, style)=>{\n            if (!style.width || !style.color) {\n                return;\n            }\n            ctx.save();\n            ctx.lineWidth = style.width;\n            ctx.strokeStyle = style.color;\n            ctx.setLineDash(style.borderDash || []);\n            ctx.lineDashOffset = style.borderDashOffset;\n            ctx.beginPath();\n            ctx.moveTo(p1.x, p1.y);\n            ctx.lineTo(p2.x, p2.y);\n            ctx.stroke();\n            ctx.restore();\n        };\n        if (grid.display) {\n            for(i = 0, ilen = items.length; i < ilen; ++i){\n                const item = items[i];\n                if (grid.drawOnChartArea) {\n                    drawLine({\n                        x: item.x1,\n                        y: item.y1\n                    }, {\n                        x: item.x2,\n                        y: item.y2\n                    }, item);\n                }\n                if (grid.drawTicks) {\n                    drawLine({\n                        x: item.tx1,\n                        y: item.ty1\n                    }, {\n                        x: item.tx2,\n                        y: item.ty2\n                    }, {\n                        color: item.tickColor,\n                        width: item.tickWidth,\n                        borderDash: item.tickBorderDash,\n                        borderDashOffset: item.tickBorderDashOffset\n                    });\n                }\n            }\n        }\n    }\n drawBorder() {\n        const { chart , ctx , options: { border , grid  }  } = this;\n        const borderOpts = border.setContext(this.getContext());\n        const axisWidth = border.display ? borderOpts.width : 0;\n        if (!axisWidth) {\n            return;\n        }\n        const lastLineWidth = grid.setContext(this.getContext(0)).lineWidth;\n        const borderValue = this._borderValue;\n        let x1, x2, y1, y2;\n        if (this.isHorizontal()) {\n            x1 = _alignPixel(chart, this.left, axisWidth) - axisWidth / 2;\n            x2 = _alignPixel(chart, this.right, lastLineWidth) + lastLineWidth / 2;\n            y1 = y2 = borderValue;\n        } else {\n            y1 = _alignPixel(chart, this.top, axisWidth) - axisWidth / 2;\n            y2 = _alignPixel(chart, this.bottom, lastLineWidth) + lastLineWidth / 2;\n            x1 = x2 = borderValue;\n        }\n        ctx.save();\n        ctx.lineWidth = borderOpts.width;\n        ctx.strokeStyle = borderOpts.color;\n        ctx.beginPath();\n        ctx.moveTo(x1, y1);\n        ctx.lineTo(x2, y2);\n        ctx.stroke();\n        ctx.restore();\n    }\n drawLabels(chartArea) {\n        const optionTicks = this.options.ticks;\n        if (!optionTicks.display) {\n            return;\n        }\n        const ctx = this.ctx;\n        const area = this._computeLabelArea();\n        if (area) {\n            clipArea(ctx, area);\n        }\n        const items = this.getLabelItems(chartArea);\n        for (const item of items){\n            const renderTextOptions = item.options;\n            const tickFont = item.font;\n            const label = item.label;\n            const y = item.textOffset;\n            renderText(ctx, label, 0, y, tickFont, renderTextOptions);\n        }\n        if (area) {\n            unclipArea(ctx);\n        }\n    }\n drawTitle() {\n        const { ctx , options: { position , title , reverse  }  } = this;\n        if (!title.display) {\n            return;\n        }\n        const font = toFont(title.font);\n        const padding = toPadding(title.padding);\n        const align = title.align;\n        let offset = font.lineHeight / 2;\n        if (position === 'bottom' || position === 'center' || isObject(position)) {\n            offset += padding.bottom;\n            if (isArray(title.text)) {\n                offset += font.lineHeight * (title.text.length - 1);\n            }\n        } else {\n            offset += padding.top;\n        }\n        const { titleX , titleY , maxWidth , rotation  } = titleArgs(this, offset, position, align);\n        renderText(ctx, title.text, 0, 0, font, {\n            color: title.color,\n            maxWidth,\n            rotation,\n            textAlign: titleAlign(align, position, reverse),\n            textBaseline: 'middle',\n            translation: [\n                titleX,\n                titleY\n            ]\n        });\n    }\n    draw(chartArea) {\n        if (!this._isVisible()) {\n            return;\n        }\n        this.drawBackground();\n        this.drawGrid(chartArea);\n        this.drawBorder();\n        this.drawTitle();\n        this.drawLabels(chartArea);\n    }\n _layers() {\n        const opts = this.options;\n        const tz = opts.ticks && opts.ticks.z || 0;\n        const gz = valueOrDefault(opts.grid && opts.grid.z, -1);\n        const bz = valueOrDefault(opts.border && opts.border.z, 0);\n        if (!this._isVisible() || this.draw !== Scale.prototype.draw) {\n            return [\n                {\n                    z: tz,\n                    draw: (chartArea)=>{\n                        this.draw(chartArea);\n                    }\n                }\n            ];\n        }\n        return [\n            {\n                z: gz,\n                draw: (chartArea)=>{\n                    this.drawBackground();\n                    this.drawGrid(chartArea);\n                    this.drawTitle();\n                }\n            },\n            {\n                z: bz,\n                draw: ()=>{\n                    this.drawBorder();\n                }\n            },\n            {\n                z: tz,\n                draw: (chartArea)=>{\n                    this.drawLabels(chartArea);\n                }\n            }\n        ];\n    }\n getMatchingVisibleMetas(type) {\n        const metas = this.chart.getSortedVisibleDatasetMetas();\n        const axisID = this.axis + 'AxisID';\n        const result = [];\n        let i, ilen;\n        for(i = 0, ilen = metas.length; i < ilen; ++i){\n            const meta = metas[i];\n            if (meta[axisID] === this.id && (!type || meta.type === type)) {\n                result.push(meta);\n            }\n        }\n        return result;\n    }\n _resolveTickFontOptions(index) {\n        const opts = this.options.ticks.setContext(this.getContext(index));\n        return toFont(opts.font);\n    }\n _maxDigits() {\n        const fontSize = this._resolveTickFontOptions(0).lineHeight;\n        return (this.isHorizontal() ? this.width : this.height) / fontSize;\n    }\n}\n\nclass TypedRegistry {\n    constructor(type, scope, override){\n        this.type = type;\n        this.scope = scope;\n        this.override = override;\n        this.items = Object.create(null);\n    }\n    isForType(type) {\n        return Object.prototype.isPrototypeOf.call(this.type.prototype, type.prototype);\n    }\n register(item) {\n        const proto = Object.getPrototypeOf(item);\n        let parentScope;\n        if (isIChartComponent(proto)) {\n            parentScope = this.register(proto);\n        }\n        const items = this.items;\n        const id = item.id;\n        const scope = this.scope + '.' + id;\n        if (!id) {\n            throw new Error('class does not have id: ' + item);\n        }\n        if (id in items) {\n            return scope;\n        }\n        items[id] = item;\n        registerDefaults(item, scope, parentScope);\n        if (this.override) {\n            defaults.override(item.id, item.overrides);\n        }\n        return scope;\n    }\n get(id) {\n        return this.items[id];\n    }\n unregister(item) {\n        const items = this.items;\n        const id = item.id;\n        const scope = this.scope;\n        if (id in items) {\n            delete items[id];\n        }\n        if (scope && id in defaults[scope]) {\n            delete defaults[scope][id];\n            if (this.override) {\n                delete overrides[id];\n            }\n        }\n    }\n}\nfunction registerDefaults(item, scope, parentScope) {\n    const itemDefaults = merge(Object.create(null), [\n        parentScope ? defaults.get(parentScope) : {},\n        defaults.get(scope),\n        item.defaults\n    ]);\n    defaults.set(scope, itemDefaults);\n    if (item.defaultRoutes) {\n        routeDefaults(scope, item.defaultRoutes);\n    }\n    if (item.descriptors) {\n        defaults.describe(scope, item.descriptors);\n    }\n}\nfunction routeDefaults(scope, routes) {\n    Object.keys(routes).forEach((property)=>{\n        const propertyParts = property.split('.');\n        const sourceName = propertyParts.pop();\n        const sourceScope = [\n            scope\n        ].concat(propertyParts).join('.');\n        const parts = routes[property].split('.');\n        const targetName = parts.pop();\n        const targetScope = parts.join('.');\n        defaults.route(sourceScope, sourceName, targetScope, targetName);\n    });\n}\nfunction isIChartComponent(proto) {\n    return 'id' in proto && 'defaults' in proto;\n}\n\nclass Registry {\n    constructor(){\n        this.controllers = new TypedRegistry(DatasetController, 'datasets', true);\n        this.elements = new TypedRegistry(Element, 'elements');\n        this.plugins = new TypedRegistry(Object, 'plugins');\n        this.scales = new TypedRegistry(Scale, 'scales');\n        this._typedRegistries = [\n            this.controllers,\n            this.scales,\n            this.elements\n        ];\n    }\n add(...args) {\n        this._each('register', args);\n    }\n    remove(...args) {\n        this._each('unregister', args);\n    }\n addControllers(...args) {\n        this._each('register', args, this.controllers);\n    }\n addElements(...args) {\n        this._each('register', args, this.elements);\n    }\n addPlugins(...args) {\n        this._each('register', args, this.plugins);\n    }\n addScales(...args) {\n        this._each('register', args, this.scales);\n    }\n getController(id) {\n        return this._get(id, this.controllers, 'controller');\n    }\n getElement(id) {\n        return this._get(id, this.elements, 'element');\n    }\n getPlugin(id) {\n        return this._get(id, this.plugins, 'plugin');\n    }\n getScale(id) {\n        return this._get(id, this.scales, 'scale');\n    }\n removeControllers(...args) {\n        this._each('unregister', args, this.controllers);\n    }\n removeElements(...args) {\n        this._each('unregister', args, this.elements);\n    }\n removePlugins(...args) {\n        this._each('unregister', args, this.plugins);\n    }\n removeScales(...args) {\n        this._each('unregister', args, this.scales);\n    }\n _each(method, args, typedRegistry) {\n        [\n            ...args\n        ].forEach((arg)=>{\n            const reg = typedRegistry || this._getRegistryForType(arg);\n            if (typedRegistry || reg.isForType(arg) || reg === this.plugins && arg.id) {\n                this._exec(method, reg, arg);\n            } else {\n                each(arg, (item)=>{\n                    const itemReg = typedRegistry || this._getRegistryForType(item);\n                    this._exec(method, itemReg, item);\n                });\n            }\n        });\n    }\n _exec(method, registry, component) {\n        const camelMethod = _capitalize(method);\n        callback(component['before' + camelMethod], [], component);\n        registry[method](component);\n        callback(component['after' + camelMethod], [], component);\n    }\n _getRegistryForType(type) {\n        for(let i = 0; i < this._typedRegistries.length; i++){\n            const reg = this._typedRegistries[i];\n            if (reg.isForType(type)) {\n                return reg;\n            }\n        }\n        return this.plugins;\n    }\n _get(id, typedRegistry, type) {\n        const item = typedRegistry.get(id);\n        if (item === undefined) {\n            throw new Error('\"' + id + '\" is not a registered ' + type + '.');\n        }\n        return item;\n    }\n}\nvar registry = /* #__PURE__ */ new Registry();\n\nclass PluginService {\n    constructor(){\n        this._init = [];\n    }\n notify(chart, hook, args, filter) {\n        if (hook === 'beforeInit') {\n            this._init = this._createDescriptors(chart, true);\n            this._notify(this._init, chart, 'install');\n        }\n        const descriptors = filter ? this._descriptors(chart).filter(filter) : this._descriptors(chart);\n        const result = this._notify(descriptors, chart, hook, args);\n        if (hook === 'afterDestroy') {\n            this._notify(descriptors, chart, 'stop');\n            this._notify(this._init, chart, 'uninstall');\n        }\n        return result;\n    }\n _notify(descriptors, chart, hook, args) {\n        args = args || {};\n        for (const descriptor of descriptors){\n            const plugin = descriptor.plugin;\n            const method = plugin[hook];\n            const params = [\n                chart,\n                args,\n                descriptor.options\n            ];\n            if (callback(method, params, plugin) === false && args.cancelable) {\n                return false;\n            }\n        }\n        return true;\n    }\n    invalidate() {\n        if (!isNullOrUndef(this._cache)) {\n            this._oldCache = this._cache;\n            this._cache = undefined;\n        }\n    }\n _descriptors(chart) {\n        if (this._cache) {\n            return this._cache;\n        }\n        const descriptors = this._cache = this._createDescriptors(chart);\n        this._notifyStateChanges(chart);\n        return descriptors;\n    }\n    _createDescriptors(chart, all) {\n        const config = chart && chart.config;\n        const options = valueOrDefault(config.options && config.options.plugins, {});\n        const plugins = allPlugins(config);\n        return options === false && !all ? [] : createDescriptors(chart, plugins, options, all);\n    }\n _notifyStateChanges(chart) {\n        const previousDescriptors = this._oldCache || [];\n        const descriptors = this._cache;\n        const diff = (a, b)=>a.filter((x)=>!b.some((y)=>x.plugin.id === y.plugin.id));\n        this._notify(diff(previousDescriptors, descriptors), chart, 'stop');\n        this._notify(diff(descriptors, previousDescriptors), chart, 'start');\n    }\n}\n function allPlugins(config) {\n    const localIds = {};\n    const plugins = [];\n    const keys = Object.keys(registry.plugins.items);\n    for(let i = 0; i < keys.length; i++){\n        plugins.push(registry.getPlugin(keys[i]));\n    }\n    const local = config.plugins || [];\n    for(let i = 0; i < local.length; i++){\n        const plugin = local[i];\n        if (plugins.indexOf(plugin) === -1) {\n            plugins.push(plugin);\n            localIds[plugin.id] = true;\n        }\n    }\n    return {\n        plugins,\n        localIds\n    };\n}\nfunction getOpts(options, all) {\n    if (!all && options === false) {\n        return null;\n    }\n    if (options === true) {\n        return {};\n    }\n    return options;\n}\nfunction createDescriptors(chart, { plugins , localIds  }, options, all) {\n    const result = [];\n    const context = chart.getContext();\n    for (const plugin of plugins){\n        const id = plugin.id;\n        const opts = getOpts(options[id], all);\n        if (opts === null) {\n            continue;\n        }\n        result.push({\n            plugin,\n            options: pluginOpts(chart.config, {\n                plugin,\n                local: localIds[id]\n            }, opts, context)\n        });\n    }\n    return result;\n}\nfunction pluginOpts(config, { plugin , local  }, opts, context) {\n    const keys = config.pluginScopeKeys(plugin);\n    const scopes = config.getOptionScopes(opts, keys);\n    if (local && plugin.defaults) {\n        scopes.push(plugin.defaults);\n    }\n    return config.createResolver(scopes, context, [\n        ''\n    ], {\n        scriptable: false,\n        indexable: false,\n        allKeys: true\n    });\n}\n\nfunction getIndexAxis(type, options) {\n    const datasetDefaults = defaults.datasets[type] || {};\n    const datasetOptions = (options.datasets || {})[type] || {};\n    return datasetOptions.indexAxis || options.indexAxis || datasetDefaults.indexAxis || 'x';\n}\nfunction getAxisFromDefaultScaleID(id, indexAxis) {\n    let axis = id;\n    if (id === '_index_') {\n        axis = indexAxis;\n    } else if (id === '_value_') {\n        axis = indexAxis === 'x' ? 'y' : 'x';\n    }\n    return axis;\n}\nfunction getDefaultScaleIDFromAxis(axis, indexAxis) {\n    return axis === indexAxis ? '_index_' : '_value_';\n}\nfunction idMatchesAxis(id) {\n    if (id === 'x' || id === 'y' || id === 'r') {\n        return id;\n    }\n}\nfunction axisFromPosition(position) {\n    if (position === 'top' || position === 'bottom') {\n        return 'x';\n    }\n    if (position === 'left' || position === 'right') {\n        return 'y';\n    }\n}\nfunction determineAxis(id, ...scaleOptions) {\n    if (idMatchesAxis(id)) {\n        return id;\n    }\n    for (const opts of scaleOptions){\n        const axis = opts.axis || axisFromPosition(opts.position) || id.length > 1 && idMatchesAxis(id[0].toLowerCase());\n        if (axis) {\n            return axis;\n        }\n    }\n    throw new Error(`Cannot determine type of '${id}' axis. Please provide 'axis' or 'position' option.`);\n}\nfunction getAxisFromDataset(id, axis, dataset) {\n    if (dataset[axis + 'AxisID'] === id) {\n        return {\n            axis\n        };\n    }\n}\nfunction retrieveAxisFromDatasets(id, config) {\n    if (config.data && config.data.datasets) {\n        const boundDs = config.data.datasets.filter((d)=>d.xAxisID === id || d.yAxisID === id);\n        if (boundDs.length) {\n            return getAxisFromDataset(id, 'x', boundDs[0]) || getAxisFromDataset(id, 'y', boundDs[0]);\n        }\n    }\n    return {};\n}\nfunction mergeScaleConfig(config, options) {\n    const chartDefaults = overrides[config.type] || {\n        scales: {}\n    };\n    const configScales = options.scales || {};\n    const chartIndexAxis = getIndexAxis(config.type, options);\n    const scales = Object.create(null);\n    Object.keys(configScales).forEach((id)=>{\n        const scaleConf = configScales[id];\n        if (!isObject(scaleConf)) {\n            return console.error(`Invalid scale configuration for scale: ${id}`);\n        }\n        if (scaleConf._proxy) {\n            return console.warn(`Ignoring resolver passed as options for scale: ${id}`);\n        }\n        const axis = determineAxis(id, scaleConf, retrieveAxisFromDatasets(id, config), defaults.scales[scaleConf.type]);\n        const defaultId = getDefaultScaleIDFromAxis(axis, chartIndexAxis);\n        const defaultScaleOptions = chartDefaults.scales || {};\n        scales[id] = mergeIf(Object.create(null), [\n            {\n                axis\n            },\n            scaleConf,\n            defaultScaleOptions[axis],\n            defaultScaleOptions[defaultId]\n        ]);\n    });\n    config.data.datasets.forEach((dataset)=>{\n        const type = dataset.type || config.type;\n        const indexAxis = dataset.indexAxis || getIndexAxis(type, options);\n        const datasetDefaults = overrides[type] || {};\n        const defaultScaleOptions = datasetDefaults.scales || {};\n        Object.keys(defaultScaleOptions).forEach((defaultID)=>{\n            const axis = getAxisFromDefaultScaleID(defaultID, indexAxis);\n            const id = dataset[axis + 'AxisID'] || axis;\n            scales[id] = scales[id] || Object.create(null);\n            mergeIf(scales[id], [\n                {\n                    axis\n                },\n                configScales[id],\n                defaultScaleOptions[defaultID]\n            ]);\n        });\n    });\n    Object.keys(scales).forEach((key)=>{\n        const scale = scales[key];\n        mergeIf(scale, [\n            defaults.scales[scale.type],\n            defaults.scale\n        ]);\n    });\n    return scales;\n}\nfunction initOptions(config) {\n    const options = config.options || (config.options = {});\n    options.plugins = valueOrDefault(options.plugins, {});\n    options.scales = mergeScaleConfig(config, options);\n}\nfunction initData(data) {\n    data = data || {};\n    data.datasets = data.datasets || [];\n    data.labels = data.labels || [];\n    return data;\n}\nfunction initConfig(config) {\n    config = config || {};\n    config.data = initData(config.data);\n    initOptions(config);\n    return config;\n}\nconst keyCache = new Map();\nconst keysCached = new Set();\nfunction cachedKeys(cacheKey, generate) {\n    let keys = keyCache.get(cacheKey);\n    if (!keys) {\n        keys = generate();\n        keyCache.set(cacheKey, keys);\n        keysCached.add(keys);\n    }\n    return keys;\n}\nconst addIfFound = (set, obj, key)=>{\n    const opts = resolveObjectKey(obj, key);\n    if (opts !== undefined) {\n        set.add(opts);\n    }\n};\nclass Config {\n    constructor(config){\n        this._config = initConfig(config);\n        this._scopeCache = new Map();\n        this._resolverCache = new Map();\n    }\n    get platform() {\n        return this._config.platform;\n    }\n    get type() {\n        return this._config.type;\n    }\n    set type(type) {\n        this._config.type = type;\n    }\n    get data() {\n        return this._config.data;\n    }\n    set data(data) {\n        this._config.data = initData(data);\n    }\n    get options() {\n        return this._config.options;\n    }\n    set options(options) {\n        this._config.options = options;\n    }\n    get plugins() {\n        return this._config.plugins;\n    }\n    update() {\n        const config = this._config;\n        this.clearCache();\n        initOptions(config);\n    }\n    clearCache() {\n        this._scopeCache.clear();\n        this._resolverCache.clear();\n    }\n datasetScopeKeys(datasetType) {\n        return cachedKeys(datasetType, ()=>[\n                [\n                    `datasets.${datasetType}`,\n                    ''\n                ]\n            ]);\n    }\n datasetAnimationScopeKeys(datasetType, transition) {\n        return cachedKeys(`${datasetType}.transition.${transition}`, ()=>[\n                [\n                    `datasets.${datasetType}.transitions.${transition}`,\n                    `transitions.${transition}`\n                ],\n                [\n                    `datasets.${datasetType}`,\n                    ''\n                ]\n            ]);\n    }\n datasetElementScopeKeys(datasetType, elementType) {\n        return cachedKeys(`${datasetType}-${elementType}`, ()=>[\n                [\n                    `datasets.${datasetType}.elements.${elementType}`,\n                    `datasets.${datasetType}`,\n                    `elements.${elementType}`,\n                    ''\n                ]\n            ]);\n    }\n pluginScopeKeys(plugin) {\n        const id = plugin.id;\n        const type = this.type;\n        return cachedKeys(`${type}-plugin-${id}`, ()=>[\n                [\n                    `plugins.${id}`,\n                    ...plugin.additionalOptionScopes || []\n                ]\n            ]);\n    }\n _cachedScopes(mainScope, resetCache) {\n        const _scopeCache = this._scopeCache;\n        let cache = _scopeCache.get(mainScope);\n        if (!cache || resetCache) {\n            cache = new Map();\n            _scopeCache.set(mainScope, cache);\n        }\n        return cache;\n    }\n getOptionScopes(mainScope, keyLists, resetCache) {\n        const { options , type  } = this;\n        const cache = this._cachedScopes(mainScope, resetCache);\n        const cached = cache.get(keyLists);\n        if (cached) {\n            return cached;\n        }\n        const scopes = new Set();\n        keyLists.forEach((keys)=>{\n            if (mainScope) {\n                scopes.add(mainScope);\n                keys.forEach((key)=>addIfFound(scopes, mainScope, key));\n            }\n            keys.forEach((key)=>addIfFound(scopes, options, key));\n            keys.forEach((key)=>addIfFound(scopes, overrides[type] || {}, key));\n            keys.forEach((key)=>addIfFound(scopes, defaults, key));\n            keys.forEach((key)=>addIfFound(scopes, descriptors, key));\n        });\n        const array = Array.from(scopes);\n        if (array.length === 0) {\n            array.push(Object.create(null));\n        }\n        if (keysCached.has(keyLists)) {\n            cache.set(keyLists, array);\n        }\n        return array;\n    }\n chartOptionScopes() {\n        const { options , type  } = this;\n        return [\n            options,\n            overrides[type] || {},\n            defaults.datasets[type] || {},\n            {\n                type\n            },\n            defaults,\n            descriptors\n        ];\n    }\n resolveNamedOptions(scopes, names, context, prefixes = [\n        ''\n    ]) {\n        const result = {\n            $shared: true\n        };\n        const { resolver , subPrefixes  } = getResolver(this._resolverCache, scopes, prefixes);\n        let options = resolver;\n        if (needContext(resolver, names)) {\n            result.$shared = false;\n            context = isFunction(context) ? context() : context;\n            const subResolver = this.createResolver(scopes, context, subPrefixes);\n            options = _attachContext(resolver, context, subResolver);\n        }\n        for (const prop of names){\n            result[prop] = options[prop];\n        }\n        return result;\n    }\n createResolver(scopes, context, prefixes = [\n        ''\n    ], descriptorDefaults) {\n        const { resolver  } = getResolver(this._resolverCache, scopes, prefixes);\n        return isObject(context) ? _attachContext(resolver, context, undefined, descriptorDefaults) : resolver;\n    }\n}\nfunction getResolver(resolverCache, scopes, prefixes) {\n    let cache = resolverCache.get(scopes);\n    if (!cache) {\n        cache = new Map();\n        resolverCache.set(scopes, cache);\n    }\n    const cacheKey = prefixes.join();\n    let cached = cache.get(cacheKey);\n    if (!cached) {\n        const resolver = _createResolver(scopes, prefixes);\n        cached = {\n            resolver,\n            subPrefixes: prefixes.filter((p)=>!p.toLowerCase().includes('hover'))\n        };\n        cache.set(cacheKey, cached);\n    }\n    return cached;\n}\nconst hasFunction = (value)=>isObject(value) && Object.getOwnPropertyNames(value).some((key)=>isFunction(value[key]));\nfunction needContext(proxy, names) {\n    const { isScriptable , isIndexable  } = _descriptors(proxy);\n    for (const prop of names){\n        const scriptable = isScriptable(prop);\n        const indexable = isIndexable(prop);\n        const value = (indexable || scriptable) && proxy[prop];\n        if (scriptable && (isFunction(value) || hasFunction(value)) || indexable && isArray(value)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar version = \"4.4.2\";\n\nconst KNOWN_POSITIONS = [\n    'top',\n    'bottom',\n    'left',\n    'right',\n    'chartArea'\n];\nfunction positionIsHorizontal(position, axis) {\n    return position === 'top' || position === 'bottom' || KNOWN_POSITIONS.indexOf(position) === -1 && axis === 'x';\n}\nfunction compare2Level(l1, l2) {\n    return function(a, b) {\n        return a[l1] === b[l1] ? a[l2] - b[l2] : a[l1] - b[l1];\n    };\n}\nfunction onAnimationsComplete(context) {\n    const chart = context.chart;\n    const animationOptions = chart.options.animation;\n    chart.notifyPlugins('afterRender');\n    callback(animationOptions && animationOptions.onComplete, [\n        context\n    ], chart);\n}\nfunction onAnimationProgress(context) {\n    const chart = context.chart;\n    const animationOptions = chart.options.animation;\n    callback(animationOptions && animationOptions.onProgress, [\n        context\n    ], chart);\n}\n function getCanvas(item) {\n    if (_isDomSupported() && typeof item === 'string') {\n        item = document.getElementById(item);\n    } else if (item && item.length) {\n        item = item[0];\n    }\n    if (item && item.canvas) {\n        item = item.canvas;\n    }\n    return item;\n}\nconst instances = {};\nconst getChart = (key)=>{\n    const canvas = getCanvas(key);\n    return Object.values(instances).filter((c)=>c.canvas === canvas).pop();\n};\nfunction moveNumericKeys(obj, start, move) {\n    const keys = Object.keys(obj);\n    for (const key of keys){\n        const intKey = +key;\n        if (intKey >= start) {\n            const value = obj[key];\n            delete obj[key];\n            if (move > 0 || intKey > start) {\n                obj[intKey + move] = value;\n            }\n        }\n    }\n}\n function determineLastEvent(e, lastEvent, inChartArea, isClick) {\n    if (!inChartArea || e.type === 'mouseout') {\n        return null;\n    }\n    if (isClick) {\n        return lastEvent;\n    }\n    return e;\n}\nfunction getSizeForArea(scale, chartArea, field) {\n    return scale.options.clip ? scale[field] : chartArea[field];\n}\nfunction getDatasetArea(meta, chartArea) {\n    const { xScale , yScale  } = meta;\n    if (xScale && yScale) {\n        return {\n            left: getSizeForArea(xScale, chartArea, 'left'),\n            right: getSizeForArea(xScale, chartArea, 'right'),\n            top: getSizeForArea(yScale, chartArea, 'top'),\n            bottom: getSizeForArea(yScale, chartArea, 'bottom')\n        };\n    }\n    return chartArea;\n}\nclass Chart {\n    static defaults = defaults;\n    static instances = instances;\n    static overrides = overrides;\n    static registry = registry;\n    static version = version;\n    static getChart = getChart;\n    static register(...items) {\n        registry.add(...items);\n        invalidatePlugins();\n    }\n    static unregister(...items) {\n        registry.remove(...items);\n        invalidatePlugins();\n    }\n    constructor(item, userConfig){\n        const config = this.config = new Config(userConfig);\n        const initialCanvas = getCanvas(item);\n        const existingChart = getChart(initialCanvas);\n        if (existingChart) {\n            throw new Error('Canvas is already in use. Chart with ID \\'' + existingChart.id + '\\'' + ' must be destroyed before the canvas with ID \\'' + existingChart.canvas.id + '\\' can be reused.');\n        }\n        const options = config.createResolver(config.chartOptionScopes(), this.getContext());\n        this.platform = new (config.platform || _detectPlatform(initialCanvas))();\n        this.platform.updateConfig(config);\n        const context = this.platform.acquireContext(initialCanvas, options.aspectRatio);\n        const canvas = context && context.canvas;\n        const height = canvas && canvas.height;\n        const width = canvas && canvas.width;\n        this.id = uid();\n        this.ctx = context;\n        this.canvas = canvas;\n        this.width = width;\n        this.height = height;\n        this._options = options;\n        this._aspectRatio = this.aspectRatio;\n        this._layers = [];\n        this._metasets = [];\n        this._stacks = undefined;\n        this.boxes = [];\n        this.currentDevicePixelRatio = undefined;\n        this.chartArea = undefined;\n        this._active = [];\n        this._lastEvent = undefined;\n        this._listeners = {};\n         this._responsiveListeners = undefined;\n        this._sortedMetasets = [];\n        this.scales = {};\n        this._plugins = new PluginService();\n        this.$proxies = {};\n        this._hiddenIndices = {};\n        this.attached = false;\n        this._animationsDisabled = undefined;\n        this.$context = undefined;\n        this._doResize = debounce((mode)=>this.update(mode), options.resizeDelay || 0);\n        this._dataChanges = [];\n        instances[this.id] = this;\n        if (!context || !canvas) {\n            console.error(\"Failed to create chart: can't acquire context from the given item\");\n            return;\n        }\n        animator.listen(this, 'complete', onAnimationsComplete);\n        animator.listen(this, 'progress', onAnimationProgress);\n        this._initialize();\n        if (this.attached) {\n            this.update();\n        }\n    }\n    get aspectRatio() {\n        const { options: { aspectRatio , maintainAspectRatio  } , width , height , _aspectRatio  } = this;\n        if (!isNullOrUndef(aspectRatio)) {\n            return aspectRatio;\n        }\n        if (maintainAspectRatio && _aspectRatio) {\n            return _aspectRatio;\n        }\n        return height ? width / height : null;\n    }\n    get data() {\n        return this.config.data;\n    }\n    set data(data) {\n        this.config.data = data;\n    }\n    get options() {\n        return this._options;\n    }\n    set options(options) {\n        this.config.options = options;\n    }\n    get registry() {\n        return registry;\n    }\n _initialize() {\n        this.notifyPlugins('beforeInit');\n        if (this.options.responsive) {\n            this.resize();\n        } else {\n            retinaScale(this, this.options.devicePixelRatio);\n        }\n        this.bindEvents();\n        this.notifyPlugins('afterInit');\n        return this;\n    }\n    clear() {\n        clearCanvas(this.canvas, this.ctx);\n        return this;\n    }\n    stop() {\n        animator.stop(this);\n        return this;\n    }\n resize(width, height) {\n        if (!animator.running(this)) {\n            this._resize(width, height);\n        } else {\n            this._resizeBeforeDraw = {\n                width,\n                height\n            };\n        }\n    }\n    _resize(width, height) {\n        const options = this.options;\n        const canvas = this.canvas;\n        const aspectRatio = options.maintainAspectRatio && this.aspectRatio;\n        const newSize = this.platform.getMaximumSize(canvas, width, height, aspectRatio);\n        const newRatio = options.devicePixelRatio || this.platform.getDevicePixelRatio();\n        const mode = this.width ? 'resize' : 'attach';\n        this.width = newSize.width;\n        this.height = newSize.height;\n        this._aspectRatio = this.aspectRatio;\n        if (!retinaScale(this, newRatio, true)) {\n            return;\n        }\n        this.notifyPlugins('resize', {\n            size: newSize\n        });\n        callback(options.onResize, [\n            this,\n            newSize\n        ], this);\n        if (this.attached) {\n            if (this._doResize(mode)) {\n                this.render();\n            }\n        }\n    }\n    ensureScalesHaveIDs() {\n        const options = this.options;\n        const scalesOptions = options.scales || {};\n        each(scalesOptions, (axisOptions, axisID)=>{\n            axisOptions.id = axisID;\n        });\n    }\n buildOrUpdateScales() {\n        const options = this.options;\n        const scaleOpts = options.scales;\n        const scales = this.scales;\n        const updated = Object.keys(scales).reduce((obj, id)=>{\n            obj[id] = false;\n            return obj;\n        }, {});\n        let items = [];\n        if (scaleOpts) {\n            items = items.concat(Object.keys(scaleOpts).map((id)=>{\n                const scaleOptions = scaleOpts[id];\n                const axis = determineAxis(id, scaleOptions);\n                const isRadial = axis === 'r';\n                const isHorizontal = axis === 'x';\n                return {\n                    options: scaleOptions,\n                    dposition: isRadial ? 'chartArea' : isHorizontal ? 'bottom' : 'left',\n                    dtype: isRadial ? 'radialLinear' : isHorizontal ? 'category' : 'linear'\n                };\n            }));\n        }\n        each(items, (item)=>{\n            const scaleOptions = item.options;\n            const id = scaleOptions.id;\n            const axis = determineAxis(id, scaleOptions);\n            const scaleType = valueOrDefault(scaleOptions.type, item.dtype);\n            if (scaleOptions.position === undefined || positionIsHorizontal(scaleOptions.position, axis) !== positionIsHorizontal(item.dposition)) {\n                scaleOptions.position = item.dposition;\n            }\n            updated[id] = true;\n            let scale = null;\n            if (id in scales && scales[id].type === scaleType) {\n                scale = scales[id];\n            } else {\n                const scaleClass = registry.getScale(scaleType);\n                scale = new scaleClass({\n                    id,\n                    type: scaleType,\n                    ctx: this.ctx,\n                    chart: this\n                });\n                scales[scale.id] = scale;\n            }\n            scale.init(scaleOptions, options);\n        });\n        each(updated, (hasUpdated, id)=>{\n            if (!hasUpdated) {\n                delete scales[id];\n            }\n        });\n        each(scales, (scale)=>{\n            layouts.configure(this, scale, scale.options);\n            layouts.addBox(this, scale);\n        });\n    }\n _updateMetasets() {\n        const metasets = this._metasets;\n        const numData = this.data.datasets.length;\n        const numMeta = metasets.length;\n        metasets.sort((a, b)=>a.index - b.index);\n        if (numMeta > numData) {\n            for(let i = numData; i < numMeta; ++i){\n                this._destroyDatasetMeta(i);\n            }\n            metasets.splice(numData, numMeta - numData);\n        }\n        this._sortedMetasets = metasets.slice(0).sort(compare2Level('order', 'index'));\n    }\n _removeUnreferencedMetasets() {\n        const { _metasets: metasets , data: { datasets  }  } = this;\n        if (metasets.length > datasets.length) {\n            delete this._stacks;\n        }\n        metasets.forEach((meta, index)=>{\n            if (datasets.filter((x)=>x === meta._dataset).length === 0) {\n                this._destroyDatasetMeta(index);\n            }\n        });\n    }\n    buildOrUpdateControllers() {\n        const newControllers = [];\n        const datasets = this.data.datasets;\n        let i, ilen;\n        this._removeUnreferencedMetasets();\n        for(i = 0, ilen = datasets.length; i < ilen; i++){\n            const dataset = datasets[i];\n            let meta = this.getDatasetMeta(i);\n            const type = dataset.type || this.config.type;\n            if (meta.type && meta.type !== type) {\n                this._destroyDatasetMeta(i);\n                meta = this.getDatasetMeta(i);\n            }\n            meta.type = type;\n            meta.indexAxis = dataset.indexAxis || getIndexAxis(type, this.options);\n            meta.order = dataset.order || 0;\n            meta.index = i;\n            meta.label = '' + dataset.label;\n            meta.visible = this.isDatasetVisible(i);\n            if (meta.controller) {\n                meta.controller.updateIndex(i);\n                meta.controller.linkScales();\n            } else {\n                const ControllerClass = registry.getController(type);\n                const { datasetElementType , dataElementType  } = defaults.datasets[type];\n                Object.assign(ControllerClass, {\n                    dataElementType: registry.getElement(dataElementType),\n                    datasetElementType: datasetElementType && registry.getElement(datasetElementType)\n                });\n                meta.controller = new ControllerClass(this, i);\n                newControllers.push(meta.controller);\n            }\n        }\n        this._updateMetasets();\n        return newControllers;\n    }\n _resetElements() {\n        each(this.data.datasets, (dataset, datasetIndex)=>{\n            this.getDatasetMeta(datasetIndex).controller.reset();\n        }, this);\n    }\n reset() {\n        this._resetElements();\n        this.notifyPlugins('reset');\n    }\n    update(mode) {\n        const config = this.config;\n        config.update();\n        const options = this._options = config.createResolver(config.chartOptionScopes(), this.getContext());\n        const animsDisabled = this._animationsDisabled = !options.animation;\n        this._updateScales();\n        this._checkEventBindings();\n        this._updateHiddenIndices();\n        this._plugins.invalidate();\n        if (this.notifyPlugins('beforeUpdate', {\n            mode,\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        const newControllers = this.buildOrUpdateControllers();\n        this.notifyPlugins('beforeElementsUpdate');\n        let minPadding = 0;\n        for(let i = 0, ilen = this.data.datasets.length; i < ilen; i++){\n            const { controller  } = this.getDatasetMeta(i);\n            const reset = !animsDisabled && newControllers.indexOf(controller) === -1;\n            controller.buildOrUpdateElements(reset);\n            minPadding = Math.max(+controller.getMaxOverflow(), minPadding);\n        }\n        minPadding = this._minPadding = options.layout.autoPadding ? minPadding : 0;\n        this._updateLayout(minPadding);\n        if (!animsDisabled) {\n            each(newControllers, (controller)=>{\n                controller.reset();\n            });\n        }\n        this._updateDatasets(mode);\n        this.notifyPlugins('afterUpdate', {\n            mode\n        });\n        this._layers.sort(compare2Level('z', '_idx'));\n        const { _active , _lastEvent  } = this;\n        if (_lastEvent) {\n            this._eventHandler(_lastEvent, true);\n        } else if (_active.length) {\n            this._updateHoverStyles(_active, _active, true);\n        }\n        this.render();\n    }\n _updateScales() {\n        each(this.scales, (scale)=>{\n            layouts.removeBox(this, scale);\n        });\n        this.ensureScalesHaveIDs();\n        this.buildOrUpdateScales();\n    }\n _checkEventBindings() {\n        const options = this.options;\n        const existingEvents = new Set(Object.keys(this._listeners));\n        const newEvents = new Set(options.events);\n        if (!setsEqual(existingEvents, newEvents) || !!this._responsiveListeners !== options.responsive) {\n            this.unbindEvents();\n            this.bindEvents();\n        }\n    }\n _updateHiddenIndices() {\n        const { _hiddenIndices  } = this;\n        const changes = this._getUniformDataChanges() || [];\n        for (const { method , start , count  } of changes){\n            const move = method === '_removeElements' ? -count : count;\n            moveNumericKeys(_hiddenIndices, start, move);\n        }\n    }\n _getUniformDataChanges() {\n        const _dataChanges = this._dataChanges;\n        if (!_dataChanges || !_dataChanges.length) {\n            return;\n        }\n        this._dataChanges = [];\n        const datasetCount = this.data.datasets.length;\n        const makeSet = (idx)=>new Set(_dataChanges.filter((c)=>c[0] === idx).map((c, i)=>i + ',' + c.splice(1).join(',')));\n        const changeSet = makeSet(0);\n        for(let i = 1; i < datasetCount; i++){\n            if (!setsEqual(changeSet, makeSet(i))) {\n                return;\n            }\n        }\n        return Array.from(changeSet).map((c)=>c.split(',')).map((a)=>({\n                method: a[1],\n                start: +a[2],\n                count: +a[3]\n            }));\n    }\n _updateLayout(minPadding) {\n        if (this.notifyPlugins('beforeLayout', {\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        layouts.update(this, this.width, this.height, minPadding);\n        const area = this.chartArea;\n        const noArea = area.width <= 0 || area.height <= 0;\n        this._layers = [];\n        each(this.boxes, (box)=>{\n            if (noArea && box.position === 'chartArea') {\n                return;\n            }\n            if (box.configure) {\n                box.configure();\n            }\n            this._layers.push(...box._layers());\n        }, this);\n        this._layers.forEach((item, index)=>{\n            item._idx = index;\n        });\n        this.notifyPlugins('afterLayout');\n    }\n _updateDatasets(mode) {\n        if (this.notifyPlugins('beforeDatasetsUpdate', {\n            mode,\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        for(let i = 0, ilen = this.data.datasets.length; i < ilen; ++i){\n            this.getDatasetMeta(i).controller.configure();\n        }\n        for(let i = 0, ilen = this.data.datasets.length; i < ilen; ++i){\n            this._updateDataset(i, isFunction(mode) ? mode({\n                datasetIndex: i\n            }) : mode);\n        }\n        this.notifyPlugins('afterDatasetsUpdate', {\n            mode\n        });\n    }\n _updateDataset(index, mode) {\n        const meta = this.getDatasetMeta(index);\n        const args = {\n            meta,\n            index,\n            mode,\n            cancelable: true\n        };\n        if (this.notifyPlugins('beforeDatasetUpdate', args) === false) {\n            return;\n        }\n        meta.controller._update(mode);\n        args.cancelable = false;\n        this.notifyPlugins('afterDatasetUpdate', args);\n    }\n    render() {\n        if (this.notifyPlugins('beforeRender', {\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        if (animator.has(this)) {\n            if (this.attached && !animator.running(this)) {\n                animator.start(this);\n            }\n        } else {\n            this.draw();\n            onAnimationsComplete({\n                chart: this\n            });\n        }\n    }\n    draw() {\n        let i;\n        if (this._resizeBeforeDraw) {\n            const { width , height  } = this._resizeBeforeDraw;\n            this._resize(width, height);\n            this._resizeBeforeDraw = null;\n        }\n        this.clear();\n        if (this.width <= 0 || this.height <= 0) {\n            return;\n        }\n        if (this.notifyPlugins('beforeDraw', {\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        const layers = this._layers;\n        for(i = 0; i < layers.length && layers[i].z <= 0; ++i){\n            layers[i].draw(this.chartArea);\n        }\n        this._drawDatasets();\n        for(; i < layers.length; ++i){\n            layers[i].draw(this.chartArea);\n        }\n        this.notifyPlugins('afterDraw');\n    }\n _getSortedDatasetMetas(filterVisible) {\n        const metasets = this._sortedMetasets;\n        const result = [];\n        let i, ilen;\n        for(i = 0, ilen = metasets.length; i < ilen; ++i){\n            const meta = metasets[i];\n            if (!filterVisible || meta.visible) {\n                result.push(meta);\n            }\n        }\n        return result;\n    }\n getSortedVisibleDatasetMetas() {\n        return this._getSortedDatasetMetas(true);\n    }\n _drawDatasets() {\n        if (this.notifyPlugins('beforeDatasetsDraw', {\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        const metasets = this.getSortedVisibleDatasetMetas();\n        for(let i = metasets.length - 1; i >= 0; --i){\n            this._drawDataset(metasets[i]);\n        }\n        this.notifyPlugins('afterDatasetsDraw');\n    }\n _drawDataset(meta) {\n        const ctx = this.ctx;\n        const clip = meta._clip;\n        const useClip = !clip.disabled;\n        const area = getDatasetArea(meta, this.chartArea);\n        const args = {\n            meta,\n            index: meta.index,\n            cancelable: true\n        };\n        if (this.notifyPlugins('beforeDatasetDraw', args) === false) {\n            return;\n        }\n        if (useClip) {\n            clipArea(ctx, {\n                left: clip.left === false ? 0 : area.left - clip.left,\n                right: clip.right === false ? this.width : area.right + clip.right,\n                top: clip.top === false ? 0 : area.top - clip.top,\n                bottom: clip.bottom === false ? this.height : area.bottom + clip.bottom\n            });\n        }\n        meta.controller.draw();\n        if (useClip) {\n            unclipArea(ctx);\n        }\n        args.cancelable = false;\n        this.notifyPlugins('afterDatasetDraw', args);\n    }\n isPointInArea(point) {\n        return _isPointInArea(point, this.chartArea, this._minPadding);\n    }\n    getElementsAtEventForMode(e, mode, options, useFinalPosition) {\n        const method = Interaction.modes[mode];\n        if (typeof method === 'function') {\n            return method(this, e, options, useFinalPosition);\n        }\n        return [];\n    }\n    getDatasetMeta(datasetIndex) {\n        const dataset = this.data.datasets[datasetIndex];\n        const metasets = this._metasets;\n        let meta = metasets.filter((x)=>x && x._dataset === dataset).pop();\n        if (!meta) {\n            meta = {\n                type: null,\n                data: [],\n                dataset: null,\n                controller: null,\n                hidden: null,\n                xAxisID: null,\n                yAxisID: null,\n                order: dataset && dataset.order || 0,\n                index: datasetIndex,\n                _dataset: dataset,\n                _parsed: [],\n                _sorted: false\n            };\n            metasets.push(meta);\n        }\n        return meta;\n    }\n    getContext() {\n        return this.$context || (this.$context = createContext(null, {\n            chart: this,\n            type: 'chart'\n        }));\n    }\n    getVisibleDatasetCount() {\n        return this.getSortedVisibleDatasetMetas().length;\n    }\n    isDatasetVisible(datasetIndex) {\n        const dataset = this.data.datasets[datasetIndex];\n        if (!dataset) {\n            return false;\n        }\n        const meta = this.getDatasetMeta(datasetIndex);\n        return typeof meta.hidden === 'boolean' ? !meta.hidden : !dataset.hidden;\n    }\n    setDatasetVisibility(datasetIndex, visible) {\n        const meta = this.getDatasetMeta(datasetIndex);\n        meta.hidden = !visible;\n    }\n    toggleDataVisibility(index) {\n        this._hiddenIndices[index] = !this._hiddenIndices[index];\n    }\n    getDataVisibility(index) {\n        return !this._hiddenIndices[index];\n    }\n _updateVisibility(datasetIndex, dataIndex, visible) {\n        const mode = visible ? 'show' : 'hide';\n        const meta = this.getDatasetMeta(datasetIndex);\n        const anims = meta.controller._resolveAnimations(undefined, mode);\n        if (defined(dataIndex)) {\n            meta.data[dataIndex].hidden = !visible;\n            this.update();\n        } else {\n            this.setDatasetVisibility(datasetIndex, visible);\n            anims.update(meta, {\n                visible\n            });\n            this.update((ctx)=>ctx.datasetIndex === datasetIndex ? mode : undefined);\n        }\n    }\n    hide(datasetIndex, dataIndex) {\n        this._updateVisibility(datasetIndex, dataIndex, false);\n    }\n    show(datasetIndex, dataIndex) {\n        this._updateVisibility(datasetIndex, dataIndex, true);\n    }\n _destroyDatasetMeta(datasetIndex) {\n        const meta = this._metasets[datasetIndex];\n        if (meta && meta.controller) {\n            meta.controller._destroy();\n        }\n        delete this._metasets[datasetIndex];\n    }\n    _stop() {\n        let i, ilen;\n        this.stop();\n        animator.remove(this);\n        for(i = 0, ilen = this.data.datasets.length; i < ilen; ++i){\n            this._destroyDatasetMeta(i);\n        }\n    }\n    destroy() {\n        this.notifyPlugins('beforeDestroy');\n        const { canvas , ctx  } = this;\n        this._stop();\n        this.config.clearCache();\n        if (canvas) {\n            this.unbindEvents();\n            clearCanvas(canvas, ctx);\n            this.platform.releaseContext(ctx);\n            this.canvas = null;\n            this.ctx = null;\n        }\n        delete instances[this.id];\n        this.notifyPlugins('afterDestroy');\n    }\n    toBase64Image(...args) {\n        return this.canvas.toDataURL(...args);\n    }\n bindEvents() {\n        this.bindUserEvents();\n        if (this.options.responsive) {\n            this.bindResponsiveEvents();\n        } else {\n            this.attached = true;\n        }\n    }\n bindUserEvents() {\n        const listeners = this._listeners;\n        const platform = this.platform;\n        const _add = (type, listener)=>{\n            platform.addEventListener(this, type, listener);\n            listeners[type] = listener;\n        };\n        const listener = (e, x, y)=>{\n            e.offsetX = x;\n            e.offsetY = y;\n            this._eventHandler(e);\n        };\n        each(this.options.events, (type)=>_add(type, listener));\n    }\n bindResponsiveEvents() {\n        if (!this._responsiveListeners) {\n            this._responsiveListeners = {};\n        }\n        const listeners = this._responsiveListeners;\n        const platform = this.platform;\n        const _add = (type, listener)=>{\n            platform.addEventListener(this, type, listener);\n            listeners[type] = listener;\n        };\n        const _remove = (type, listener)=>{\n            if (listeners[type]) {\n                platform.removeEventListener(this, type, listener);\n                delete listeners[type];\n            }\n        };\n        const listener = (width, height)=>{\n            if (this.canvas) {\n                this.resize(width, height);\n            }\n        };\n        let detached;\n        const attached = ()=>{\n            _remove('attach', attached);\n            this.attached = true;\n            this.resize();\n            _add('resize', listener);\n            _add('detach', detached);\n        };\n        detached = ()=>{\n            this.attached = false;\n            _remove('resize', listener);\n            this._stop();\n            this._resize(0, 0);\n            _add('attach', attached);\n        };\n        if (platform.isAttached(this.canvas)) {\n            attached();\n        } else {\n            detached();\n        }\n    }\n unbindEvents() {\n        each(this._listeners, (listener, type)=>{\n            this.platform.removeEventListener(this, type, listener);\n        });\n        this._listeners = {};\n        each(this._responsiveListeners, (listener, type)=>{\n            this.platform.removeEventListener(this, type, listener);\n        });\n        this._responsiveListeners = undefined;\n    }\n    updateHoverStyle(items, mode, enabled) {\n        const prefix = enabled ? 'set' : 'remove';\n        let meta, item, i, ilen;\n        if (mode === 'dataset') {\n            meta = this.getDatasetMeta(items[0].datasetIndex);\n            meta.controller['_' + prefix + 'DatasetHoverStyle']();\n        }\n        for(i = 0, ilen = items.length; i < ilen; ++i){\n            item = items[i];\n            const controller = item && this.getDatasetMeta(item.datasetIndex).controller;\n            if (controller) {\n                controller[prefix + 'HoverStyle'](item.element, item.datasetIndex, item.index);\n            }\n        }\n    }\n getActiveElements() {\n        return this._active || [];\n    }\n setActiveElements(activeElements) {\n        const lastActive = this._active || [];\n        const active = activeElements.map(({ datasetIndex , index  })=>{\n            const meta = this.getDatasetMeta(datasetIndex);\n            if (!meta) {\n                throw new Error('No dataset found at index ' + datasetIndex);\n            }\n            return {\n                datasetIndex,\n                element: meta.data[index],\n                index\n            };\n        });\n        const changed = !_elementsEqual(active, lastActive);\n        if (changed) {\n            this._active = active;\n            this._lastEvent = null;\n            this._updateHoverStyles(active, lastActive);\n        }\n    }\n notifyPlugins(hook, args, filter) {\n        return this._plugins.notify(this, hook, args, filter);\n    }\n isPluginEnabled(pluginId) {\n        return this._plugins._cache.filter((p)=>p.plugin.id === pluginId).length === 1;\n    }\n _updateHoverStyles(active, lastActive, replay) {\n        const hoverOptions = this.options.hover;\n        const diff = (a, b)=>a.filter((x)=>!b.some((y)=>x.datasetIndex === y.datasetIndex && x.index === y.index));\n        const deactivated = diff(lastActive, active);\n        const activated = replay ? active : diff(active, lastActive);\n        if (deactivated.length) {\n            this.updateHoverStyle(deactivated, hoverOptions.mode, false);\n        }\n        if (activated.length && hoverOptions.mode) {\n            this.updateHoverStyle(activated, hoverOptions.mode, true);\n        }\n    }\n _eventHandler(e, replay) {\n        const args = {\n            event: e,\n            replay,\n            cancelable: true,\n            inChartArea: this.isPointInArea(e)\n        };\n        const eventFilter = (plugin)=>(plugin.options.events || this.options.events).includes(e.native.type);\n        if (this.notifyPlugins('beforeEvent', args, eventFilter) === false) {\n            return;\n        }\n        const changed = this._handleEvent(e, replay, args.inChartArea);\n        args.cancelable = false;\n        this.notifyPlugins('afterEvent', args, eventFilter);\n        if (changed || args.changed) {\n            this.render();\n        }\n        return this;\n    }\n _handleEvent(e, replay, inChartArea) {\n        const { _active: lastActive = [] , options  } = this;\n        const useFinalPosition = replay;\n        const active = this._getActiveElements(e, lastActive, inChartArea, useFinalPosition);\n        const isClick = _isClickEvent(e);\n        const lastEvent = determineLastEvent(e, this._lastEvent, inChartArea, isClick);\n        if (inChartArea) {\n            this._lastEvent = null;\n            callback(options.onHover, [\n                e,\n                active,\n                this\n            ], this);\n            if (isClick) {\n                callback(options.onClick, [\n                    e,\n                    active,\n                    this\n                ], this);\n            }\n        }\n        const changed = !_elementsEqual(active, lastActive);\n        if (changed || replay) {\n            this._active = active;\n            this._updateHoverStyles(active, lastActive, replay);\n        }\n        this._lastEvent = lastEvent;\n        return changed;\n    }\n _getActiveElements(e, lastActive, inChartArea, useFinalPosition) {\n        if (e.type === 'mouseout') {\n            return [];\n        }\n        if (!inChartArea) {\n            return lastActive;\n        }\n        const hoverOptions = this.options.hover;\n        return this.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions, useFinalPosition);\n    }\n}\nfunction invalidatePlugins() {\n    return each(Chart.instances, (chart)=>chart._plugins.invalidate());\n}\n\nfunction clipArc(ctx, element, endAngle) {\n    const { startAngle , pixelMargin , x , y , outerRadius , innerRadius  } = element;\n    let angleMargin = pixelMargin / outerRadius;\n    // Draw an inner border by clipping the arc and drawing a double-width border\n    // Enlarge the clipping arc by 0.33 pixels to eliminate glitches between borders\n    ctx.beginPath();\n    ctx.arc(x, y, outerRadius, startAngle - angleMargin, endAngle + angleMargin);\n    if (innerRadius > pixelMargin) {\n        angleMargin = pixelMargin / innerRadius;\n        ctx.arc(x, y, innerRadius, endAngle + angleMargin, startAngle - angleMargin, true);\n    } else {\n        ctx.arc(x, y, pixelMargin, endAngle + HALF_PI, startAngle - HALF_PI);\n    }\n    ctx.closePath();\n    ctx.clip();\n}\nfunction toRadiusCorners(value) {\n    return _readValueToProps(value, [\n        'outerStart',\n        'outerEnd',\n        'innerStart',\n        'innerEnd'\n    ]);\n}\n/**\n * Parse border radius from the provided options\n */ function parseBorderRadius$1(arc, innerRadius, outerRadius, angleDelta) {\n    const o = toRadiusCorners(arc.options.borderRadius);\n    const halfThickness = (outerRadius - innerRadius) / 2;\n    const innerLimit = Math.min(halfThickness, angleDelta * innerRadius / 2);\n    // Outer limits are complicated. We want to compute the available angular distance at\n    // a radius of outerRadius - borderRadius because for small angular distances, this term limits.\n    // We compute at r = outerRadius - borderRadius because this circle defines the center of the border corners.\n    //\n    // If the borderRadius is large, that value can become negative.\n    // This causes the outer borders to lose their radius entirely, which is rather unexpected. To solve that, if borderRadius > outerRadius\n    // we know that the thickness term will dominate and compute the limits at that point\n    const computeOuterLimit = (val)=>{\n        const outerArcLimit = (outerRadius - Math.min(halfThickness, val)) * angleDelta / 2;\n        return _limitValue(val, 0, Math.min(halfThickness, outerArcLimit));\n    };\n    return {\n        outerStart: computeOuterLimit(o.outerStart),\n        outerEnd: computeOuterLimit(o.outerEnd),\n        innerStart: _limitValue(o.innerStart, 0, innerLimit),\n        innerEnd: _limitValue(o.innerEnd, 0, innerLimit)\n    };\n}\n/**\n * Convert (r, ) to (x, y)\n */ function rThetaToXY(r, theta, x, y) {\n    return {\n        x: x + r * Math.cos(theta),\n        y: y + r * Math.sin(theta)\n    };\n}\n/**\n * Path the arc, respecting border radius by separating into left and right halves.\n *\n *   Start      End\n *\n *    1--->a--->2    Outer\n *   /           \\\n *   8           3\n *   |           |\n *   |           |\n *   7           4\n *   \\           /\n *    6<---b<---5    Inner\n */ function pathArc(ctx, element, offset, spacing, end, circular) {\n    const { x , y , startAngle: start , pixelMargin , innerRadius: innerR  } = element;\n    const outerRadius = Math.max(element.outerRadius + spacing + offset - pixelMargin, 0);\n    const innerRadius = innerR > 0 ? innerR + spacing + offset + pixelMargin : 0;\n    let spacingOffset = 0;\n    const alpha = end - start;\n    if (spacing) {\n        // When spacing is present, it is the same for all items\n        // So we adjust the start and end angle of the arc such that\n        // the distance is the same as it would be without the spacing\n        const noSpacingInnerRadius = innerR > 0 ? innerR - spacing : 0;\n        const noSpacingOuterRadius = outerRadius > 0 ? outerRadius - spacing : 0;\n        const avNogSpacingRadius = (noSpacingInnerRadius + noSpacingOuterRadius) / 2;\n        const adjustedAngle = avNogSpacingRadius !== 0 ? alpha * avNogSpacingRadius / (avNogSpacingRadius + spacing) : alpha;\n        spacingOffset = (alpha - adjustedAngle) / 2;\n    }\n    const beta = Math.max(0.001, alpha * outerRadius - offset / PI) / outerRadius;\n    const angleOffset = (alpha - beta) / 2;\n    const startAngle = start + angleOffset + spacingOffset;\n    const endAngle = end - angleOffset - spacingOffset;\n    const { outerStart , outerEnd , innerStart , innerEnd  } = parseBorderRadius$1(element, innerRadius, outerRadius, endAngle - startAngle);\n    const outerStartAdjustedRadius = outerRadius - outerStart;\n    const outerEndAdjustedRadius = outerRadius - outerEnd;\n    const outerStartAdjustedAngle = startAngle + outerStart / outerStartAdjustedRadius;\n    const outerEndAdjustedAngle = endAngle - outerEnd / outerEndAdjustedRadius;\n    const innerStartAdjustedRadius = innerRadius + innerStart;\n    const innerEndAdjustedRadius = innerRadius + innerEnd;\n    const innerStartAdjustedAngle = startAngle + innerStart / innerStartAdjustedRadius;\n    const innerEndAdjustedAngle = endAngle - innerEnd / innerEndAdjustedRadius;\n    ctx.beginPath();\n    if (circular) {\n        // The first arc segments from point 1 to point a to point 2\n        const outerMidAdjustedAngle = (outerStartAdjustedAngle + outerEndAdjustedAngle) / 2;\n        ctx.arc(x, y, outerRadius, outerStartAdjustedAngle, outerMidAdjustedAngle);\n        ctx.arc(x, y, outerRadius, outerMidAdjustedAngle, outerEndAdjustedAngle);\n        // The corner segment from point 2 to point 3\n        if (outerEnd > 0) {\n            const pCenter = rThetaToXY(outerEndAdjustedRadius, outerEndAdjustedAngle, x, y);\n            ctx.arc(pCenter.x, pCenter.y, outerEnd, outerEndAdjustedAngle, endAngle + HALF_PI);\n        }\n        // The line from point 3 to point 4\n        const p4 = rThetaToXY(innerEndAdjustedRadius, endAngle, x, y);\n        ctx.lineTo(p4.x, p4.y);\n        // The corner segment from point 4 to point 5\n        if (innerEnd > 0) {\n            const pCenter = rThetaToXY(innerEndAdjustedRadius, innerEndAdjustedAngle, x, y);\n            ctx.arc(pCenter.x, pCenter.y, innerEnd, endAngle + HALF_PI, innerEndAdjustedAngle + Math.PI);\n        }\n        // The inner arc from point 5 to point b to point 6\n        const innerMidAdjustedAngle = (endAngle - innerEnd / innerRadius + (startAngle + innerStart / innerRadius)) / 2;\n        ctx.arc(x, y, innerRadius, endAngle - innerEnd / innerRadius, innerMidAdjustedAngle, true);\n        ctx.arc(x, y, innerRadius, innerMidAdjustedAngle, startAngle + innerStart / innerRadius, true);\n        // The corner segment from point 6 to point 7\n        if (innerStart > 0) {\n            const pCenter = rThetaToXY(innerStartAdjustedRadius, innerStartAdjustedAngle, x, y);\n            ctx.arc(pCenter.x, pCenter.y, innerStart, innerStartAdjustedAngle + Math.PI, startAngle - HALF_PI);\n        }\n        // The line from point 7 to point 8\n        const p8 = rThetaToXY(outerStartAdjustedRadius, startAngle, x, y);\n        ctx.lineTo(p8.x, p8.y);\n        // The corner segment from point 8 to point 1\n        if (outerStart > 0) {\n            const pCenter = rThetaToXY(outerStartAdjustedRadius, outerStartAdjustedAngle, x, y);\n            ctx.arc(pCenter.x, pCenter.y, outerStart, startAngle - HALF_PI, outerStartAdjustedAngle);\n        }\n    } else {\n        ctx.moveTo(x, y);\n        const outerStartX = Math.cos(outerStartAdjustedAngle) * outerRadius + x;\n        const outerStartY = Math.sin(outerStartAdjustedAngle) * outerRadius + y;\n        ctx.lineTo(outerStartX, outerStartY);\n        const outerEndX = Math.cos(outerEndAdjustedAngle) * outerRadius + x;\n        const outerEndY = Math.sin(outerEndAdjustedAngle) * outerRadius + y;\n        ctx.lineTo(outerEndX, outerEndY);\n    }\n    ctx.closePath();\n}\nfunction drawArc(ctx, element, offset, spacing, circular) {\n    const { fullCircles , startAngle , circumference  } = element;\n    let endAngle = element.endAngle;\n    if (fullCircles) {\n        pathArc(ctx, element, offset, spacing, endAngle, circular);\n        for(let i = 0; i < fullCircles; ++i){\n            ctx.fill();\n        }\n        if (!isNaN(circumference)) {\n            endAngle = startAngle + (circumference % TAU || TAU);\n        }\n    }\n    pathArc(ctx, element, offset, spacing, endAngle, circular);\n    ctx.fill();\n    return endAngle;\n}\nfunction drawBorder(ctx, element, offset, spacing, circular) {\n    const { fullCircles , startAngle , circumference , options  } = element;\n    const { borderWidth , borderJoinStyle , borderDash , borderDashOffset  } = options;\n    const inner = options.borderAlign === 'inner';\n    if (!borderWidth) {\n        return;\n    }\n    ctx.setLineDash(borderDash || []);\n    ctx.lineDashOffset = borderDashOffset;\n    if (inner) {\n        ctx.lineWidth = borderWidth * 2;\n        ctx.lineJoin = borderJoinStyle || 'round';\n    } else {\n        ctx.lineWidth = borderWidth;\n        ctx.lineJoin = borderJoinStyle || 'bevel';\n    }\n    let endAngle = element.endAngle;\n    if (fullCircles) {\n        pathArc(ctx, element, offset, spacing, endAngle, circular);\n        for(let i = 0; i < fullCircles; ++i){\n            ctx.stroke();\n        }\n        if (!isNaN(circumference)) {\n            endAngle = startAngle + (circumference % TAU || TAU);\n        }\n    }\n    if (inner) {\n        clipArc(ctx, element, endAngle);\n    }\n    if (!fullCircles) {\n        pathArc(ctx, element, offset, spacing, endAngle, circular);\n        ctx.stroke();\n    }\n}\nclass ArcElement extends Element {\n    static id = 'arc';\n    static defaults = {\n        borderAlign: 'center',\n        borderColor: '#fff',\n        borderDash: [],\n        borderDashOffset: 0,\n        borderJoinStyle: undefined,\n        borderRadius: 0,\n        borderWidth: 2,\n        offset: 0,\n        spacing: 0,\n        angle: undefined,\n        circular: true\n    };\n    static defaultRoutes = {\n        backgroundColor: 'backgroundColor'\n    };\n    static descriptors = {\n        _scriptable: true,\n        _indexable: (name)=>name !== 'borderDash'\n    };\n    circumference;\n    endAngle;\n    fullCircles;\n    innerRadius;\n    outerRadius;\n    pixelMargin;\n    startAngle;\n    constructor(cfg){\n        super();\n        this.options = undefined;\n        this.circumference = undefined;\n        this.startAngle = undefined;\n        this.endAngle = undefined;\n        this.innerRadius = undefined;\n        this.outerRadius = undefined;\n        this.pixelMargin = 0;\n        this.fullCircles = 0;\n        if (cfg) {\n            Object.assign(this, cfg);\n        }\n    }\n    inRange(chartX, chartY, useFinalPosition) {\n        const point = this.getProps([\n            'x',\n            'y'\n        ], useFinalPosition);\n        const { angle , distance  } = getAngleFromPoint(point, {\n            x: chartX,\n            y: chartY\n        });\n        const { startAngle , endAngle , innerRadius , outerRadius , circumference  } = this.getProps([\n            'startAngle',\n            'endAngle',\n            'innerRadius',\n            'outerRadius',\n            'circumference'\n        ], useFinalPosition);\n        const rAdjust = (this.options.spacing + this.options.borderWidth) / 2;\n        const _circumference = valueOrDefault(circumference, endAngle - startAngle);\n        const betweenAngles = _circumference >= TAU || _angleBetween(angle, startAngle, endAngle);\n        const withinRadius = _isBetween(distance, innerRadius + rAdjust, outerRadius + rAdjust);\n        return betweenAngles && withinRadius;\n    }\n    getCenterPoint(useFinalPosition) {\n        const { x , y , startAngle , endAngle , innerRadius , outerRadius  } = this.getProps([\n            'x',\n            'y',\n            'startAngle',\n            'endAngle',\n            'innerRadius',\n            'outerRadius'\n        ], useFinalPosition);\n        const { offset , spacing  } = this.options;\n        const halfAngle = (startAngle + endAngle) / 2;\n        const halfRadius = (innerRadius + outerRadius + spacing + offset) / 2;\n        return {\n            x: x + Math.cos(halfAngle) * halfRadius,\n            y: y + Math.sin(halfAngle) * halfRadius\n        };\n    }\n    tooltipPosition(useFinalPosition) {\n        return this.getCenterPoint(useFinalPosition);\n    }\n    draw(ctx) {\n        const { options , circumference  } = this;\n        const offset = (options.offset || 0) / 4;\n        const spacing = (options.spacing || 0) / 2;\n        const circular = options.circular;\n        this.pixelMargin = options.borderAlign === 'inner' ? 0.33 : 0;\n        this.fullCircles = circumference > TAU ? Math.floor(circumference / TAU) : 0;\n        if (circumference === 0 || this.innerRadius < 0 || this.outerRadius < 0) {\n            return;\n        }\n        ctx.save();\n        const halfAngle = (this.startAngle + this.endAngle) / 2;\n        ctx.translate(Math.cos(halfAngle) * offset, Math.sin(halfAngle) * offset);\n        const fix = 1 - Math.sin(Math.min(PI, circumference || 0));\n        const radiusOffset = offset * fix;\n        ctx.fillStyle = options.backgroundColor;\n        ctx.strokeStyle = options.borderColor;\n        drawArc(ctx, this, radiusOffset, spacing, circular);\n        drawBorder(ctx, this, radiusOffset, spacing, circular);\n        ctx.restore();\n    }\n}\n\nfunction setStyle(ctx, options, style = options) {\n    ctx.lineCap = valueOrDefault(style.borderCapStyle, options.borderCapStyle);\n    ctx.setLineDash(valueOrDefault(style.borderDash, options.borderDash));\n    ctx.lineDashOffset = valueOrDefault(style.borderDashOffset, options.borderDashOffset);\n    ctx.lineJoin = valueOrDefault(style.borderJoinStyle, options.borderJoinStyle);\n    ctx.lineWidth = valueOrDefault(style.borderWidth, options.borderWidth);\n    ctx.strokeStyle = valueOrDefault(style.borderColor, options.borderColor);\n}\nfunction lineTo(ctx, previous, target) {\n    ctx.lineTo(target.x, target.y);\n}\n function getLineMethod(options) {\n    if (options.stepped) {\n        return _steppedLineTo;\n    }\n    if (options.tension || options.cubicInterpolationMode === 'monotone') {\n        return _bezierCurveTo;\n    }\n    return lineTo;\n}\nfunction pathVars(points, segment, params = {}) {\n    const count = points.length;\n    const { start: paramsStart = 0 , end: paramsEnd = count - 1  } = params;\n    const { start: segmentStart , end: segmentEnd  } = segment;\n    const start = Math.max(paramsStart, segmentStart);\n    const end = Math.min(paramsEnd, segmentEnd);\n    const outside = paramsStart < segmentStart && paramsEnd < segmentStart || paramsStart > segmentEnd && paramsEnd > segmentEnd;\n    return {\n        count,\n        start,\n        loop: segment.loop,\n        ilen: end < start && !outside ? count + end - start : end - start\n    };\n}\n function pathSegment(ctx, line, segment, params) {\n    const { points , options  } = line;\n    const { count , start , loop , ilen  } = pathVars(points, segment, params);\n    const lineMethod = getLineMethod(options);\n    let { move =true , reverse  } = params || {};\n    let i, point, prev;\n    for(i = 0; i <= ilen; ++i){\n        point = points[(start + (reverse ? ilen - i : i)) % count];\n        if (point.skip) {\n            continue;\n        } else if (move) {\n            ctx.moveTo(point.x, point.y);\n            move = false;\n        } else {\n            lineMethod(ctx, prev, point, reverse, options.stepped);\n        }\n        prev = point;\n    }\n    if (loop) {\n        point = points[(start + (reverse ? ilen : 0)) % count];\n        lineMethod(ctx, prev, point, reverse, options.stepped);\n    }\n    return !!loop;\n}\n function fastPathSegment(ctx, line, segment, params) {\n    const points = line.points;\n    const { count , start , ilen  } = pathVars(points, segment, params);\n    const { move =true , reverse  } = params || {};\n    let avgX = 0;\n    let countX = 0;\n    let i, point, prevX, minY, maxY, lastY;\n    const pointIndex = (index)=>(start + (reverse ? ilen - index : index)) % count;\n    const drawX = ()=>{\n        if (minY !== maxY) {\n            ctx.lineTo(avgX, maxY);\n            ctx.lineTo(avgX, minY);\n            ctx.lineTo(avgX, lastY);\n        }\n    };\n    if (move) {\n        point = points[pointIndex(0)];\n        ctx.moveTo(point.x, point.y);\n    }\n    for(i = 0; i <= ilen; ++i){\n        point = points[pointIndex(i)];\n        if (point.skip) {\n            continue;\n        }\n        const x = point.x;\n        const y = point.y;\n        const truncX = x | 0;\n        if (truncX === prevX) {\n            if (y < minY) {\n                minY = y;\n            } else if (y > maxY) {\n                maxY = y;\n            }\n            avgX = (countX * avgX + x) / ++countX;\n        } else {\n            drawX();\n            ctx.lineTo(x, y);\n            prevX = truncX;\n            countX = 0;\n            minY = maxY = y;\n        }\n        lastY = y;\n    }\n    drawX();\n}\n function _getSegmentMethod(line) {\n    const opts = line.options;\n    const borderDash = opts.borderDash && opts.borderDash.length;\n    const useFastPath = !line._decimated && !line._loop && !opts.tension && opts.cubicInterpolationMode !== 'monotone' && !opts.stepped && !borderDash;\n    return useFastPath ? fastPathSegment : pathSegment;\n}\n function _getInterpolationMethod(options) {\n    if (options.stepped) {\n        return _steppedInterpolation;\n    }\n    if (options.tension || options.cubicInterpolationMode === 'monotone') {\n        return _bezierInterpolation;\n    }\n    return _pointInLine;\n}\nfunction strokePathWithCache(ctx, line, start, count) {\n    let path = line._path;\n    if (!path) {\n        path = line._path = new Path2D();\n        if (line.path(path, start, count)) {\n            path.closePath();\n        }\n    }\n    setStyle(ctx, line.options);\n    ctx.stroke(path);\n}\nfunction strokePathDirect(ctx, line, start, count) {\n    const { segments , options  } = line;\n    const segmentMethod = _getSegmentMethod(line);\n    for (const segment of segments){\n        setStyle(ctx, options, segment.style);\n        ctx.beginPath();\n        if (segmentMethod(ctx, line, segment, {\n            start,\n            end: start + count - 1\n        })) {\n            ctx.closePath();\n        }\n        ctx.stroke();\n    }\n}\nconst usePath2D = typeof Path2D === 'function';\nfunction draw(ctx, line, start, count) {\n    if (usePath2D && !line.options.segment) {\n        strokePathWithCache(ctx, line, start, count);\n    } else {\n        strokePathDirect(ctx, line, start, count);\n    }\n}\nclass LineElement extends Element {\n    static id = 'line';\n static defaults = {\n        borderCapStyle: 'butt',\n        borderDash: [],\n        borderDashOffset: 0,\n        borderJoinStyle: 'miter',\n        borderWidth: 3,\n        capBezierPoints: true,\n        cubicInterpolationMode: 'default',\n        fill: false,\n        spanGaps: false,\n        stepped: false,\n        tension: 0\n    };\n static defaultRoutes = {\n        backgroundColor: 'backgroundColor',\n        borderColor: 'borderColor'\n    };\n    static descriptors = {\n        _scriptable: true,\n        _indexable: (name)=>name !== 'borderDash' && name !== 'fill'\n    };\n    constructor(cfg){\n        super();\n        this.animated = true;\n        this.options = undefined;\n        this._chart = undefined;\n        this._loop = undefined;\n        this._fullLoop = undefined;\n        this._path = undefined;\n        this._points = undefined;\n        this._segments = undefined;\n        this._decimated = false;\n        this._pointsUpdated = false;\n        this._datasetIndex = undefined;\n        if (cfg) {\n            Object.assign(this, cfg);\n        }\n    }\n    updateControlPoints(chartArea, indexAxis) {\n        const options = this.options;\n        if ((options.tension || options.cubicInterpolationMode === 'monotone') && !options.stepped && !this._pointsUpdated) {\n            const loop = options.spanGaps ? this._loop : this._fullLoop;\n            _updateBezierControlPoints(this._points, options, chartArea, loop, indexAxis);\n            this._pointsUpdated = true;\n        }\n    }\n    set points(points) {\n        this._points = points;\n        delete this._segments;\n        delete this._path;\n        this._pointsUpdated = false;\n    }\n    get points() {\n        return this._points;\n    }\n    get segments() {\n        return this._segments || (this._segments = _computeSegments(this, this.options.segment));\n    }\n first() {\n        const segments = this.segments;\n        const points = this.points;\n        return segments.length && points[segments[0].start];\n    }\n last() {\n        const segments = this.segments;\n        const points = this.points;\n        const count = segments.length;\n        return count && points[segments[count - 1].end];\n    }\n interpolate(point, property) {\n        const options = this.options;\n        const value = point[property];\n        const points = this.points;\n        const segments = _boundSegments(this, {\n            property,\n            start: value,\n            end: value\n        });\n        if (!segments.length) {\n            return;\n        }\n        const result = [];\n        const _interpolate = _getInterpolationMethod(options);\n        let i, ilen;\n        for(i = 0, ilen = segments.length; i < ilen; ++i){\n            const { start , end  } = segments[i];\n            const p1 = points[start];\n            const p2 = points[end];\n            if (p1 === p2) {\n                result.push(p1);\n                continue;\n            }\n            const t = Math.abs((value - p1[property]) / (p2[property] - p1[property]));\n            const interpolated = _interpolate(p1, p2, t, options.stepped);\n            interpolated[property] = point[property];\n            result.push(interpolated);\n        }\n        return result.length === 1 ? result[0] : result;\n    }\n pathSegment(ctx, segment, params) {\n        const segmentMethod = _getSegmentMethod(this);\n        return segmentMethod(ctx, this, segment, params);\n    }\n path(ctx, start, count) {\n        const segments = this.segments;\n        const segmentMethod = _getSegmentMethod(this);\n        let loop = this._loop;\n        start = start || 0;\n        count = count || this.points.length - start;\n        for (const segment of segments){\n            loop &= segmentMethod(ctx, this, segment, {\n                start,\n                end: start + count - 1\n            });\n        }\n        return !!loop;\n    }\n draw(ctx, chartArea, start, count) {\n        const options = this.options || {};\n        const points = this.points || [];\n        if (points.length && options.borderWidth) {\n            ctx.save();\n            draw(ctx, this, start, count);\n            ctx.restore();\n        }\n        if (this.animated) {\n            this._pointsUpdated = false;\n            this._path = undefined;\n        }\n    }\n}\n\nfunction inRange$1(el, pos, axis, useFinalPosition) {\n    const options = el.options;\n    const { [axis]: value  } = el.getProps([\n        axis\n    ], useFinalPosition);\n    return Math.abs(pos - value) < options.radius + options.hitRadius;\n}\nclass PointElement extends Element {\n    static id = 'point';\n    parsed;\n    skip;\n    stop;\n    /**\n   * @type {any}\n   */ static defaults = {\n        borderWidth: 1,\n        hitRadius: 1,\n        hoverBorderWidth: 1,\n        hoverRadius: 4,\n        pointStyle: 'circle',\n        radius: 3,\n        rotation: 0\n    };\n    /**\n   * @type {any}\n   */ static defaultRoutes = {\n        backgroundColor: 'backgroundColor',\n        borderColor: 'borderColor'\n    };\n    constructor(cfg){\n        super();\n        this.options = undefined;\n        this.parsed = undefined;\n        this.skip = undefined;\n        this.stop = undefined;\n        if (cfg) {\n            Object.assign(this, cfg);\n        }\n    }\n    inRange(mouseX, mouseY, useFinalPosition) {\n        const options = this.options;\n        const { x , y  } = this.getProps([\n            'x',\n            'y'\n        ], useFinalPosition);\n        return Math.pow(mouseX - x, 2) + Math.pow(mouseY - y, 2) < Math.pow(options.hitRadius + options.radius, 2);\n    }\n    inXRange(mouseX, useFinalPosition) {\n        return inRange$1(this, mouseX, 'x', useFinalPosition);\n    }\n    inYRange(mouseY, useFinalPosition) {\n        return inRange$1(this, mouseY, 'y', useFinalPosition);\n    }\n    getCenterPoint(useFinalPosition) {\n        const { x , y  } = this.getProps([\n            'x',\n            'y'\n        ], useFinalPosition);\n        return {\n            x,\n            y\n        };\n    }\n    size(options) {\n        options = options || this.options || {};\n        let radius = options.radius || 0;\n        radius = Math.max(radius, radius && options.hoverRadius || 0);\n        const borderWidth = radius && options.borderWidth || 0;\n        return (radius + borderWidth) * 2;\n    }\n    draw(ctx, area) {\n        const options = this.options;\n        if (this.skip || options.radius < 0.1 || !_isPointInArea(this, area, this.size(options) / 2)) {\n            return;\n        }\n        ctx.strokeStyle = options.borderColor;\n        ctx.lineWidth = options.borderWidth;\n        ctx.fillStyle = options.backgroundColor;\n        drawPoint(ctx, options, this.x, this.y);\n    }\n    getRange() {\n        const options = this.options || {};\n        // @ts-expect-error Fallbacks should never be hit in practice\n        return options.radius + options.hitRadius;\n    }\n}\n\nfunction getBarBounds(bar, useFinalPosition) {\n    const { x , y , base , width , height  } =  bar.getProps([\n        'x',\n        'y',\n        'base',\n        'width',\n        'height'\n    ], useFinalPosition);\n    let left, right, top, bottom, half;\n    if (bar.horizontal) {\n        half = height / 2;\n        left = Math.min(x, base);\n        right = Math.max(x, base);\n        top = y - half;\n        bottom = y + half;\n    } else {\n        half = width / 2;\n        left = x - half;\n        right = x + half;\n        top = Math.min(y, base);\n        bottom = Math.max(y, base);\n    }\n    return {\n        left,\n        top,\n        right,\n        bottom\n    };\n}\nfunction skipOrLimit(skip, value, min, max) {\n    return skip ? 0 : _limitValue(value, min, max);\n}\nfunction parseBorderWidth(bar, maxW, maxH) {\n    const value = bar.options.borderWidth;\n    const skip = bar.borderSkipped;\n    const o = toTRBL(value);\n    return {\n        t: skipOrLimit(skip.top, o.top, 0, maxH),\n        r: skipOrLimit(skip.right, o.right, 0, maxW),\n        b: skipOrLimit(skip.bottom, o.bottom, 0, maxH),\n        l: skipOrLimit(skip.left, o.left, 0, maxW)\n    };\n}\nfunction parseBorderRadius(bar, maxW, maxH) {\n    const { enableBorderRadius  } = bar.getProps([\n        'enableBorderRadius'\n    ]);\n    const value = bar.options.borderRadius;\n    const o = toTRBLCorners(value);\n    const maxR = Math.min(maxW, maxH);\n    const skip = bar.borderSkipped;\n    const enableBorder = enableBorderRadius || isObject(value);\n    return {\n        topLeft: skipOrLimit(!enableBorder || skip.top || skip.left, o.topLeft, 0, maxR),\n        topRight: skipOrLimit(!enableBorder || skip.top || skip.right, o.topRight, 0, maxR),\n        bottomLeft: skipOrLimit(!enableBorder || skip.bottom || skip.left, o.bottomLeft, 0, maxR),\n        bottomRight: skipOrLimit(!enableBorder || skip.bottom || skip.right, o.bottomRight, 0, maxR)\n    };\n}\nfunction boundingRects(bar) {\n    const bounds = getBarBounds(bar);\n    const width = bounds.right - bounds.left;\n    const height = bounds.bottom - bounds.top;\n    const border = parseBorderWidth(bar, width / 2, height / 2);\n    const radius = parseBorderRadius(bar, width / 2, height / 2);\n    return {\n        outer: {\n            x: bounds.left,\n            y: bounds.top,\n            w: width,\n            h: height,\n            radius\n        },\n        inner: {\n            x: bounds.left + border.l,\n            y: bounds.top + border.t,\n            w: width - border.l - border.r,\n            h: height - border.t - border.b,\n            radius: {\n                topLeft: Math.max(0, radius.topLeft - Math.max(border.t, border.l)),\n                topRight: Math.max(0, radius.topRight - Math.max(border.t, border.r)),\n                bottomLeft: Math.max(0, radius.bottomLeft - Math.max(border.b, border.l)),\n                bottomRight: Math.max(0, radius.bottomRight - Math.max(border.b, border.r))\n            }\n        }\n    };\n}\nfunction inRange(bar, x, y, useFinalPosition) {\n    const skipX = x === null;\n    const skipY = y === null;\n    const skipBoth = skipX && skipY;\n    const bounds = bar && !skipBoth && getBarBounds(bar, useFinalPosition);\n    return bounds && (skipX || _isBetween(x, bounds.left, bounds.right)) && (skipY || _isBetween(y, bounds.top, bounds.bottom));\n}\nfunction hasRadius(radius) {\n    return radius.topLeft || radius.topRight || radius.bottomLeft || radius.bottomRight;\n}\n function addNormalRectPath(ctx, rect) {\n    ctx.rect(rect.x, rect.y, rect.w, rect.h);\n}\nfunction inflateRect(rect, amount, refRect = {}) {\n    const x = rect.x !== refRect.x ? -amount : 0;\n    const y = rect.y !== refRect.y ? -amount : 0;\n    const w = (rect.x + rect.w !== refRect.x + refRect.w ? amount : 0) - x;\n    const h = (rect.y + rect.h !== refRect.y + refRect.h ? amount : 0) - y;\n    return {\n        x: rect.x + x,\n        y: rect.y + y,\n        w: rect.w + w,\n        h: rect.h + h,\n        radius: rect.radius\n    };\n}\nclass BarElement extends Element {\n    static id = 'bar';\n static defaults = {\n        borderSkipped: 'start',\n        borderWidth: 0,\n        borderRadius: 0,\n        inflateAmount: 'auto',\n        pointStyle: undefined\n    };\n static defaultRoutes = {\n        backgroundColor: 'backgroundColor',\n        borderColor: 'borderColor'\n    };\n    constructor(cfg){\n        super();\n        this.options = undefined;\n        this.horizontal = undefined;\n        this.base = undefined;\n        this.width = undefined;\n        this.height = undefined;\n        this.inflateAmount = undefined;\n        if (cfg) {\n            Object.assign(this, cfg);\n        }\n    }\n    draw(ctx) {\n        const { inflateAmount , options: { borderColor , backgroundColor  }  } = this;\n        const { inner , outer  } = boundingRects(this);\n        const addRectPath = hasRadius(outer.radius) ? addRoundedRectPath : addNormalRectPath;\n        ctx.save();\n        if (outer.w !== inner.w || outer.h !== inner.h) {\n            ctx.beginPath();\n            addRectPath(ctx, inflateRect(outer, inflateAmount, inner));\n            ctx.clip();\n            addRectPath(ctx, inflateRect(inner, -inflateAmount, outer));\n            ctx.fillStyle = borderColor;\n            ctx.fill('evenodd');\n        }\n        ctx.beginPath();\n        addRectPath(ctx, inflateRect(inner, inflateAmount));\n        ctx.fillStyle = backgroundColor;\n        ctx.fill();\n        ctx.restore();\n    }\n    inRange(mouseX, mouseY, useFinalPosition) {\n        return inRange(this, mouseX, mouseY, useFinalPosition);\n    }\n    inXRange(mouseX, useFinalPosition) {\n        return inRange(this, mouseX, null, useFinalPosition);\n    }\n    inYRange(mouseY, useFinalPosition) {\n        return inRange(this, null, mouseY, useFinalPosition);\n    }\n    getCenterPoint(useFinalPosition) {\n        const { x , y , base , horizontal  } =  this.getProps([\n            'x',\n            'y',\n            'base',\n            'horizontal'\n        ], useFinalPosition);\n        return {\n            x: horizontal ? (x + base) / 2 : x,\n            y: horizontal ? y : (y + base) / 2\n        };\n    }\n    getRange(axis) {\n        return axis === 'x' ? this.width / 2 : this.height / 2;\n    }\n}\n\nvar elements = /*#__PURE__*/Object.freeze({\n__proto__: null,\nArcElement: ArcElement,\nBarElement: BarElement,\nLineElement: LineElement,\nPointElement: PointElement\n});\n\nconst BORDER_COLORS = [\n    'rgb(54, 162, 235)',\n    'rgb(255, 99, 132)',\n    'rgb(255, 159, 64)',\n    'rgb(255, 205, 86)',\n    'rgb(75, 192, 192)',\n    'rgb(153, 102, 255)',\n    'rgb(201, 203, 207)' // grey\n];\n// Border colors with 50% transparency\nconst BACKGROUND_COLORS = /* #__PURE__ */ BORDER_COLORS.map((color)=>color.replace('rgb(', 'rgba(').replace(')', ', 0.5)'));\nfunction getBorderColor(i) {\n    return BORDER_COLORS[i % BORDER_COLORS.length];\n}\nfunction getBackgroundColor(i) {\n    return BACKGROUND_COLORS[i % BACKGROUND_COLORS.length];\n}\nfunction colorizeDefaultDataset(dataset, i) {\n    dataset.borderColor = getBorderColor(i);\n    dataset.backgroundColor = getBackgroundColor(i);\n    return ++i;\n}\nfunction colorizeDoughnutDataset(dataset, i) {\n    dataset.backgroundColor = dataset.data.map(()=>getBorderColor(i++));\n    return i;\n}\nfunction colorizePolarAreaDataset(dataset, i) {\n    dataset.backgroundColor = dataset.data.map(()=>getBackgroundColor(i++));\n    return i;\n}\nfunction getColorizer(chart) {\n    let i = 0;\n    return (dataset, datasetIndex)=>{\n        const controller = chart.getDatasetMeta(datasetIndex).controller;\n        if (controller instanceof DoughnutController) {\n            i = colorizeDoughnutDataset(dataset, i);\n        } else if (controller instanceof PolarAreaController) {\n            i = colorizePolarAreaDataset(dataset, i);\n        } else if (controller) {\n            i = colorizeDefaultDataset(dataset, i);\n        }\n    };\n}\nfunction containsColorsDefinitions(descriptors) {\n    let k;\n    for(k in descriptors){\n        if (descriptors[k].borderColor || descriptors[k].backgroundColor) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction containsColorsDefinition(descriptor) {\n    return descriptor && (descriptor.borderColor || descriptor.backgroundColor);\n}\nvar plugin_colors = {\n    id: 'colors',\n    defaults: {\n        enabled: true,\n        forceOverride: false\n    },\n    beforeLayout (chart, _args, options) {\n        if (!options.enabled) {\n            return;\n        }\n        const { data: { datasets  } , options: chartOptions  } = chart.config;\n        const { elements  } = chartOptions;\n        if (!options.forceOverride && (containsColorsDefinitions(datasets) || containsColorsDefinition(chartOptions) || elements && containsColorsDefinitions(elements))) {\n            return;\n        }\n        const colorizer = getColorizer(chart);\n        datasets.forEach(colorizer);\n    }\n};\n\nfunction lttbDecimation(data, start, count, availableWidth, options) {\n const samples = options.samples || availableWidth;\n    if (samples >= count) {\n        return data.slice(start, start + count);\n    }\n    const decimated = [];\n    const bucketWidth = (count - 2) / (samples - 2);\n    let sampledIndex = 0;\n    const endIndex = start + count - 1;\n    let a = start;\n    let i, maxAreaPoint, maxArea, area, nextA;\n    decimated[sampledIndex++] = data[a];\n    for(i = 0; i < samples - 2; i++){\n        let avgX = 0;\n        let avgY = 0;\n        let j;\n        const avgRangeStart = Math.floor((i + 1) * bucketWidth) + 1 + start;\n        const avgRangeEnd = Math.min(Math.floor((i + 2) * bucketWidth) + 1, count) + start;\n        const avgRangeLength = avgRangeEnd - avgRangeStart;\n        for(j = avgRangeStart; j < avgRangeEnd; j++){\n            avgX += data[j].x;\n            avgY += data[j].y;\n        }\n        avgX /= avgRangeLength;\n        avgY /= avgRangeLength;\n        const rangeOffs = Math.floor(i * bucketWidth) + 1 + start;\n        const rangeTo = Math.min(Math.floor((i + 1) * bucketWidth) + 1, count) + start;\n        const { x: pointAx , y: pointAy  } = data[a];\n        maxArea = area = -1;\n        for(j = rangeOffs; j < rangeTo; j++){\n            area = 0.5 * Math.abs((pointAx - avgX) * (data[j].y - pointAy) - (pointAx - data[j].x) * (avgY - pointAy));\n            if (area > maxArea) {\n                maxArea = area;\n                maxAreaPoint = data[j];\n                nextA = j;\n            }\n        }\n        decimated[sampledIndex++] = maxAreaPoint;\n        a = nextA;\n    }\n    decimated[sampledIndex++] = data[endIndex];\n    return decimated;\n}\nfunction minMaxDecimation(data, start, count, availableWidth) {\n    let avgX = 0;\n    let countX = 0;\n    let i, point, x, y, prevX, minIndex, maxIndex, startIndex, minY, maxY;\n    const decimated = [];\n    const endIndex = start + count - 1;\n    const xMin = data[start].x;\n    const xMax = data[endIndex].x;\n    const dx = xMax - xMin;\n    for(i = start; i < start + count; ++i){\n        point = data[i];\n        x = (point.x - xMin) / dx * availableWidth;\n        y = point.y;\n        const truncX = x | 0;\n        if (truncX === prevX) {\n            if (y < minY) {\n                minY = y;\n                minIndex = i;\n            } else if (y > maxY) {\n                maxY = y;\n                maxIndex = i;\n            }\n            avgX = (countX * avgX + point.x) / ++countX;\n        } else {\n            const lastIndex = i - 1;\n            if (!isNullOrUndef(minIndex) && !isNullOrUndef(maxIndex)) {\n                const intermediateIndex1 = Math.min(minIndex, maxIndex);\n                const intermediateIndex2 = Math.max(minIndex, maxIndex);\n                if (intermediateIndex1 !== startIndex && intermediateIndex1 !== lastIndex) {\n                    decimated.push({\n                        ...data[intermediateIndex1],\n                        x: avgX\n                    });\n                }\n                if (intermediateIndex2 !== startIndex && intermediateIndex2 !== lastIndex) {\n                    decimated.push({\n                        ...data[intermediateIndex2],\n                        x: avgX\n                    });\n                }\n            }\n            if (i > 0 && lastIndex !== startIndex) {\n                decimated.push(data[lastIndex]);\n            }\n            decimated.push(point);\n            prevX = truncX;\n            countX = 0;\n            minY = maxY = y;\n            minIndex = maxIndex = startIndex = i;\n        }\n    }\n    return decimated;\n}\nfunction cleanDecimatedDataset(dataset) {\n    if (dataset._decimated) {\n        const data = dataset._data;\n        delete dataset._decimated;\n        delete dataset._data;\n        Object.defineProperty(dataset, 'data', {\n            configurable: true,\n            enumerable: true,\n            writable: true,\n            value: data\n        });\n    }\n}\nfunction cleanDecimatedData(chart) {\n    chart.data.datasets.forEach((dataset)=>{\n        cleanDecimatedDataset(dataset);\n    });\n}\nfunction getStartAndCountOfVisiblePointsSimplified(meta, points) {\n    const pointCount = points.length;\n    let start = 0;\n    let count;\n    const { iScale  } = meta;\n    const { min , max , minDefined , maxDefined  } = iScale.getUserBounds();\n    if (minDefined) {\n        start = _limitValue(_lookupByKey(points, iScale.axis, min).lo, 0, pointCount - 1);\n    }\n    if (maxDefined) {\n        count = _limitValue(_lookupByKey(points, iScale.axis, max).hi + 1, start, pointCount) - start;\n    } else {\n        count = pointCount - start;\n    }\n    return {\n        start,\n        count\n    };\n}\nvar plugin_decimation = {\n    id: 'decimation',\n    defaults: {\n        algorithm: 'min-max',\n        enabled: false\n    },\n    beforeElementsUpdate: (chart, args, options)=>{\n        if (!options.enabled) {\n            cleanDecimatedData(chart);\n            return;\n        }\n        const availableWidth = chart.width;\n        chart.data.datasets.forEach((dataset, datasetIndex)=>{\n            const { _data , indexAxis  } = dataset;\n            const meta = chart.getDatasetMeta(datasetIndex);\n            const data = _data || dataset.data;\n            if (resolve([\n                indexAxis,\n                chart.options.indexAxis\n            ]) === 'y') {\n                return;\n            }\n            if (!meta.controller.supportsDecimation) {\n                return;\n            }\n            const xAxis = chart.scales[meta.xAxisID];\n            if (xAxis.type !== 'linear' && xAxis.type !== 'time') {\n                return;\n            }\n            if (chart.options.parsing) {\n                return;\n            }\n            let { start , count  } = getStartAndCountOfVisiblePointsSimplified(meta, data);\n            const threshold = options.threshold || 4 * availableWidth;\n            if (count <= threshold) {\n                cleanDecimatedDataset(dataset);\n                return;\n            }\n            if (isNullOrUndef(_data)) {\n                dataset._data = data;\n                delete dataset.data;\n                Object.defineProperty(dataset, 'data', {\n                    configurable: true,\n                    enumerable: true,\n                    get: function() {\n                        return this._decimated;\n                    },\n                    set: function(d) {\n                        this._data = d;\n                    }\n                });\n            }\n            let decimated;\n            switch(options.algorithm){\n                case 'lttb':\n                    decimated = lttbDecimation(data, start, count, availableWidth, options);\n                    break;\n                case 'min-max':\n                    decimated = minMaxDecimation(data, start, count, availableWidth);\n                    break;\n                default:\n                    throw new Error(`Unsupported decimation algorithm '${options.algorithm}'`);\n            }\n            dataset._decimated = decimated;\n        });\n    },\n    destroy (chart) {\n        cleanDecimatedData(chart);\n    }\n};\n\nfunction _segments(line, target, property) {\n    const segments = line.segments;\n    const points = line.points;\n    const tpoints = target.points;\n    const parts = [];\n    for (const segment of segments){\n        let { start , end  } = segment;\n        end = _findSegmentEnd(start, end, points);\n        const bounds = _getBounds(property, points[start], points[end], segment.loop);\n        if (!target.segments) {\n            parts.push({\n                source: segment,\n                target: bounds,\n                start: points[start],\n                end: points[end]\n            });\n            continue;\n        }\n        const targetSegments = _boundSegments(target, bounds);\n        for (const tgt of targetSegments){\n            const subBounds = _getBounds(property, tpoints[tgt.start], tpoints[tgt.end], tgt.loop);\n            const fillSources = _boundSegment(segment, points, subBounds);\n            for (const fillSource of fillSources){\n                parts.push({\n                    source: fillSource,\n                    target: tgt,\n                    start: {\n                        [property]: _getEdge(bounds, subBounds, 'start', Math.max)\n                    },\n                    end: {\n                        [property]: _getEdge(bounds, subBounds, 'end', Math.min)\n                    }\n                });\n            }\n        }\n    }\n    return parts;\n}\nfunction _getBounds(property, first, last, loop) {\n    if (loop) {\n        return;\n    }\n    let start = first[property];\n    let end = last[property];\n    if (property === 'angle') {\n        start = _normalizeAngle(start);\n        end = _normalizeAngle(end);\n    }\n    return {\n        property,\n        start,\n        end\n    };\n}\nfunction _pointsFromSegments(boundary, line) {\n    const { x =null , y =null  } = boundary || {};\n    const linePoints = line.points;\n    const points = [];\n    line.segments.forEach(({ start , end  })=>{\n        end = _findSegmentEnd(start, end, linePoints);\n        const first = linePoints[start];\n        const last = linePoints[end];\n        if (y !== null) {\n            points.push({\n                x: first.x,\n                y\n            });\n            points.push({\n                x: last.x,\n                y\n            });\n        } else if (x !== null) {\n            points.push({\n                x,\n                y: first.y\n            });\n            points.push({\n                x,\n                y: last.y\n            });\n        }\n    });\n    return points;\n}\nfunction _findSegmentEnd(start, end, points) {\n    for(; end > start; end--){\n        const point = points[end];\n        if (!isNaN(point.x) && !isNaN(point.y)) {\n            break;\n        }\n    }\n    return end;\n}\nfunction _getEdge(a, b, prop, fn) {\n    if (a && b) {\n        return fn(a[prop], b[prop]);\n    }\n    return a ? a[prop] : b ? b[prop] : 0;\n}\n\nfunction _createBoundaryLine(boundary, line) {\n    let points = [];\n    let _loop = false;\n    if (isArray(boundary)) {\n        _loop = true;\n        points = boundary;\n    } else {\n        points = _pointsFromSegments(boundary, line);\n    }\n    return points.length ? new LineElement({\n        points,\n        options: {\n            tension: 0\n        },\n        _loop,\n        _fullLoop: _loop\n    }) : null;\n}\nfunction _shouldApplyFill(source) {\n    return source && source.fill !== false;\n}\n\nfunction _resolveTarget(sources, index, propagate) {\n    const source = sources[index];\n    let fill = source.fill;\n    const visited = [\n        index\n    ];\n    let target;\n    if (!propagate) {\n        return fill;\n    }\n    while(fill !== false && visited.indexOf(fill) === -1){\n        if (!isNumberFinite(fill)) {\n            return fill;\n        }\n        target = sources[fill];\n        if (!target) {\n            return false;\n        }\n        if (target.visible) {\n            return fill;\n        }\n        visited.push(fill);\n        fill = target.fill;\n    }\n    return false;\n}\n function _decodeFill(line, index, count) {\n     const fill = parseFillOption(line);\n    if (isObject(fill)) {\n        return isNaN(fill.value) ? false : fill;\n    }\n    let target = parseFloat(fill);\n    if (isNumberFinite(target) && Math.floor(target) === target) {\n        return decodeTargetIndex(fill[0], index, target, count);\n    }\n    return [\n        'origin',\n        'start',\n        'end',\n        'stack',\n        'shape'\n    ].indexOf(fill) >= 0 && fill;\n}\nfunction decodeTargetIndex(firstCh, index, target, count) {\n    if (firstCh === '-' || firstCh === '+') {\n        target = index + target;\n    }\n    if (target === index || target < 0 || target >= count) {\n        return false;\n    }\n    return target;\n}\n function _getTargetPixel(fill, scale) {\n    let pixel = null;\n    if (fill === 'start') {\n        pixel = scale.bottom;\n    } else if (fill === 'end') {\n        pixel = scale.top;\n    } else if (isObject(fill)) {\n        pixel = scale.getPixelForValue(fill.value);\n    } else if (scale.getBasePixel) {\n        pixel = scale.getBasePixel();\n    }\n    return pixel;\n}\n function _getTargetValue(fill, scale, startValue) {\n    let value;\n    if (fill === 'start') {\n        value = startValue;\n    } else if (fill === 'end') {\n        value = scale.options.reverse ? scale.min : scale.max;\n    } else if (isObject(fill)) {\n        value = fill.value;\n    } else {\n        value = scale.getBaseValue();\n    }\n    return value;\n}\n function parseFillOption(line) {\n    const options = line.options;\n    const fillOption = options.fill;\n    let fill = valueOrDefault(fillOption && fillOption.target, fillOption);\n    if (fill === undefined) {\n        fill = !!options.backgroundColor;\n    }\n    if (fill === false || fill === null) {\n        return false;\n    }\n    if (fill === true) {\n        return 'origin';\n    }\n    return fill;\n}\n\nfunction _buildStackLine(source) {\n    const { scale , index , line  } = source;\n    const points = [];\n    const segments = line.segments;\n    const sourcePoints = line.points;\n    const linesBelow = getLinesBelow(scale, index);\n    linesBelow.push(_createBoundaryLine({\n        x: null,\n        y: scale.bottom\n    }, line));\n    for(let i = 0; i < segments.length; i++){\n        const segment = segments[i];\n        for(let j = segment.start; j <= segment.end; j++){\n            addPointsBelow(points, sourcePoints[j], linesBelow);\n        }\n    }\n    return new LineElement({\n        points,\n        options: {}\n    });\n}\n function getLinesBelow(scale, index) {\n    const below = [];\n    const metas = scale.getMatchingVisibleMetas('line');\n    for(let i = 0; i < metas.length; i++){\n        const meta = metas[i];\n        if (meta.index === index) {\n            break;\n        }\n        if (!meta.hidden) {\n            below.unshift(meta.dataset);\n        }\n    }\n    return below;\n}\n function addPointsBelow(points, sourcePoint, linesBelow) {\n    const postponed = [];\n    for(let j = 0; j < linesBelow.length; j++){\n        const line = linesBelow[j];\n        const { first , last , point  } = findPoint(line, sourcePoint, 'x');\n        if (!point || first && last) {\n            continue;\n        }\n        if (first) {\n            postponed.unshift(point);\n        } else {\n            points.push(point);\n            if (!last) {\n                break;\n            }\n        }\n    }\n    points.push(...postponed);\n}\n function findPoint(line, sourcePoint, property) {\n    const point = line.interpolate(sourcePoint, property);\n    if (!point) {\n        return {};\n    }\n    const pointValue = point[property];\n    const segments = line.segments;\n    const linePoints = line.points;\n    let first = false;\n    let last = false;\n    for(let i = 0; i < segments.length; i++){\n        const segment = segments[i];\n        const firstValue = linePoints[segment.start][property];\n        const lastValue = linePoints[segment.end][property];\n        if (_isBetween(pointValue, firstValue, lastValue)) {\n            first = pointValue === firstValue;\n            last = pointValue === lastValue;\n            break;\n        }\n    }\n    return {\n        first,\n        last,\n        point\n    };\n}\n\nclass simpleArc {\n    constructor(opts){\n        this.x = opts.x;\n        this.y = opts.y;\n        this.radius = opts.radius;\n    }\n    pathSegment(ctx, bounds, opts) {\n        const { x , y , radius  } = this;\n        bounds = bounds || {\n            start: 0,\n            end: TAU\n        };\n        ctx.arc(x, y, radius, bounds.end, bounds.start, true);\n        return !opts.bounds;\n    }\n    interpolate(point) {\n        const { x , y , radius  } = this;\n        const angle = point.angle;\n        return {\n            x: x + Math.cos(angle) * radius,\n            y: y + Math.sin(angle) * radius,\n            angle\n        };\n    }\n}\n\nfunction _getTarget(source) {\n    const { chart , fill , line  } = source;\n    if (isNumberFinite(fill)) {\n        return getLineByIndex(chart, fill);\n    }\n    if (fill === 'stack') {\n        return _buildStackLine(source);\n    }\n    if (fill === 'shape') {\n        return true;\n    }\n    const boundary = computeBoundary(source);\n    if (boundary instanceof simpleArc) {\n        return boundary;\n    }\n    return _createBoundaryLine(boundary, line);\n}\n function getLineByIndex(chart, index) {\n    const meta = chart.getDatasetMeta(index);\n    const visible = meta && chart.isDatasetVisible(index);\n    return visible ? meta.dataset : null;\n}\nfunction computeBoundary(source) {\n    const scale = source.scale || {};\n    if (scale.getPointPositionForValue) {\n        return computeCircularBoundary(source);\n    }\n    return computeLinearBoundary(source);\n}\nfunction computeLinearBoundary(source) {\n    const { scale ={} , fill  } = source;\n    const pixel = _getTargetPixel(fill, scale);\n    if (isNumberFinite(pixel)) {\n        const horizontal = scale.isHorizontal();\n        return {\n            x: horizontal ? pixel : null,\n            y: horizontal ? null : pixel\n        };\n    }\n    return null;\n}\nfunction computeCircularBoundary(source) {\n    const { scale , fill  } = source;\n    const options = scale.options;\n    const length = scale.getLabels().length;\n    const start = options.reverse ? scale.max : scale.min;\n    const value = _getTargetValue(fill, scale, start);\n    const target = [];\n    if (options.grid.circular) {\n        const center = scale.getPointPositionForValue(0, start);\n        return new simpleArc({\n            x: center.x,\n            y: center.y,\n            radius: scale.getDistanceFromCenterForValue(value)\n        });\n    }\n    for(let i = 0; i < length; ++i){\n        target.push(scale.getPointPositionForValue(i, value));\n    }\n    return target;\n}\n\nfunction _drawfill(ctx, source, area) {\n    const target = _getTarget(source);\n    const { line , scale , axis  } = source;\n    const lineOpts = line.options;\n    const fillOption = lineOpts.fill;\n    const color = lineOpts.backgroundColor;\n    const { above =color , below =color  } = fillOption || {};\n    if (target && line.points.length) {\n        clipArea(ctx, area);\n        doFill(ctx, {\n            line,\n            target,\n            above,\n            below,\n            area,\n            scale,\n            axis\n        });\n        unclipArea(ctx);\n    }\n}\nfunction doFill(ctx, cfg) {\n    const { line , target , above , below , area , scale  } = cfg;\n    const property = line._loop ? 'angle' : cfg.axis;\n    ctx.save();\n    if (property === 'x' && below !== above) {\n        clipVertical(ctx, target, area.top);\n        fill(ctx, {\n            line,\n            target,\n            color: above,\n            scale,\n            property\n        });\n        ctx.restore();\n        ctx.save();\n        clipVertical(ctx, target, area.bottom);\n    }\n    fill(ctx, {\n        line,\n        target,\n        color: below,\n        scale,\n        property\n    });\n    ctx.restore();\n}\nfunction clipVertical(ctx, target, clipY) {\n    const { segments , points  } = target;\n    let first = true;\n    let lineLoop = false;\n    ctx.beginPath();\n    for (const segment of segments){\n        const { start , end  } = segment;\n        const firstPoint = points[start];\n        const lastPoint = points[_findSegmentEnd(start, end, points)];\n        if (first) {\n            ctx.moveTo(firstPoint.x, firstPoint.y);\n            first = false;\n        } else {\n            ctx.lineTo(firstPoint.x, clipY);\n            ctx.lineTo(firstPoint.x, firstPoint.y);\n        }\n        lineLoop = !!target.pathSegment(ctx, segment, {\n            move: lineLoop\n        });\n        if (lineLoop) {\n            ctx.closePath();\n        } else {\n            ctx.lineTo(lastPoint.x, clipY);\n        }\n    }\n    ctx.lineTo(target.first().x, clipY);\n    ctx.closePath();\n    ctx.clip();\n}\nfunction fill(ctx, cfg) {\n    const { line , target , property , color , scale  } = cfg;\n    const segments = _segments(line, target, property);\n    for (const { source: src , target: tgt , start , end  } of segments){\n        const { style: { backgroundColor =color  } = {}  } = src;\n        const notShape = target !== true;\n        ctx.save();\n        ctx.fillStyle = backgroundColor;\n        clipBounds(ctx, scale, notShape && _getBounds(property, start, end));\n        ctx.beginPath();\n        const lineLoop = !!line.pathSegment(ctx, src);\n        let loop;\n        if (notShape) {\n            if (lineLoop) {\n                ctx.closePath();\n            } else {\n                interpolatedLineTo(ctx, target, end, property);\n            }\n            const targetLoop = !!target.pathSegment(ctx, tgt, {\n                move: lineLoop,\n                reverse: true\n            });\n            loop = lineLoop && targetLoop;\n            if (!loop) {\n                interpolatedLineTo(ctx, target, start, property);\n            }\n        }\n        ctx.closePath();\n        ctx.fill(loop ? 'evenodd' : 'nonzero');\n        ctx.restore();\n    }\n}\nfunction clipBounds(ctx, scale, bounds) {\n    const { top , bottom  } = scale.chart.chartArea;\n    const { property , start , end  } = bounds || {};\n    if (property === 'x') {\n        ctx.beginPath();\n        ctx.rect(start, top, end - start, bottom - top);\n        ctx.clip();\n    }\n}\nfunction interpolatedLineTo(ctx, target, point, property) {\n    const interpolatedPoint = target.interpolate(point, property);\n    if (interpolatedPoint) {\n        ctx.lineTo(interpolatedPoint.x, interpolatedPoint.y);\n    }\n}\n\nvar index = {\n    id: 'filler',\n    afterDatasetsUpdate (chart, _args, options) {\n        const count = (chart.data.datasets || []).length;\n        const sources = [];\n        let meta, i, line, source;\n        for(i = 0; i < count; ++i){\n            meta = chart.getDatasetMeta(i);\n            line = meta.dataset;\n            source = null;\n            if (line && line.options && line instanceof LineElement) {\n                source = {\n                    visible: chart.isDatasetVisible(i),\n                    index: i,\n                    fill: _decodeFill(line, i, count),\n                    chart,\n                    axis: meta.controller.options.indexAxis,\n                    scale: meta.vScale,\n                    line\n                };\n            }\n            meta.$filler = source;\n            sources.push(source);\n        }\n        for(i = 0; i < count; ++i){\n            source = sources[i];\n            if (!source || source.fill === false) {\n                continue;\n            }\n            source.fill = _resolveTarget(sources, i, options.propagate);\n        }\n    },\n    beforeDraw (chart, _args, options) {\n        const draw = options.drawTime === 'beforeDraw';\n        const metasets = chart.getSortedVisibleDatasetMetas();\n        const area = chart.chartArea;\n        for(let i = metasets.length - 1; i >= 0; --i){\n            const source = metasets[i].$filler;\n            if (!source) {\n                continue;\n            }\n            source.line.updateControlPoints(area, source.axis);\n            if (draw && source.fill) {\n                _drawfill(chart.ctx, source, area);\n            }\n        }\n    },\n    beforeDatasetsDraw (chart, _args, options) {\n        if (options.drawTime !== 'beforeDatasetsDraw') {\n            return;\n        }\n        const metasets = chart.getSortedVisibleDatasetMetas();\n        for(let i = metasets.length - 1; i >= 0; --i){\n            const source = metasets[i].$filler;\n            if (_shouldApplyFill(source)) {\n                _drawfill(chart.ctx, source, chart.chartArea);\n            }\n        }\n    },\n    beforeDatasetDraw (chart, args, options) {\n        const source = args.meta.$filler;\n        if (!_shouldApplyFill(source) || options.drawTime !== 'beforeDatasetDraw') {\n            return;\n        }\n        _drawfill(chart.ctx, source, chart.chartArea);\n    },\n    defaults: {\n        propagate: true,\n        drawTime: 'beforeDatasetDraw'\n    }\n};\n\nconst getBoxSize = (labelOpts, fontSize)=>{\n    let { boxHeight =fontSize , boxWidth =fontSize  } = labelOpts;\n    if (labelOpts.usePointStyle) {\n        boxHeight = Math.min(boxHeight, fontSize);\n        boxWidth = labelOpts.pointStyleWidth || Math.min(boxWidth, fontSize);\n    }\n    return {\n        boxWidth,\n        boxHeight,\n        itemHeight: Math.max(fontSize, boxHeight)\n    };\n};\nconst itemsEqual = (a, b)=>a !== null && b !== null && a.datasetIndex === b.datasetIndex && a.index === b.index;\nclass Legend extends Element {\n constructor(config){\n        super();\n        this._added = false;\n        this.legendHitBoxes = [];\n this._hoveredItem = null;\n        this.doughnutMode = false;\n        this.chart = config.chart;\n        this.options = config.options;\n        this.ctx = config.ctx;\n        this.legendItems = undefined;\n        this.columnSizes = undefined;\n        this.lineWidths = undefined;\n        this.maxHeight = undefined;\n        this.maxWidth = undefined;\n        this.top = undefined;\n        this.bottom = undefined;\n        this.left = undefined;\n        this.right = undefined;\n        this.height = undefined;\n        this.width = undefined;\n        this._margins = undefined;\n        this.position = undefined;\n        this.weight = undefined;\n        this.fullSize = undefined;\n    }\n    update(maxWidth, maxHeight, margins) {\n        this.maxWidth = maxWidth;\n        this.maxHeight = maxHeight;\n        this._margins = margins;\n        this.setDimensions();\n        this.buildLabels();\n        this.fit();\n    }\n    setDimensions() {\n        if (this.isHorizontal()) {\n            this.width = this.maxWidth;\n            this.left = this._margins.left;\n            this.right = this.width;\n        } else {\n            this.height = this.maxHeight;\n            this.top = this._margins.top;\n            this.bottom = this.height;\n        }\n    }\n    buildLabels() {\n        const labelOpts = this.options.labels || {};\n        let legendItems = callback(labelOpts.generateLabels, [\n            this.chart\n        ], this) || [];\n        if (labelOpts.filter) {\n            legendItems = legendItems.filter((item)=>labelOpts.filter(item, this.chart.data));\n        }\n        if (labelOpts.sort) {\n            legendItems = legendItems.sort((a, b)=>labelOpts.sort(a, b, this.chart.data));\n        }\n        if (this.options.reverse) {\n            legendItems.reverse();\n        }\n        this.legendItems = legendItems;\n    }\n    fit() {\n        const { options , ctx  } = this;\n        if (!options.display) {\n            this.width = this.height = 0;\n            return;\n        }\n        const labelOpts = options.labels;\n        const labelFont = toFont(labelOpts.font);\n        const fontSize = labelFont.size;\n        const titleHeight = this._computeTitleHeight();\n        const { boxWidth , itemHeight  } = getBoxSize(labelOpts, fontSize);\n        let width, height;\n        ctx.font = labelFont.string;\n        if (this.isHorizontal()) {\n            width = this.maxWidth;\n            height = this._fitRows(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n        } else {\n            height = this.maxHeight;\n            width = this._fitCols(titleHeight, labelFont, boxWidth, itemHeight) + 10;\n        }\n        this.width = Math.min(width, options.maxWidth || this.maxWidth);\n        this.height = Math.min(height, options.maxHeight || this.maxHeight);\n    }\n _fitRows(titleHeight, fontSize, boxWidth, itemHeight) {\n        const { ctx , maxWidth , options: { labels: { padding  }  }  } = this;\n        const hitboxes = this.legendHitBoxes = [];\n        const lineWidths = this.lineWidths = [\n            0\n        ];\n        const lineHeight = itemHeight + padding;\n        let totalHeight = titleHeight;\n        ctx.textAlign = 'left';\n        ctx.textBaseline = 'middle';\n        let row = -1;\n        let top = -lineHeight;\n        this.legendItems.forEach((legendItem, i)=>{\n            const itemWidth = boxWidth + fontSize / 2 + ctx.measureText(legendItem.text).width;\n            if (i === 0 || lineWidths[lineWidths.length - 1] + itemWidth + 2 * padding > maxWidth) {\n                totalHeight += lineHeight;\n                lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\n                top += lineHeight;\n                row++;\n            }\n            hitboxes[i] = {\n                left: 0,\n                top,\n                row,\n                width: itemWidth,\n                height: itemHeight\n            };\n            lineWidths[lineWidths.length - 1] += itemWidth + padding;\n        });\n        return totalHeight;\n    }\n    _fitCols(titleHeight, labelFont, boxWidth, _itemHeight) {\n        const { ctx , maxHeight , options: { labels: { padding  }  }  } = this;\n        const hitboxes = this.legendHitBoxes = [];\n        const columnSizes = this.columnSizes = [];\n        const heightLimit = maxHeight - titleHeight;\n        let totalWidth = padding;\n        let currentColWidth = 0;\n        let currentColHeight = 0;\n        let left = 0;\n        let col = 0;\n        this.legendItems.forEach((legendItem, i)=>{\n            const { itemWidth , itemHeight  } = calculateItemSize(boxWidth, labelFont, ctx, legendItem, _itemHeight);\n            if (i > 0 && currentColHeight + itemHeight + 2 * padding > heightLimit) {\n                totalWidth += currentColWidth + padding;\n                columnSizes.push({\n                    width: currentColWidth,\n                    height: currentColHeight\n                });\n                left += currentColWidth + padding;\n                col++;\n                currentColWidth = currentColHeight = 0;\n            }\n            hitboxes[i] = {\n                left,\n                top: currentColHeight,\n                col,\n                width: itemWidth,\n                height: itemHeight\n            };\n            currentColWidth = Math.max(currentColWidth, itemWidth);\n            currentColHeight += itemHeight + padding;\n        });\n        totalWidth += currentColWidth;\n        columnSizes.push({\n            width: currentColWidth,\n            height: currentColHeight\n        });\n        return totalWidth;\n    }\n    adjustHitBoxes() {\n        if (!this.options.display) {\n            return;\n        }\n        const titleHeight = this._computeTitleHeight();\n        const { legendHitBoxes: hitboxes , options: { align , labels: { padding  } , rtl  }  } = this;\n        const rtlHelper = getRtlAdapter(rtl, this.left, this.width);\n        if (this.isHorizontal()) {\n            let row = 0;\n            let left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n            for (const hitbox of hitboxes){\n                if (row !== hitbox.row) {\n                    row = hitbox.row;\n                    left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n                }\n                hitbox.top += this.top + titleHeight + padding;\n                hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(left), hitbox.width);\n                left += hitbox.width + padding;\n            }\n        } else {\n            let col = 0;\n            let top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n            for (const hitbox of hitboxes){\n                if (hitbox.col !== col) {\n                    col = hitbox.col;\n                    top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n                }\n                hitbox.top = top;\n                hitbox.left += this.left + padding;\n                hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(hitbox.left), hitbox.width);\n                top += hitbox.height + padding;\n            }\n        }\n    }\n    isHorizontal() {\n        return this.options.position === 'top' || this.options.position === 'bottom';\n    }\n    draw() {\n        if (this.options.display) {\n            const ctx = this.ctx;\n            clipArea(ctx, this);\n            this._draw();\n            unclipArea(ctx);\n        }\n    }\n _draw() {\n        const { options: opts , columnSizes , lineWidths , ctx  } = this;\n        const { align , labels: labelOpts  } = opts;\n        const defaultColor = defaults.color;\n        const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n        const labelFont = toFont(labelOpts.font);\n        const { padding  } = labelOpts;\n        const fontSize = labelFont.size;\n        const halfFontSize = fontSize / 2;\n        let cursor;\n        this.drawTitle();\n        ctx.textAlign = rtlHelper.textAlign('left');\n        ctx.textBaseline = 'middle';\n        ctx.lineWidth = 0.5;\n        ctx.font = labelFont.string;\n        const { boxWidth , boxHeight , itemHeight  } = getBoxSize(labelOpts, fontSize);\n        const drawLegendBox = function(x, y, legendItem) {\n            if (isNaN(boxWidth) || boxWidth <= 0 || isNaN(boxHeight) || boxHeight < 0) {\n                return;\n            }\n            ctx.save();\n            const lineWidth = valueOrDefault(legendItem.lineWidth, 1);\n            ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\n            ctx.lineCap = valueOrDefault(legendItem.lineCap, 'butt');\n            ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, 0);\n            ctx.lineJoin = valueOrDefault(legendItem.lineJoin, 'miter');\n            ctx.lineWidth = lineWidth;\n            ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\n            ctx.setLineDash(valueOrDefault(legendItem.lineDash, []));\n            if (labelOpts.usePointStyle) {\n                const drawOptions = {\n                    radius: boxHeight * Math.SQRT2 / 2,\n                    pointStyle: legendItem.pointStyle,\n                    rotation: legendItem.rotation,\n                    borderWidth: lineWidth\n                };\n                const centerX = rtlHelper.xPlus(x, boxWidth / 2);\n                const centerY = y + halfFontSize;\n                drawPointLegend(ctx, drawOptions, centerX, centerY, labelOpts.pointStyleWidth && boxWidth);\n            } else {\n                const yBoxTop = y + Math.max((fontSize - boxHeight) / 2, 0);\n                const xBoxLeft = rtlHelper.leftForLtr(x, boxWidth);\n                const borderRadius = toTRBLCorners(legendItem.borderRadius);\n                ctx.beginPath();\n                if (Object.values(borderRadius).some((v)=>v !== 0)) {\n                    addRoundedRectPath(ctx, {\n                        x: xBoxLeft,\n                        y: yBoxTop,\n                        w: boxWidth,\n                        h: boxHeight,\n                        radius: borderRadius\n                    });\n                } else {\n                    ctx.rect(xBoxLeft, yBoxTop, boxWidth, boxHeight);\n                }\n                ctx.fill();\n                if (lineWidth !== 0) {\n                    ctx.stroke();\n                }\n            }\n            ctx.restore();\n        };\n        const fillText = function(x, y, legendItem) {\n            renderText(ctx, legendItem.text, x, y + itemHeight / 2, labelFont, {\n                strikethrough: legendItem.hidden,\n                textAlign: rtlHelper.textAlign(legendItem.textAlign)\n            });\n        };\n        const isHorizontal = this.isHorizontal();\n        const titleHeight = this._computeTitleHeight();\n        if (isHorizontal) {\n            cursor = {\n                x: _alignStartEnd(align, this.left + padding, this.right - lineWidths[0]),\n                y: this.top + padding + titleHeight,\n                line: 0\n            };\n        } else {\n            cursor = {\n                x: this.left + padding,\n                y: _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[0].height),\n                line: 0\n            };\n        }\n        overrideTextDirection(this.ctx, opts.textDirection);\n        const lineHeight = itemHeight + padding;\n        this.legendItems.forEach((legendItem, i)=>{\n            ctx.strokeStyle = legendItem.fontColor;\n            ctx.fillStyle = legendItem.fontColor;\n            const textWidth = ctx.measureText(legendItem.text).width;\n            const textAlign = rtlHelper.textAlign(legendItem.textAlign || (legendItem.textAlign = labelOpts.textAlign));\n            const width = boxWidth + halfFontSize + textWidth;\n            let x = cursor.x;\n            let y = cursor.y;\n            rtlHelper.setWidth(this.width);\n            if (isHorizontal) {\n                if (i > 0 && x + width + padding > this.right) {\n                    y = cursor.y += lineHeight;\n                    cursor.line++;\n                    x = cursor.x = _alignStartEnd(align, this.left + padding, this.right - lineWidths[cursor.line]);\n                }\n            } else if (i > 0 && y + lineHeight > this.bottom) {\n                x = cursor.x = x + columnSizes[cursor.line].width + padding;\n                cursor.line++;\n                y = cursor.y = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[cursor.line].height);\n            }\n            const realX = rtlHelper.x(x);\n            drawLegendBox(realX, y, legendItem);\n            x = _textX(textAlign, x + boxWidth + halfFontSize, isHorizontal ? x + width : this.right, opts.rtl);\n            fillText(rtlHelper.x(x), y, legendItem);\n            if (isHorizontal) {\n                cursor.x += width + padding;\n            } else if (typeof legendItem.text !== 'string') {\n                const fontLineHeight = labelFont.lineHeight;\n                cursor.y += calculateLegendItemHeight(legendItem, fontLineHeight) + padding;\n            } else {\n                cursor.y += lineHeight;\n            }\n        });\n        restoreTextDirection(this.ctx, opts.textDirection);\n    }\n drawTitle() {\n        const opts = this.options;\n        const titleOpts = opts.title;\n        const titleFont = toFont(titleOpts.font);\n        const titlePadding = toPadding(titleOpts.padding);\n        if (!titleOpts.display) {\n            return;\n        }\n        const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n        const ctx = this.ctx;\n        const position = titleOpts.position;\n        const halfFontSize = titleFont.size / 2;\n        const topPaddingPlusHalfFontSize = titlePadding.top + halfFontSize;\n        let y;\n        let left = this.left;\n        let maxWidth = this.width;\n        if (this.isHorizontal()) {\n            maxWidth = Math.max(...this.lineWidths);\n            y = this.top + topPaddingPlusHalfFontSize;\n            left = _alignStartEnd(opts.align, left, this.right - maxWidth);\n        } else {\n            const maxHeight = this.columnSizes.reduce((acc, size)=>Math.max(acc, size.height), 0);\n            y = topPaddingPlusHalfFontSize + _alignStartEnd(opts.align, this.top, this.bottom - maxHeight - opts.labels.padding - this._computeTitleHeight());\n        }\n        const x = _alignStartEnd(position, left, left + maxWidth);\n        ctx.textAlign = rtlHelper.textAlign(_toLeftRightCenter(position));\n        ctx.textBaseline = 'middle';\n        ctx.strokeStyle = titleOpts.color;\n        ctx.fillStyle = titleOpts.color;\n        ctx.font = titleFont.string;\n        renderText(ctx, titleOpts.text, x, y, titleFont);\n    }\n _computeTitleHeight() {\n        const titleOpts = this.options.title;\n        const titleFont = toFont(titleOpts.font);\n        const titlePadding = toPadding(titleOpts.padding);\n        return titleOpts.display ? titleFont.lineHeight + titlePadding.height : 0;\n    }\n _getLegendItemAt(x, y) {\n        let i, hitBox, lh;\n        if (_isBetween(x, this.left, this.right) && _isBetween(y, this.top, this.bottom)) {\n            lh = this.legendHitBoxes;\n            for(i = 0; i < lh.length; ++i){\n                hitBox = lh[i];\n                if (_isBetween(x, hitBox.left, hitBox.left + hitBox.width) && _isBetween(y, hitBox.top, hitBox.top + hitBox.height)) {\n                    return this.legendItems[i];\n                }\n            }\n        }\n        return null;\n    }\n handleEvent(e) {\n        const opts = this.options;\n        if (!isListened(e.type, opts)) {\n            return;\n        }\n        const hoveredItem = this._getLegendItemAt(e.x, e.y);\n        if (e.type === 'mousemove' || e.type === 'mouseout') {\n            const previous = this._hoveredItem;\n            const sameItem = itemsEqual(previous, hoveredItem);\n            if (previous && !sameItem) {\n                callback(opts.onLeave, [\n                    e,\n                    previous,\n                    this\n                ], this);\n            }\n            this._hoveredItem = hoveredItem;\n            if (hoveredItem && !sameItem) {\n                callback(opts.onHover, [\n                    e,\n                    hoveredItem,\n                    this\n                ], this);\n            }\n        } else if (hoveredItem) {\n            callback(opts.onClick, [\n                e,\n                hoveredItem,\n                this\n            ], this);\n        }\n    }\n}\nfunction calculateItemSize(boxWidth, labelFont, ctx, legendItem, _itemHeight) {\n    const itemWidth = calculateItemWidth(legendItem, boxWidth, labelFont, ctx);\n    const itemHeight = calculateItemHeight(_itemHeight, legendItem, labelFont.lineHeight);\n    return {\n        itemWidth,\n        itemHeight\n    };\n}\nfunction calculateItemWidth(legendItem, boxWidth, labelFont, ctx) {\n    let legendItemText = legendItem.text;\n    if (legendItemText && typeof legendItemText !== 'string') {\n        legendItemText = legendItemText.reduce((a, b)=>a.length > b.length ? a : b);\n    }\n    return boxWidth + labelFont.size / 2 + ctx.measureText(legendItemText).width;\n}\nfunction calculateItemHeight(_itemHeight, legendItem, fontLineHeight) {\n    let itemHeight = _itemHeight;\n    if (typeof legendItem.text !== 'string') {\n        itemHeight = calculateLegendItemHeight(legendItem, fontLineHeight);\n    }\n    return itemHeight;\n}\nfunction calculateLegendItemHeight(legendItem, fontLineHeight) {\n    const labelHeight = legendItem.text ? legendItem.text.length : 0;\n    return fontLineHeight * labelHeight;\n}\nfunction isListened(type, opts) {\n    if ((type === 'mousemove' || type === 'mouseout') && (opts.onHover || opts.onLeave)) {\n        return true;\n    }\n    if (opts.onClick && (type === 'click' || type === 'mouseup')) {\n        return true;\n    }\n    return false;\n}\nvar plugin_legend = {\n    id: 'legend',\n _element: Legend,\n    start (chart, _args, options) {\n        const legend = chart.legend = new Legend({\n            ctx: chart.ctx,\n            options,\n            chart\n        });\n        layouts.configure(chart, legend, options);\n        layouts.addBox(chart, legend);\n    },\n    stop (chart) {\n        layouts.removeBox(chart, chart.legend);\n        delete chart.legend;\n    },\n    beforeUpdate (chart, _args, options) {\n        const legend = chart.legend;\n        layouts.configure(chart, legend, options);\n        legend.options = options;\n    },\n    afterUpdate (chart) {\n        const legend = chart.legend;\n        legend.buildLabels();\n        legend.adjustHitBoxes();\n    },\n    afterEvent (chart, args) {\n        if (!args.replay) {\n            chart.legend.handleEvent(args.event);\n        }\n    },\n    defaults: {\n        display: true,\n        position: 'top',\n        align: 'center',\n        fullSize: true,\n        reverse: false,\n        weight: 1000,\n        onClick (e, legendItem, legend) {\n            const index = legendItem.datasetIndex;\n            const ci = legend.chart;\n            if (ci.isDatasetVisible(index)) {\n                ci.hide(index);\n                legendItem.hidden = true;\n            } else {\n                ci.show(index);\n                legendItem.hidden = false;\n            }\n        },\n        onHover: null,\n        onLeave: null,\n        labels: {\n            color: (ctx)=>ctx.chart.options.color,\n            boxWidth: 40,\n            padding: 10,\n            generateLabels (chart) {\n                const datasets = chart.data.datasets;\n                const { labels: { usePointStyle , pointStyle , textAlign , color , useBorderRadius , borderRadius  }  } = chart.legend.options;\n                return chart._getSortedDatasetMetas().map((meta)=>{\n                    const style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\n                    const borderWidth = toPadding(style.borderWidth);\n                    return {\n                        text: datasets[meta.index].label,\n                        fillStyle: style.backgroundColor,\n                        fontColor: color,\n                        hidden: !meta.visible,\n                        lineCap: style.borderCapStyle,\n                        lineDash: style.borderDash,\n                        lineDashOffset: style.borderDashOffset,\n                        lineJoin: style.borderJoinStyle,\n                        lineWidth: (borderWidth.width + borderWidth.height) / 4,\n                        strokeStyle: style.borderColor,\n                        pointStyle: pointStyle || style.pointStyle,\n                        rotation: style.rotation,\n                        textAlign: textAlign || style.textAlign,\n                        borderRadius: useBorderRadius && (borderRadius || style.borderRadius),\n                        datasetIndex: meta.index\n                    };\n                }, this);\n            }\n        },\n        title: {\n            color: (ctx)=>ctx.chart.options.color,\n            display: false,\n            position: 'center',\n            text: ''\n        }\n    },\n    descriptors: {\n        _scriptable: (name)=>!name.startsWith('on'),\n        labels: {\n            _scriptable: (name)=>![\n                    'generateLabels',\n                    'filter',\n                    'sort'\n                ].includes(name)\n        }\n    }\n};\n\nclass Title extends Element {\n constructor(config){\n        super();\n        this.chart = config.chart;\n        this.options = config.options;\n        this.ctx = config.ctx;\n        this._padding = undefined;\n        this.top = undefined;\n        this.bottom = undefined;\n        this.left = undefined;\n        this.right = undefined;\n        this.width = undefined;\n        this.height = undefined;\n        this.position = undefined;\n        this.weight = undefined;\n        this.fullSize = undefined;\n    }\n    update(maxWidth, maxHeight) {\n        const opts = this.options;\n        this.left = 0;\n        this.top = 0;\n        if (!opts.display) {\n            this.width = this.height = this.right = this.bottom = 0;\n            return;\n        }\n        this.width = this.right = maxWidth;\n        this.height = this.bottom = maxHeight;\n        const lineCount = isArray(opts.text) ? opts.text.length : 1;\n        this._padding = toPadding(opts.padding);\n        const textSize = lineCount * toFont(opts.font).lineHeight + this._padding.height;\n        if (this.isHorizontal()) {\n            this.height = textSize;\n        } else {\n            this.width = textSize;\n        }\n    }\n    isHorizontal() {\n        const pos = this.options.position;\n        return pos === 'top' || pos === 'bottom';\n    }\n    _drawArgs(offset) {\n        const { top , left , bottom , right , options  } = this;\n        const align = options.align;\n        let rotation = 0;\n        let maxWidth, titleX, titleY;\n        if (this.isHorizontal()) {\n            titleX = _alignStartEnd(align, left, right);\n            titleY = top + offset;\n            maxWidth = right - left;\n        } else {\n            if (options.position === 'left') {\n                titleX = left + offset;\n                titleY = _alignStartEnd(align, bottom, top);\n                rotation = PI * -0.5;\n            } else {\n                titleX = right - offset;\n                titleY = _alignStartEnd(align, top, bottom);\n                rotation = PI * 0.5;\n            }\n            maxWidth = bottom - top;\n        }\n        return {\n            titleX,\n            titleY,\n            maxWidth,\n            rotation\n        };\n    }\n    draw() {\n        const ctx = this.ctx;\n        const opts = this.options;\n        if (!opts.display) {\n            return;\n        }\n        const fontOpts = toFont(opts.font);\n        const lineHeight = fontOpts.lineHeight;\n        const offset = lineHeight / 2 + this._padding.top;\n        const { titleX , titleY , maxWidth , rotation  } = this._drawArgs(offset);\n        renderText(ctx, opts.text, 0, 0, fontOpts, {\n            color: opts.color,\n            maxWidth,\n            rotation,\n            textAlign: _toLeftRightCenter(opts.align),\n            textBaseline: 'middle',\n            translation: [\n                titleX,\n                titleY\n            ]\n        });\n    }\n}\nfunction createTitle(chart, titleOpts) {\n    const title = new Title({\n        ctx: chart.ctx,\n        options: titleOpts,\n        chart\n    });\n    layouts.configure(chart, title, titleOpts);\n    layouts.addBox(chart, title);\n    chart.titleBlock = title;\n}\nvar plugin_title = {\n    id: 'title',\n _element: Title,\n    start (chart, _args, options) {\n        createTitle(chart, options);\n    },\n    stop (chart) {\n        const titleBlock = chart.titleBlock;\n        layouts.removeBox(chart, titleBlock);\n        delete chart.titleBlock;\n    },\n    beforeUpdate (chart, _args, options) {\n        const title = chart.titleBlock;\n        layouts.configure(chart, title, options);\n        title.options = options;\n    },\n    defaults: {\n        align: 'center',\n        display: false,\n        font: {\n            weight: 'bold'\n        },\n        fullSize: true,\n        padding: 10,\n        position: 'top',\n        text: '',\n        weight: 2000\n    },\n    defaultRoutes: {\n        color: 'color'\n    },\n    descriptors: {\n        _scriptable: true,\n        _indexable: false\n    }\n};\n\nconst map = new WeakMap();\nvar plugin_subtitle = {\n    id: 'subtitle',\n    start (chart, _args, options) {\n        const title = new Title({\n            ctx: chart.ctx,\n            options,\n            chart\n        });\n        layouts.configure(chart, title, options);\n        layouts.addBox(chart, title);\n        map.set(chart, title);\n    },\n    stop (chart) {\n        layouts.removeBox(chart, map.get(chart));\n        map.delete(chart);\n    },\n    beforeUpdate (chart, _args, options) {\n        const title = map.get(chart);\n        layouts.configure(chart, title, options);\n        title.options = options;\n    },\n    defaults: {\n        align: 'center',\n        display: false,\n        font: {\n            weight: 'normal'\n        },\n        fullSize: true,\n        padding: 0,\n        position: 'top',\n        text: '',\n        weight: 1500\n    },\n    defaultRoutes: {\n        color: 'color'\n    },\n    descriptors: {\n        _scriptable: true,\n        _indexable: false\n    }\n};\n\nconst positioners = {\n average (items) {\n        if (!items.length) {\n            return false;\n        }\n        let i, len;\n        let xSet = new Set();\n        let y = 0;\n        let count = 0;\n        for(i = 0, len = items.length; i < len; ++i){\n            const el = items[i].element;\n            if (el && el.hasValue()) {\n                const pos = el.tooltipPosition();\n                xSet.add(pos.x);\n                y += pos.y;\n                ++count;\n            }\n        }\n        const xAverage = [\n            ...xSet\n        ].reduce((a, b)=>a + b) / xSet.size;\n        return {\n            x: xAverage,\n            y: y / count\n        };\n    },\n nearest (items, eventPosition) {\n        if (!items.length) {\n            return false;\n        }\n        let x = eventPosition.x;\n        let y = eventPosition.y;\n        let minDistance = Number.POSITIVE_INFINITY;\n        let i, len, nearestElement;\n        for(i = 0, len = items.length; i < len; ++i){\n            const el = items[i].element;\n            if (el && el.hasValue()) {\n                const center = el.getCenterPoint();\n                const d = distanceBetweenPoints(eventPosition, center);\n                if (d < minDistance) {\n                    minDistance = d;\n                    nearestElement = el;\n                }\n            }\n        }\n        if (nearestElement) {\n            const tp = nearestElement.tooltipPosition();\n            x = tp.x;\n            y = tp.y;\n        }\n        return {\n            x,\n            y\n        };\n    }\n};\nfunction pushOrConcat(base, toPush) {\n    if (toPush) {\n        if (isArray(toPush)) {\n            Array.prototype.push.apply(base, toPush);\n        } else {\n            base.push(toPush);\n        }\n    }\n    return base;\n}\n function splitNewlines(str) {\n    if ((typeof str === 'string' || str instanceof String) && str.indexOf('\\n') > -1) {\n        return str.split('\\n');\n    }\n    return str;\n}\n function createTooltipItem(chart, item) {\n    const { element , datasetIndex , index  } = item;\n    const controller = chart.getDatasetMeta(datasetIndex).controller;\n    const { label , value  } = controller.getLabelAndValue(index);\n    return {\n        chart,\n        label,\n        parsed: controller.getParsed(index),\n        raw: chart.data.datasets[datasetIndex].data[index],\n        formattedValue: value,\n        dataset: controller.getDataset(),\n        dataIndex: index,\n        datasetIndex,\n        element\n    };\n}\n function getTooltipSize(tooltip, options) {\n    const ctx = tooltip.chart.ctx;\n    const { body , footer , title  } = tooltip;\n    const { boxWidth , boxHeight  } = options;\n    const bodyFont = toFont(options.bodyFont);\n    const titleFont = toFont(options.titleFont);\n    const footerFont = toFont(options.footerFont);\n    const titleLineCount = title.length;\n    const footerLineCount = footer.length;\n    const bodyLineItemCount = body.length;\n    const padding = toPadding(options.padding);\n    let height = padding.height;\n    let width = 0;\n    let combinedBodyLength = body.reduce((count, bodyItem)=>count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length, 0);\n    combinedBodyLength += tooltip.beforeBody.length + tooltip.afterBody.length;\n    if (titleLineCount) {\n        height += titleLineCount * titleFont.lineHeight + (titleLineCount - 1) * options.titleSpacing + options.titleMarginBottom;\n    }\n    if (combinedBodyLength) {\n        const bodyLineHeight = options.displayColors ? Math.max(boxHeight, bodyFont.lineHeight) : bodyFont.lineHeight;\n        height += bodyLineItemCount * bodyLineHeight + (combinedBodyLength - bodyLineItemCount) * bodyFont.lineHeight + (combinedBodyLength - 1) * options.bodySpacing;\n    }\n    if (footerLineCount) {\n        height += options.footerMarginTop + footerLineCount * footerFont.lineHeight + (footerLineCount - 1) * options.footerSpacing;\n    }\n    let widthPadding = 0;\n    const maxLineWidth = function(line) {\n        width = Math.max(width, ctx.measureText(line).width + widthPadding);\n    };\n    ctx.save();\n    ctx.font = titleFont.string;\n    each(tooltip.title, maxLineWidth);\n    ctx.font = bodyFont.string;\n    each(tooltip.beforeBody.concat(tooltip.afterBody), maxLineWidth);\n    widthPadding = options.displayColors ? boxWidth + 2 + options.boxPadding : 0;\n    each(body, (bodyItem)=>{\n        each(bodyItem.before, maxLineWidth);\n        each(bodyItem.lines, maxLineWidth);\n        each(bodyItem.after, maxLineWidth);\n    });\n    widthPadding = 0;\n    ctx.font = footerFont.string;\n    each(tooltip.footer, maxLineWidth);\n    ctx.restore();\n    width += padding.width;\n    return {\n        width,\n        height\n    };\n}\nfunction determineYAlign(chart, size) {\n    const { y , height  } = size;\n    if (y < height / 2) {\n        return 'top';\n    } else if (y > chart.height - height / 2) {\n        return 'bottom';\n    }\n    return 'center';\n}\nfunction doesNotFitWithAlign(xAlign, chart, options, size) {\n    const { x , width  } = size;\n    const caret = options.caretSize + options.caretPadding;\n    if (xAlign === 'left' && x + width + caret > chart.width) {\n        return true;\n    }\n    if (xAlign === 'right' && x - width - caret < 0) {\n        return true;\n    }\n}\nfunction determineXAlign(chart, options, size, yAlign) {\n    const { x , width  } = size;\n    const { width: chartWidth , chartArea: { left , right  }  } = chart;\n    let xAlign = 'center';\n    if (yAlign === 'center') {\n        xAlign = x <= (left + right) / 2 ? 'left' : 'right';\n    } else if (x <= width / 2) {\n        xAlign = 'left';\n    } else if (x >= chartWidth - width / 2) {\n        xAlign = 'right';\n    }\n    if (doesNotFitWithAlign(xAlign, chart, options, size)) {\n        xAlign = 'center';\n    }\n    return xAlign;\n}\n function determineAlignment(chart, options, size) {\n    const yAlign = size.yAlign || options.yAlign || determineYAlign(chart, size);\n    return {\n        xAlign: size.xAlign || options.xAlign || determineXAlign(chart, options, size, yAlign),\n        yAlign\n    };\n}\nfunction alignX(size, xAlign) {\n    let { x , width  } = size;\n    if (xAlign === 'right') {\n        x -= width;\n    } else if (xAlign === 'center') {\n        x -= width / 2;\n    }\n    return x;\n}\nfunction alignY(size, yAlign, paddingAndSize) {\n    let { y , height  } = size;\n    if (yAlign === 'top') {\n        y += paddingAndSize;\n    } else if (yAlign === 'bottom') {\n        y -= height + paddingAndSize;\n    } else {\n        y -= height / 2;\n    }\n    return y;\n}\n function getBackgroundPoint(options, size, alignment, chart) {\n    const { caretSize , caretPadding , cornerRadius  } = options;\n    const { xAlign , yAlign  } = alignment;\n    const paddingAndSize = caretSize + caretPadding;\n    const { topLeft , topRight , bottomLeft , bottomRight  } = toTRBLCorners(cornerRadius);\n    let x = alignX(size, xAlign);\n    const y = alignY(size, yAlign, paddingAndSize);\n    if (yAlign === 'center') {\n        if (xAlign === 'left') {\n            x += paddingAndSize;\n        } else if (xAlign === 'right') {\n            x -= paddingAndSize;\n        }\n    } else if (xAlign === 'left') {\n        x -= Math.max(topLeft, bottomLeft) + caretSize;\n    } else if (xAlign === 'right') {\n        x += Math.max(topRight, bottomRight) + caretSize;\n    }\n    return {\n        x: _limitValue(x, 0, chart.width - size.width),\n        y: _limitValue(y, 0, chart.height - size.height)\n    };\n}\nfunction getAlignedX(tooltip, align, options) {\n    const padding = toPadding(options.padding);\n    return align === 'center' ? tooltip.x + tooltip.width / 2 : align === 'right' ? tooltip.x + tooltip.width - padding.right : tooltip.x + padding.left;\n}\n function getBeforeAfterBodyLines(callback) {\n    return pushOrConcat([], splitNewlines(callback));\n}\nfunction createTooltipContext(parent, tooltip, tooltipItems) {\n    return createContext(parent, {\n        tooltip,\n        tooltipItems,\n        type: 'tooltip'\n    });\n}\nfunction overrideCallbacks(callbacks, context) {\n    const override = context && context.dataset && context.dataset.tooltip && context.dataset.tooltip.callbacks;\n    return override ? callbacks.override(override) : callbacks;\n}\nconst defaultCallbacks = {\n    beforeTitle: noop,\n    title (tooltipItems) {\n        if (tooltipItems.length > 0) {\n            const item = tooltipItems[0];\n            const labels = item.chart.data.labels;\n            const labelCount = labels ? labels.length : 0;\n            if (this && this.options && this.options.mode === 'dataset') {\n                return item.dataset.label || '';\n            } else if (item.label) {\n                return item.label;\n            } else if (labelCount > 0 && item.dataIndex < labelCount) {\n                return labels[item.dataIndex];\n            }\n        }\n        return '';\n    },\n    afterTitle: noop,\n    beforeBody: noop,\n    beforeLabel: noop,\n    label (tooltipItem) {\n        if (this && this.options && this.options.mode === 'dataset') {\n            return tooltipItem.label + ': ' + tooltipItem.formattedValue || tooltipItem.formattedValue;\n        }\n        let label = tooltipItem.dataset.label || '';\n        if (label) {\n            label += ': ';\n        }\n        const value = tooltipItem.formattedValue;\n        if (!isNullOrUndef(value)) {\n            label += value;\n        }\n        return label;\n    },\n    labelColor (tooltipItem) {\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n            borderColor: options.borderColor,\n            backgroundColor: options.backgroundColor,\n            borderWidth: options.borderWidth,\n            borderDash: options.borderDash,\n            borderDashOffset: options.borderDashOffset,\n            borderRadius: 0\n        };\n    },\n    labelTextColor () {\n        return this.options.bodyColor;\n    },\n    labelPointStyle (tooltipItem) {\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n            pointStyle: options.pointStyle,\n            rotation: options.rotation\n        };\n    },\n    afterLabel: noop,\n    afterBody: noop,\n    beforeFooter: noop,\n    footer: noop,\n    afterFooter: noop\n};\n function invokeCallbackWithFallback(callbacks, name, ctx, arg) {\n    const result = callbacks[name].call(ctx, arg);\n    if (typeof result === 'undefined') {\n        return defaultCallbacks[name].call(ctx, arg);\n    }\n    return result;\n}\nclass Tooltip extends Element {\n static positioners = positioners;\n    constructor(config){\n        super();\n        this.opacity = 0;\n        this._active = [];\n        this._eventPosition = undefined;\n        this._size = undefined;\n        this._cachedAnimations = undefined;\n        this._tooltipItems = [];\n        this.$animations = undefined;\n        this.$context = undefined;\n        this.chart = config.chart;\n        this.options = config.options;\n        this.dataPoints = undefined;\n        this.title = undefined;\n        this.beforeBody = undefined;\n        this.body = undefined;\n        this.afterBody = undefined;\n        this.footer = undefined;\n        this.xAlign = undefined;\n        this.yAlign = undefined;\n        this.x = undefined;\n        this.y = undefined;\n        this.height = undefined;\n        this.width = undefined;\n        this.caretX = undefined;\n        this.caretY = undefined;\n        this.labelColors = undefined;\n        this.labelPointStyles = undefined;\n        this.labelTextColors = undefined;\n    }\n    initialize(options) {\n        this.options = options;\n        this._cachedAnimations = undefined;\n        this.$context = undefined;\n    }\n _resolveAnimations() {\n        const cached = this._cachedAnimations;\n        if (cached) {\n            return cached;\n        }\n        const chart = this.chart;\n        const options = this.options.setContext(this.getContext());\n        const opts = options.enabled && chart.options.animation && options.animations;\n        const animations = new Animations(this.chart, opts);\n        if (opts._cacheable) {\n            this._cachedAnimations = Object.freeze(animations);\n        }\n        return animations;\n    }\n getContext() {\n        return this.$context || (this.$context = createTooltipContext(this.chart.getContext(), this, this._tooltipItems));\n    }\n    getTitle(context, options) {\n        const { callbacks  } = options;\n        const beforeTitle = invokeCallbackWithFallback(callbacks, 'beforeTitle', this, context);\n        const title = invokeCallbackWithFallback(callbacks, 'title', this, context);\n        const afterTitle = invokeCallbackWithFallback(callbacks, 'afterTitle', this, context);\n        let lines = [];\n        lines = pushOrConcat(lines, splitNewlines(beforeTitle));\n        lines = pushOrConcat(lines, splitNewlines(title));\n        lines = pushOrConcat(lines, splitNewlines(afterTitle));\n        return lines;\n    }\n    getBeforeBody(tooltipItems, options) {\n        return getBeforeAfterBodyLines(invokeCallbackWithFallback(options.callbacks, 'beforeBody', this, tooltipItems));\n    }\n    getBody(tooltipItems, options) {\n        const { callbacks  } = options;\n        const bodyItems = [];\n        each(tooltipItems, (context)=>{\n            const bodyItem = {\n                before: [],\n                lines: [],\n                after: []\n            };\n            const scoped = overrideCallbacks(callbacks, context);\n            pushOrConcat(bodyItem.before, splitNewlines(invokeCallbackWithFallback(scoped, 'beforeLabel', this, context)));\n            pushOrConcat(bodyItem.lines, invokeCallbackWithFallback(scoped, 'label', this, context));\n            pushOrConcat(bodyItem.after, splitNewlines(invokeCallbackWithFallback(scoped, 'afterLabel', this, context)));\n            bodyItems.push(bodyItem);\n        });\n        return bodyItems;\n    }\n    getAfterBody(tooltipItems, options) {\n        return getBeforeAfterBodyLines(invokeCallbackWithFallback(options.callbacks, 'afterBody', this, tooltipItems));\n    }\n    getFooter(tooltipItems, options) {\n        const { callbacks  } = options;\n        const beforeFooter = invokeCallbackWithFallback(callbacks, 'beforeFooter', this, tooltipItems);\n        const footer = invokeCallbackWithFallback(callbacks, 'footer', this, tooltipItems);\n        const afterFooter = invokeCallbackWithFallback(callbacks, 'afterFooter', this, tooltipItems);\n        let lines = [];\n        lines = pushOrConcat(lines, splitNewlines(beforeFooter));\n        lines = pushOrConcat(lines, splitNewlines(footer));\n        lines = pushOrConcat(lines, splitNewlines(afterFooter));\n        return lines;\n    }\n _createItems(options) {\n        const active = this._active;\n        const data = this.chart.data;\n        const labelColors = [];\n        const labelPointStyles = [];\n        const labelTextColors = [];\n        let tooltipItems = [];\n        let i, len;\n        for(i = 0, len = active.length; i < len; ++i){\n            tooltipItems.push(createTooltipItem(this.chart, active[i]));\n        }\n        if (options.filter) {\n            tooltipItems = tooltipItems.filter((element, index, array)=>options.filter(element, index, array, data));\n        }\n        if (options.itemSort) {\n            tooltipItems = tooltipItems.sort((a, b)=>options.itemSort(a, b, data));\n        }\n        each(tooltipItems, (context)=>{\n            const scoped = overrideCallbacks(options.callbacks, context);\n            labelColors.push(invokeCallbackWithFallback(scoped, 'labelColor', this, context));\n            labelPointStyles.push(invokeCallbackWithFallback(scoped, 'labelPointStyle', this, context));\n            labelTextColors.push(invokeCallbackWithFallback(scoped, 'labelTextColor', this, context));\n        });\n        this.labelColors = labelColors;\n        this.labelPointStyles = labelPointStyles;\n        this.labelTextColors = labelTextColors;\n        this.dataPoints = tooltipItems;\n        return tooltipItems;\n    }\n    update(changed, replay) {\n        const options = this.options.setContext(this.getContext());\n        const active = this._active;\n        let properties;\n        let tooltipItems = [];\n        if (!active.length) {\n            if (this.opacity !== 0) {\n                properties = {\n                    opacity: 0\n                };\n            }\n        } else {\n            const position = positioners[options.position].call(this, active, this._eventPosition);\n            tooltipItems = this._createItems(options);\n            this.title = this.getTitle(tooltipItems, options);\n            this.beforeBody = this.getBeforeBody(tooltipItems, options);\n            this.body = this.getBody(tooltipItems, options);\n            this.afterBody = this.getAfterBody(tooltipItems, options);\n            this.footer = this.getFooter(tooltipItems, options);\n            const size = this._size = getTooltipSize(this, options);\n            const positionAndSize = Object.assign({}, position, size);\n            const alignment = determineAlignment(this.chart, options, positionAndSize);\n            const backgroundPoint = getBackgroundPoint(options, positionAndSize, alignment, this.chart);\n            this.xAlign = alignment.xAlign;\n            this.yAlign = alignment.yAlign;\n            properties = {\n                opacity: 1,\n                x: backgroundPoint.x,\n                y: backgroundPoint.y,\n                width: size.width,\n                height: size.height,\n                caretX: position.x,\n                caretY: position.y\n            };\n        }\n        this._tooltipItems = tooltipItems;\n        this.$context = undefined;\n        if (properties) {\n            this._resolveAnimations().update(this, properties);\n        }\n        if (changed && options.external) {\n            options.external.call(this, {\n                chart: this.chart,\n                tooltip: this,\n                replay\n            });\n        }\n    }\n    drawCaret(tooltipPoint, ctx, size, options) {\n        const caretPosition = this.getCaretPosition(tooltipPoint, size, options);\n        ctx.lineTo(caretPosition.x1, caretPosition.y1);\n        ctx.lineTo(caretPosition.x2, caretPosition.y2);\n        ctx.lineTo(caretPosition.x3, caretPosition.y3);\n    }\n    getCaretPosition(tooltipPoint, size, options) {\n        const { xAlign , yAlign  } = this;\n        const { caretSize , cornerRadius  } = options;\n        const { topLeft , topRight , bottomLeft , bottomRight  } = toTRBLCorners(cornerRadius);\n        const { x: ptX , y: ptY  } = tooltipPoint;\n        const { width , height  } = size;\n        let x1, x2, x3, y1, y2, y3;\n        if (yAlign === 'center') {\n            y2 = ptY + height / 2;\n            if (xAlign === 'left') {\n                x1 = ptX;\n                x2 = x1 - caretSize;\n                y1 = y2 + caretSize;\n                y3 = y2 - caretSize;\n            } else {\n                x1 = ptX + width;\n                x2 = x1 + caretSize;\n                y1 = y2 - caretSize;\n                y3 = y2 + caretSize;\n            }\n            x3 = x1;\n        } else {\n            if (xAlign === 'left') {\n                x2 = ptX + Math.max(topLeft, bottomLeft) + caretSize;\n            } else if (xAlign === 'right') {\n                x2 = ptX + width - Math.max(topRight, bottomRight) - caretSize;\n            } else {\n                x2 = this.caretX;\n            }\n            if (yAlign === 'top') {\n                y1 = ptY;\n                y2 = y1 - caretSize;\n                x1 = x2 - caretSize;\n                x3 = x2 + caretSize;\n            } else {\n                y1 = ptY + height;\n                y2 = y1 + caretSize;\n                x1 = x2 + caretSize;\n                x3 = x2 - caretSize;\n            }\n            y3 = y1;\n        }\n        return {\n            x1,\n            x2,\n            x3,\n            y1,\n            y2,\n            y3\n        };\n    }\n    drawTitle(pt, ctx, options) {\n        const title = this.title;\n        const length = title.length;\n        let titleFont, titleSpacing, i;\n        if (length) {\n            const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n            pt.x = getAlignedX(this, options.titleAlign, options);\n            ctx.textAlign = rtlHelper.textAlign(options.titleAlign);\n            ctx.textBaseline = 'middle';\n            titleFont = toFont(options.titleFont);\n            titleSpacing = options.titleSpacing;\n            ctx.fillStyle = options.titleColor;\n            ctx.font = titleFont.string;\n            for(i = 0; i < length; ++i){\n                ctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFont.lineHeight / 2);\n                pt.y += titleFont.lineHeight + titleSpacing;\n                if (i + 1 === length) {\n                    pt.y += options.titleMarginBottom - titleSpacing;\n                }\n            }\n        }\n    }\n _drawColorBox(ctx, pt, i, rtlHelper, options) {\n        const labelColor = this.labelColors[i];\n        const labelPointStyle = this.labelPointStyles[i];\n        const { boxHeight , boxWidth  } = options;\n        const bodyFont = toFont(options.bodyFont);\n        const colorX = getAlignedX(this, 'left', options);\n        const rtlColorX = rtlHelper.x(colorX);\n        const yOffSet = boxHeight < bodyFont.lineHeight ? (bodyFont.lineHeight - boxHeight) / 2 : 0;\n        const colorY = pt.y + yOffSet;\n        if (options.usePointStyle) {\n            const drawOptions = {\n                radius: Math.min(boxWidth, boxHeight) / 2,\n                pointStyle: labelPointStyle.pointStyle,\n                rotation: labelPointStyle.rotation,\n                borderWidth: 1\n            };\n            const centerX = rtlHelper.leftForLtr(rtlColorX, boxWidth) + boxWidth / 2;\n            const centerY = colorY + boxHeight / 2;\n            ctx.strokeStyle = options.multiKeyBackground;\n            ctx.fillStyle = options.multiKeyBackground;\n            drawPoint(ctx, drawOptions, centerX, centerY);\n            ctx.strokeStyle = labelColor.borderColor;\n            ctx.fillStyle = labelColor.backgroundColor;\n            drawPoint(ctx, drawOptions, centerX, centerY);\n        } else {\n            ctx.lineWidth = isObject(labelColor.borderWidth) ? Math.max(...Object.values(labelColor.borderWidth)) : labelColor.borderWidth || 1;\n            ctx.strokeStyle = labelColor.borderColor;\n            ctx.setLineDash(labelColor.borderDash || []);\n            ctx.lineDashOffset = labelColor.borderDashOffset || 0;\n            const outerX = rtlHelper.leftForLtr(rtlColorX, boxWidth);\n            const innerX = rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), boxWidth - 2);\n            const borderRadius = toTRBLCorners(labelColor.borderRadius);\n            if (Object.values(borderRadius).some((v)=>v !== 0)) {\n                ctx.beginPath();\n                ctx.fillStyle = options.multiKeyBackground;\n                addRoundedRectPath(ctx, {\n                    x: outerX,\n                    y: colorY,\n                    w: boxWidth,\n                    h: boxHeight,\n                    radius: borderRadius\n                });\n                ctx.fill();\n                ctx.stroke();\n                ctx.fillStyle = labelColor.backgroundColor;\n                ctx.beginPath();\n                addRoundedRectPath(ctx, {\n                    x: innerX,\n                    y: colorY + 1,\n                    w: boxWidth - 2,\n                    h: boxHeight - 2,\n                    radius: borderRadius\n                });\n                ctx.fill();\n            } else {\n                ctx.fillStyle = options.multiKeyBackground;\n                ctx.fillRect(outerX, colorY, boxWidth, boxHeight);\n                ctx.strokeRect(outerX, colorY, boxWidth, boxHeight);\n                ctx.fillStyle = labelColor.backgroundColor;\n                ctx.fillRect(innerX, colorY + 1, boxWidth - 2, boxHeight - 2);\n            }\n        }\n        ctx.fillStyle = this.labelTextColors[i];\n    }\n    drawBody(pt, ctx, options) {\n        const { body  } = this;\n        const { bodySpacing , bodyAlign , displayColors , boxHeight , boxWidth , boxPadding  } = options;\n        const bodyFont = toFont(options.bodyFont);\n        let bodyLineHeight = bodyFont.lineHeight;\n        let xLinePadding = 0;\n        const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n        const fillLineOfText = function(line) {\n            ctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyLineHeight / 2);\n            pt.y += bodyLineHeight + bodySpacing;\n        };\n        const bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);\n        let bodyItem, textColor, lines, i, j, ilen, jlen;\n        ctx.textAlign = bodyAlign;\n        ctx.textBaseline = 'middle';\n        ctx.font = bodyFont.string;\n        pt.x = getAlignedX(this, bodyAlignForCalculation, options);\n        ctx.fillStyle = options.bodyColor;\n        each(this.beforeBody, fillLineOfText);\n        xLinePadding = displayColors && bodyAlignForCalculation !== 'right' ? bodyAlign === 'center' ? boxWidth / 2 + boxPadding : boxWidth + 2 + boxPadding : 0;\n        for(i = 0, ilen = body.length; i < ilen; ++i){\n            bodyItem = body[i];\n            textColor = this.labelTextColors[i];\n            ctx.fillStyle = textColor;\n            each(bodyItem.before, fillLineOfText);\n            lines = bodyItem.lines;\n            if (displayColors && lines.length) {\n                this._drawColorBox(ctx, pt, i, rtlHelper, options);\n                bodyLineHeight = Math.max(bodyFont.lineHeight, boxHeight);\n            }\n            for(j = 0, jlen = lines.length; j < jlen; ++j){\n                fillLineOfText(lines[j]);\n                bodyLineHeight = bodyFont.lineHeight;\n            }\n            each(bodyItem.after, fillLineOfText);\n        }\n        xLinePadding = 0;\n        bodyLineHeight = bodyFont.lineHeight;\n        each(this.afterBody, fillLineOfText);\n        pt.y -= bodySpacing;\n    }\n    drawFooter(pt, ctx, options) {\n        const footer = this.footer;\n        const length = footer.length;\n        let footerFont, i;\n        if (length) {\n            const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n            pt.x = getAlignedX(this, options.footerAlign, options);\n            pt.y += options.footerMarginTop;\n            ctx.textAlign = rtlHelper.textAlign(options.footerAlign);\n            ctx.textBaseline = 'middle';\n            footerFont = toFont(options.footerFont);\n            ctx.fillStyle = options.footerColor;\n            ctx.font = footerFont.string;\n            for(i = 0; i < length; ++i){\n                ctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFont.lineHeight / 2);\n                pt.y += footerFont.lineHeight + options.footerSpacing;\n            }\n        }\n    }\n    drawBackground(pt, ctx, tooltipSize, options) {\n        const { xAlign , yAlign  } = this;\n        const { x , y  } = pt;\n        const { width , height  } = tooltipSize;\n        const { topLeft , topRight , bottomLeft , bottomRight  } = toTRBLCorners(options.cornerRadius);\n        ctx.fillStyle = options.backgroundColor;\n        ctx.strokeStyle = options.borderColor;\n        ctx.lineWidth = options.borderWidth;\n        ctx.beginPath();\n        ctx.moveTo(x + topLeft, y);\n        if (yAlign === 'top') {\n            this.drawCaret(pt, ctx, tooltipSize, options);\n        }\n        ctx.lineTo(x + width - topRight, y);\n        ctx.quadraticCurveTo(x + width, y, x + width, y + topRight);\n        if (yAlign === 'center' && xAlign === 'right') {\n            this.drawCaret(pt, ctx, tooltipSize, options);\n        }\n        ctx.lineTo(x + width, y + height - bottomRight);\n        ctx.quadraticCurveTo(x + width, y + height, x + width - bottomRight, y + height);\n        if (yAlign === 'bottom') {\n            this.drawCaret(pt, ctx, tooltipSize, options);\n        }\n        ctx.lineTo(x + bottomLeft, y + height);\n        ctx.quadraticCurveTo(x, y + height, x, y + height - bottomLeft);\n        if (yAlign === 'center' && xAlign === 'left') {\n            this.drawCaret(pt, ctx, tooltipSize, options);\n        }\n        ctx.lineTo(x, y + topLeft);\n        ctx.quadraticCurveTo(x, y, x + topLeft, y);\n        ctx.closePath();\n        ctx.fill();\n        if (options.borderWidth > 0) {\n            ctx.stroke();\n        }\n    }\n _updateAnimationTarget(options) {\n        const chart = this.chart;\n        const anims = this.$animations;\n        const animX = anims && anims.x;\n        const animY = anims && anims.y;\n        if (animX || animY) {\n            const position = positioners[options.position].call(this, this._active, this._eventPosition);\n            if (!position) {\n                return;\n            }\n            const size = this._size = getTooltipSize(this, options);\n            const positionAndSize = Object.assign({}, position, this._size);\n            const alignment = determineAlignment(chart, options, positionAndSize);\n            const point = getBackgroundPoint(options, positionAndSize, alignment, chart);\n            if (animX._to !== point.x || animY._to !== point.y) {\n                this.xAlign = alignment.xAlign;\n                this.yAlign = alignment.yAlign;\n                this.width = size.width;\n                this.height = size.height;\n                this.caretX = position.x;\n                this.caretY = position.y;\n                this._resolveAnimations().update(this, point);\n            }\n        }\n    }\n _willRender() {\n        return !!this.opacity;\n    }\n    draw(ctx) {\n        const options = this.options.setContext(this.getContext());\n        let opacity = this.opacity;\n        if (!opacity) {\n            return;\n        }\n        this._updateAnimationTarget(options);\n        const tooltipSize = {\n            width: this.width,\n            height: this.height\n        };\n        const pt = {\n            x: this.x,\n            y: this.y\n        };\n        opacity = Math.abs(opacity) < 1e-3 ? 0 : opacity;\n        const padding = toPadding(options.padding);\n        const hasTooltipContent = this.title.length || this.beforeBody.length || this.body.length || this.afterBody.length || this.footer.length;\n        if (options.enabled && hasTooltipContent) {\n            ctx.save();\n            ctx.globalAlpha = opacity;\n            this.drawBackground(pt, ctx, tooltipSize, options);\n            overrideTextDirection(ctx, options.textDirection);\n            pt.y += padding.top;\n            this.drawTitle(pt, ctx, options);\n            this.drawBody(pt, ctx, options);\n            this.drawFooter(pt, ctx, options);\n            restoreTextDirection(ctx, options.textDirection);\n            ctx.restore();\n        }\n    }\n getActiveElements() {\n        return this._active || [];\n    }\n setActiveElements(activeElements, eventPosition) {\n        const lastActive = this._active;\n        const active = activeElements.map(({ datasetIndex , index  })=>{\n            const meta = this.chart.getDatasetMeta(datasetIndex);\n            if (!meta) {\n                throw new Error('Cannot find a dataset at index ' + datasetIndex);\n            }\n            return {\n                datasetIndex,\n                element: meta.data[index],\n                index\n            };\n        });\n        const changed = !_elementsEqual(lastActive, active);\n        const positionChanged = this._positionChanged(active, eventPosition);\n        if (changed || positionChanged) {\n            this._active = active;\n            this._eventPosition = eventPosition;\n            this._ignoreReplayEvents = true;\n            this.update(true);\n        }\n    }\n handleEvent(e, replay, inChartArea = true) {\n        if (replay && this._ignoreReplayEvents) {\n            return false;\n        }\n        this._ignoreReplayEvents = false;\n        const options = this.options;\n        const lastActive = this._active || [];\n        const active = this._getActiveElements(e, lastActive, replay, inChartArea);\n        const positionChanged = this._positionChanged(active, e);\n        const changed = replay || !_elementsEqual(active, lastActive) || positionChanged;\n        if (changed) {\n            this._active = active;\n            if (options.enabled || options.external) {\n                this._eventPosition = {\n                    x: e.x,\n                    y: e.y\n                };\n                this.update(true, replay);\n            }\n        }\n        return changed;\n    }\n _getActiveElements(e, lastActive, replay, inChartArea) {\n        const options = this.options;\n        if (e.type === 'mouseout') {\n            return [];\n        }\n        if (!inChartArea) {\n            return lastActive.filter((i)=>this.chart.data.datasets[i.datasetIndex] && this.chart.getDatasetMeta(i.datasetIndex).controller.getParsed(i.index) !== undefined);\n        }\n        const active = this.chart.getElementsAtEventForMode(e, options.mode, options, replay);\n        if (options.reverse) {\n            active.reverse();\n        }\n        return active;\n    }\n _positionChanged(active, e) {\n        const { caretX , caretY , options  } = this;\n        const position = positioners[options.position].call(this, active, e);\n        return position !== false && (caretX !== position.x || caretY !== position.y);\n    }\n}\nvar plugin_tooltip = {\n    id: 'tooltip',\n    _element: Tooltip,\n    positioners,\n    afterInit (chart, _args, options) {\n        if (options) {\n            chart.tooltip = new Tooltip({\n                chart,\n                options\n            });\n        }\n    },\n    beforeUpdate (chart, _args, options) {\n        if (chart.tooltip) {\n            chart.tooltip.initialize(options);\n        }\n    },\n    reset (chart, _args, options) {\n        if (chart.tooltip) {\n            chart.tooltip.initialize(options);\n        }\n    },\n    afterDraw (chart) {\n        const tooltip = chart.tooltip;\n        if (tooltip && tooltip._willRender()) {\n            const args = {\n                tooltip\n            };\n            if (chart.notifyPlugins('beforeTooltipDraw', {\n                ...args,\n                cancelable: true\n            }) === false) {\n                return;\n            }\n            tooltip.draw(chart.ctx);\n            chart.notifyPlugins('afterTooltipDraw', args);\n        }\n    },\n    afterEvent (chart, args) {\n        if (chart.tooltip) {\n            const useFinalPosition = args.replay;\n            if (chart.tooltip.handleEvent(args.event, useFinalPosition, args.inChartArea)) {\n                args.changed = true;\n            }\n        }\n    },\n    defaults: {\n        enabled: true,\n        external: null,\n        position: 'average',\n        backgroundColor: 'rgba(0,0,0,0.8)',\n        titleColor: '#fff',\n        titleFont: {\n            weight: 'bold'\n        },\n        titleSpacing: 2,\n        titleMarginBottom: 6,\n        titleAlign: 'left',\n        bodyColor: '#fff',\n        bodySpacing: 2,\n        bodyFont: {},\n        bodyAlign: 'left',\n        footerColor: '#fff',\n        footerSpacing: 2,\n        footerMarginTop: 6,\n        footerFont: {\n            weight: 'bold'\n        },\n        footerAlign: 'left',\n        padding: 6,\n        caretPadding: 2,\n        caretSize: 5,\n        cornerRadius: 6,\n        boxHeight: (ctx, opts)=>opts.bodyFont.size,\n        boxWidth: (ctx, opts)=>opts.bodyFont.size,\n        multiKeyBackground: '#fff',\n        displayColors: true,\n        boxPadding: 0,\n        borderColor: 'rgba(0,0,0,0)',\n        borderWidth: 0,\n        animation: {\n            duration: 400,\n            easing: 'easeOutQuart'\n        },\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'x',\n                    'y',\n                    'width',\n                    'height',\n                    'caretX',\n                    'caretY'\n                ]\n            },\n            opacity: {\n                easing: 'linear',\n                duration: 200\n            }\n        },\n        callbacks: defaultCallbacks\n    },\n    defaultRoutes: {\n        bodyFont: 'font',\n        footerFont: 'font',\n        titleFont: 'font'\n    },\n    descriptors: {\n        _scriptable: (name)=>name !== 'filter' && name !== 'itemSort' && name !== 'external',\n        _indexable: false,\n        callbacks: {\n            _scriptable: false,\n            _indexable: false\n        },\n        animation: {\n            _fallback: false\n        },\n        animations: {\n            _fallback: 'animation'\n        }\n    },\n    additionalOptionScopes: [\n        'interaction'\n    ]\n};\n\nvar plugins = /*#__PURE__*/Object.freeze({\n__proto__: null,\nColors: plugin_colors,\nDecimation: plugin_decimation,\nFiller: index,\nLegend: plugin_legend,\nSubTitle: plugin_subtitle,\nTitle: plugin_title,\nTooltip: plugin_tooltip\n});\n\nconst addIfString = (labels, raw, index, addedLabels)=>{\n    if (typeof raw === 'string') {\n        index = labels.push(raw) - 1;\n        addedLabels.unshift({\n            index,\n            label: raw\n        });\n    } else if (isNaN(raw)) {\n        index = null;\n    }\n    return index;\n};\nfunction findOrAddLabel(labels, raw, index, addedLabels) {\n    const first = labels.indexOf(raw);\n    if (first === -1) {\n        return addIfString(labels, raw, index, addedLabels);\n    }\n    const last = labels.lastIndexOf(raw);\n    return first !== last ? index : first;\n}\nconst validIndex = (index, max)=>index === null ? null : _limitValue(Math.round(index), 0, max);\nfunction _getLabelForValue(value) {\n    const labels = this.getLabels();\n    if (value >= 0 && value < labels.length) {\n        return labels[value];\n    }\n    return value;\n}\nclass CategoryScale extends Scale {\n    static id = 'category';\n static defaults = {\n        ticks: {\n            callback: _getLabelForValue\n        }\n    };\n    constructor(cfg){\n        super(cfg);\n         this._startValue = undefined;\n        this._valueRange = 0;\n        this._addedLabels = [];\n    }\n    init(scaleOptions) {\n        const added = this._addedLabels;\n        if (added.length) {\n            const labels = this.getLabels();\n            for (const { index , label  } of added){\n                if (labels[index] === label) {\n                    labels.splice(index, 1);\n                }\n            }\n            this._addedLabels = [];\n        }\n        super.init(scaleOptions);\n    }\n    parse(raw, index) {\n        if (isNullOrUndef(raw)) {\n            return null;\n        }\n        const labels = this.getLabels();\n        index = isFinite(index) && labels[index] === raw ? index : findOrAddLabel(labels, raw, valueOrDefault(index, raw), this._addedLabels);\n        return validIndex(index, labels.length - 1);\n    }\n    determineDataLimits() {\n        const { minDefined , maxDefined  } = this.getUserBounds();\n        let { min , max  } = this.getMinMax(true);\n        if (this.options.bounds === 'ticks') {\n            if (!minDefined) {\n                min = 0;\n            }\n            if (!maxDefined) {\n                max = this.getLabels().length - 1;\n            }\n        }\n        this.min = min;\n        this.max = max;\n    }\n    buildTicks() {\n        const min = this.min;\n        const max = this.max;\n        const offset = this.options.offset;\n        const ticks = [];\n        let labels = this.getLabels();\n        labels = min === 0 && max === labels.length - 1 ? labels : labels.slice(min, max + 1);\n        this._valueRange = Math.max(labels.length - (offset ? 0 : 1), 1);\n        this._startValue = this.min - (offset ? 0.5 : 0);\n        for(let value = min; value <= max; value++){\n            ticks.push({\n                value\n            });\n        }\n        return ticks;\n    }\n    getLabelForValue(value) {\n        return _getLabelForValue.call(this, value);\n    }\n configure() {\n        super.configure();\n        if (!this.isHorizontal()) {\n            this._reversePixels = !this._reversePixels;\n        }\n    }\n    getPixelForValue(value) {\n        if (typeof value !== 'number') {\n            value = this.parse(value);\n        }\n        return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n    }\n    getPixelForTick(index) {\n        const ticks = this.ticks;\n        if (index < 0 || index > ticks.length - 1) {\n            return null;\n        }\n        return this.getPixelForValue(ticks[index].value);\n    }\n    getValueForPixel(pixel) {\n        return Math.round(this._startValue + this.getDecimalForPixel(pixel) * this._valueRange);\n    }\n    getBasePixel() {\n        return this.bottom;\n    }\n}\n\nfunction generateTicks$1(generationOptions, dataRange) {\n    const ticks = [];\n    const MIN_SPACING = 1e-14;\n    const { bounds , step , min , max , precision , count , maxTicks , maxDigits , includeBounds  } = generationOptions;\n    const unit = step || 1;\n    const maxSpaces = maxTicks - 1;\n    const { min: rmin , max: rmax  } = dataRange;\n    const minDefined = !isNullOrUndef(min);\n    const maxDefined = !isNullOrUndef(max);\n    const countDefined = !isNullOrUndef(count);\n    const minSpacing = (rmax - rmin) / (maxDigits + 1);\n    let spacing = niceNum((rmax - rmin) / maxSpaces / unit) * unit;\n    let factor, niceMin, niceMax, numSpaces;\n    if (spacing < MIN_SPACING && !minDefined && !maxDefined) {\n        return [\n            {\n                value: rmin\n            },\n            {\n                value: rmax\n            }\n        ];\n    }\n    numSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);\n    if (numSpaces > maxSpaces) {\n        spacing = niceNum(numSpaces * spacing / maxSpaces / unit) * unit;\n    }\n    if (!isNullOrUndef(precision)) {\n        factor = Math.pow(10, precision);\n        spacing = Math.ceil(spacing * factor) / factor;\n    }\n    if (bounds === 'ticks') {\n        niceMin = Math.floor(rmin / spacing) * spacing;\n        niceMax = Math.ceil(rmax / spacing) * spacing;\n    } else {\n        niceMin = rmin;\n        niceMax = rmax;\n    }\n    if (minDefined && maxDefined && step && almostWhole((max - min) / step, spacing / 1000)) {\n        numSpaces = Math.round(Math.min((max - min) / spacing, maxTicks));\n        spacing = (max - min) / numSpaces;\n        niceMin = min;\n        niceMax = max;\n    } else if (countDefined) {\n        niceMin = minDefined ? min : niceMin;\n        niceMax = maxDefined ? max : niceMax;\n        numSpaces = count - 1;\n        spacing = (niceMax - niceMin) / numSpaces;\n    } else {\n        numSpaces = (niceMax - niceMin) / spacing;\n        if (almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\n            numSpaces = Math.round(numSpaces);\n        } else {\n            numSpaces = Math.ceil(numSpaces);\n        }\n    }\n    const decimalPlaces = Math.max(_decimalPlaces(spacing), _decimalPlaces(niceMin));\n    factor = Math.pow(10, isNullOrUndef(precision) ? decimalPlaces : precision);\n    niceMin = Math.round(niceMin * factor) / factor;\n    niceMax = Math.round(niceMax * factor) / factor;\n    let j = 0;\n    if (minDefined) {\n        if (includeBounds && niceMin !== min) {\n            ticks.push({\n                value: min\n            });\n            if (niceMin < min) {\n                j++;\n            }\n            if (almostEquals(Math.round((niceMin + j * spacing) * factor) / factor, min, relativeLabelSize(min, minSpacing, generationOptions))) {\n                j++;\n            }\n        } else if (niceMin < min) {\n            j++;\n        }\n    }\n    for(; j < numSpaces; ++j){\n        const tickValue = Math.round((niceMin + j * spacing) * factor) / factor;\n        if (maxDefined && tickValue > max) {\n            break;\n        }\n        ticks.push({\n            value: tickValue\n        });\n    }\n    if (maxDefined && includeBounds && niceMax !== max) {\n        if (ticks.length && almostEquals(ticks[ticks.length - 1].value, max, relativeLabelSize(max, minSpacing, generationOptions))) {\n            ticks[ticks.length - 1].value = max;\n        } else {\n            ticks.push({\n                value: max\n            });\n        }\n    } else if (!maxDefined || niceMax === max) {\n        ticks.push({\n            value: niceMax\n        });\n    }\n    return ticks;\n}\nfunction relativeLabelSize(value, minSpacing, { horizontal , minRotation  }) {\n    const rad = toRadians(minRotation);\n    const ratio = (horizontal ? Math.sin(rad) : Math.cos(rad)) || 0.001;\n    const length = 0.75 * minSpacing * ('' + value).length;\n    return Math.min(minSpacing / ratio, length);\n}\nclass LinearScaleBase extends Scale {\n    constructor(cfg){\n        super(cfg);\n         this.start = undefined;\n         this.end = undefined;\n         this._startValue = undefined;\n         this._endValue = undefined;\n        this._valueRange = 0;\n    }\n    parse(raw, index) {\n        if (isNullOrUndef(raw)) {\n            return null;\n        }\n        if ((typeof raw === 'number' || raw instanceof Number) && !isFinite(+raw)) {\n            return null;\n        }\n        return +raw;\n    }\n    handleTickRangeOptions() {\n        const { beginAtZero  } = this.options;\n        const { minDefined , maxDefined  } = this.getUserBounds();\n        let { min , max  } = this;\n        const setMin = (v)=>min = minDefined ? min : v;\n        const setMax = (v)=>max = maxDefined ? max : v;\n        if (beginAtZero) {\n            const minSign = sign(min);\n            const maxSign = sign(max);\n            if (minSign < 0 && maxSign < 0) {\n                setMax(0);\n            } else if (minSign > 0 && maxSign > 0) {\n                setMin(0);\n            }\n        }\n        if (min === max) {\n            let offset = max === 0 ? 1 : Math.abs(max * 0.05);\n            setMax(max + offset);\n            if (!beginAtZero) {\n                setMin(min - offset);\n            }\n        }\n        this.min = min;\n        this.max = max;\n    }\n    getTickLimit() {\n        const tickOpts = this.options.ticks;\n        let { maxTicksLimit , stepSize  } = tickOpts;\n        let maxTicks;\n        if (stepSize) {\n            maxTicks = Math.ceil(this.max / stepSize) - Math.floor(this.min / stepSize) + 1;\n            if (maxTicks > 1000) {\n                console.warn(`scales.${this.id}.ticks.stepSize: ${stepSize} would result generating up to ${maxTicks} ticks. Limiting to 1000.`);\n                maxTicks = 1000;\n            }\n        } else {\n            maxTicks = this.computeTickLimit();\n            maxTicksLimit = maxTicksLimit || 11;\n        }\n        if (maxTicksLimit) {\n            maxTicks = Math.min(maxTicksLimit, maxTicks);\n        }\n        return maxTicks;\n    }\n computeTickLimit() {\n        return Number.POSITIVE_INFINITY;\n    }\n    buildTicks() {\n        const opts = this.options;\n        const tickOpts = opts.ticks;\n        let maxTicks = this.getTickLimit();\n        maxTicks = Math.max(2, maxTicks);\n        const numericGeneratorOptions = {\n            maxTicks,\n            bounds: opts.bounds,\n            min: opts.min,\n            max: opts.max,\n            precision: tickOpts.precision,\n            step: tickOpts.stepSize,\n            count: tickOpts.count,\n            maxDigits: this._maxDigits(),\n            horizontal: this.isHorizontal(),\n            minRotation: tickOpts.minRotation || 0,\n            includeBounds: tickOpts.includeBounds !== false\n        };\n        const dataRange = this._range || this;\n        const ticks = generateTicks$1(numericGeneratorOptions, dataRange);\n        if (opts.bounds === 'ticks') {\n            _setMinAndMaxByKey(ticks, this, 'value');\n        }\n        if (opts.reverse) {\n            ticks.reverse();\n            this.start = this.max;\n            this.end = this.min;\n        } else {\n            this.start = this.min;\n            this.end = this.max;\n        }\n        return ticks;\n    }\n configure() {\n        const ticks = this.ticks;\n        let start = this.min;\n        let end = this.max;\n        super.configure();\n        if (this.options.offset && ticks.length) {\n            const offset = (end - start) / Math.max(ticks.length - 1, 1) / 2;\n            start -= offset;\n            end += offset;\n        }\n        this._startValue = start;\n        this._endValue = end;\n        this._valueRange = end - start;\n    }\n    getLabelForValue(value) {\n        return formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n    }\n}\n\nclass LinearScale extends LinearScaleBase {\n    static id = 'linear';\n static defaults = {\n        ticks: {\n            callback: Ticks.formatters.numeric\n        }\n    };\n    determineDataLimits() {\n        const { min , max  } = this.getMinMax(true);\n        this.min = isNumberFinite(min) ? min : 0;\n        this.max = isNumberFinite(max) ? max : 1;\n        this.handleTickRangeOptions();\n    }\n computeTickLimit() {\n        const horizontal = this.isHorizontal();\n        const length = horizontal ? this.width : this.height;\n        const minRotation = toRadians(this.options.ticks.minRotation);\n        const ratio = (horizontal ? Math.sin(minRotation) : Math.cos(minRotation)) || 0.001;\n        const tickFont = this._resolveTickFontOptions(0);\n        return Math.ceil(length / Math.min(40, tickFont.lineHeight / ratio));\n    }\n    getPixelForValue(value) {\n        return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n    }\n    getValueForPixel(pixel) {\n        return this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;\n    }\n}\n\nconst log10Floor = (v)=>Math.floor(log10(v));\nconst changeExponent = (v, m)=>Math.pow(10, log10Floor(v) + m);\nfunction isMajor(tickVal) {\n    const remain = tickVal / Math.pow(10, log10Floor(tickVal));\n    return remain === 1;\n}\nfunction steps(min, max, rangeExp) {\n    const rangeStep = Math.pow(10, rangeExp);\n    const start = Math.floor(min / rangeStep);\n    const end = Math.ceil(max / rangeStep);\n    return end - start;\n}\nfunction startExp(min, max) {\n    const range = max - min;\n    let rangeExp = log10Floor(range);\n    while(steps(min, max, rangeExp) > 10){\n        rangeExp++;\n    }\n    while(steps(min, max, rangeExp) < 10){\n        rangeExp--;\n    }\n    return Math.min(rangeExp, log10Floor(min));\n}\n function generateTicks(generationOptions, { min , max  }) {\n    min = finiteOrDefault(generationOptions.min, min);\n    const ticks = [];\n    const minExp = log10Floor(min);\n    let exp = startExp(min, max);\n    let precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;\n    const stepSize = Math.pow(10, exp);\n    const base = minExp > exp ? Math.pow(10, minExp) : 0;\n    const start = Math.round((min - base) * precision) / precision;\n    const offset = Math.floor((min - base) / stepSize / 10) * stepSize * 10;\n    let significand = Math.floor((start - offset) / Math.pow(10, exp));\n    let value = finiteOrDefault(generationOptions.min, Math.round((base + offset + significand * Math.pow(10, exp)) * precision) / precision);\n    while(value < max){\n        ticks.push({\n            value,\n            major: isMajor(value),\n            significand\n        });\n        if (significand >= 10) {\n            significand = significand < 15 ? 15 : 20;\n        } else {\n            significand++;\n        }\n        if (significand >= 20) {\n            exp++;\n            significand = 2;\n            precision = exp >= 0 ? 1 : precision;\n        }\n        value = Math.round((base + offset + significand * Math.pow(10, exp)) * precision) / precision;\n    }\n    const lastTick = finiteOrDefault(generationOptions.max, value);\n    ticks.push({\n        value: lastTick,\n        major: isMajor(lastTick),\n        significand\n    });\n    return ticks;\n}\nclass LogarithmicScale extends Scale {\n    static id = 'logarithmic';\n static defaults = {\n        ticks: {\n            callback: Ticks.formatters.logarithmic,\n            major: {\n                enabled: true\n            }\n        }\n    };\n    constructor(cfg){\n        super(cfg);\n         this.start = undefined;\n         this.end = undefined;\n         this._startValue = undefined;\n        this._valueRange = 0;\n    }\n    parse(raw, index) {\n        const value = LinearScaleBase.prototype.parse.apply(this, [\n            raw,\n            index\n        ]);\n        if (value === 0) {\n            this._zero = true;\n            return undefined;\n        }\n        return isNumberFinite(value) && value > 0 ? value : null;\n    }\n    determineDataLimits() {\n        const { min , max  } = this.getMinMax(true);\n        this.min = isNumberFinite(min) ? Math.max(0, min) : null;\n        this.max = isNumberFinite(max) ? Math.max(0, max) : null;\n        if (this.options.beginAtZero) {\n            this._zero = true;\n        }\n        if (this._zero && this.min !== this._suggestedMin && !isNumberFinite(this._userMin)) {\n            this.min = min === changeExponent(this.min, 0) ? changeExponent(this.min, -1) : changeExponent(this.min, 0);\n        }\n        this.handleTickRangeOptions();\n    }\n    handleTickRangeOptions() {\n        const { minDefined , maxDefined  } = this.getUserBounds();\n        let min = this.min;\n        let max = this.max;\n        const setMin = (v)=>min = minDefined ? min : v;\n        const setMax = (v)=>max = maxDefined ? max : v;\n        if (min === max) {\n            if (min <= 0) {\n                setMin(1);\n                setMax(10);\n            } else {\n                setMin(changeExponent(min, -1));\n                setMax(changeExponent(max, +1));\n            }\n        }\n        if (min <= 0) {\n            setMin(changeExponent(max, -1));\n        }\n        if (max <= 0) {\n            setMax(changeExponent(min, +1));\n        }\n        this.min = min;\n        this.max = max;\n    }\n    buildTicks() {\n        const opts = this.options;\n        const generationOptions = {\n            min: this._userMin,\n            max: this._userMax\n        };\n        const ticks = generateTicks(generationOptions, this);\n        if (opts.bounds === 'ticks') {\n            _setMinAndMaxByKey(ticks, this, 'value');\n        }\n        if (opts.reverse) {\n            ticks.reverse();\n            this.start = this.max;\n            this.end = this.min;\n        } else {\n            this.start = this.min;\n            this.end = this.max;\n        }\n        return ticks;\n    }\n getLabelForValue(value) {\n        return value === undefined ? '0' : formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n    }\n configure() {\n        const start = this.min;\n        super.configure();\n        this._startValue = log10(start);\n        this._valueRange = log10(this.max) - log10(start);\n    }\n    getPixelForValue(value) {\n        if (value === undefined || value === 0) {\n            value = this.min;\n        }\n        if (value === null || isNaN(value)) {\n            return NaN;\n        }\n        return this.getPixelForDecimal(value === this.min ? 0 : (log10(value) - this._startValue) / this._valueRange);\n    }\n    getValueForPixel(pixel) {\n        const decimal = this.getDecimalForPixel(pixel);\n        return Math.pow(10, this._startValue + decimal * this._valueRange);\n    }\n}\n\nfunction getTickBackdropHeight(opts) {\n    const tickOpts = opts.ticks;\n    if (tickOpts.display && opts.display) {\n        const padding = toPadding(tickOpts.backdropPadding);\n        return valueOrDefault(tickOpts.font && tickOpts.font.size, defaults.font.size) + padding.height;\n    }\n    return 0;\n}\nfunction measureLabelSize(ctx, font, label) {\n    label = isArray(label) ? label : [\n        label\n    ];\n    return {\n        w: _longestText(ctx, font.string, label),\n        h: label.length * font.lineHeight\n    };\n}\nfunction determineLimits(angle, pos, size, min, max) {\n    if (angle === min || angle === max) {\n        return {\n            start: pos - size / 2,\n            end: pos + size / 2\n        };\n    } else if (angle < min || angle > max) {\n        return {\n            start: pos - size,\n            end: pos\n        };\n    }\n    return {\n        start: pos,\n        end: pos + size\n    };\n}\n function fitWithPointLabels(scale) {\n    const orig = {\n        l: scale.left + scale._padding.left,\n        r: scale.right - scale._padding.right,\n        t: scale.top + scale._padding.top,\n        b: scale.bottom - scale._padding.bottom\n    };\n    const limits = Object.assign({}, orig);\n    const labelSizes = [];\n    const padding = [];\n    const valueCount = scale._pointLabels.length;\n    const pointLabelOpts = scale.options.pointLabels;\n    const additionalAngle = pointLabelOpts.centerPointLabels ? PI / valueCount : 0;\n    for(let i = 0; i < valueCount; i++){\n        const opts = pointLabelOpts.setContext(scale.getPointLabelContext(i));\n        padding[i] = opts.padding;\n        const pointPosition = scale.getPointPosition(i, scale.drawingArea + padding[i], additionalAngle);\n        const plFont = toFont(opts.font);\n        const textSize = measureLabelSize(scale.ctx, plFont, scale._pointLabels[i]);\n        labelSizes[i] = textSize;\n        const angleRadians = _normalizeAngle(scale.getIndexAngle(i) + additionalAngle);\n        const angle = Math.round(toDegrees(angleRadians));\n        const hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);\n        const vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);\n        updateLimits(limits, orig, angleRadians, hLimits, vLimits);\n    }\n    scale.setCenterPoint(orig.l - limits.l, limits.r - orig.r, orig.t - limits.t, limits.b - orig.b);\n    scale._pointLabelItems = buildPointLabelItems(scale, labelSizes, padding);\n}\nfunction updateLimits(limits, orig, angle, hLimits, vLimits) {\n    const sin = Math.abs(Math.sin(angle));\n    const cos = Math.abs(Math.cos(angle));\n    let x = 0;\n    let y = 0;\n    if (hLimits.start < orig.l) {\n        x = (orig.l - hLimits.start) / sin;\n        limits.l = Math.min(limits.l, orig.l - x);\n    } else if (hLimits.end > orig.r) {\n        x = (hLimits.end - orig.r) / sin;\n        limits.r = Math.max(limits.r, orig.r + x);\n    }\n    if (vLimits.start < orig.t) {\n        y = (orig.t - vLimits.start) / cos;\n        limits.t = Math.min(limits.t, orig.t - y);\n    } else if (vLimits.end > orig.b) {\n        y = (vLimits.end - orig.b) / cos;\n        limits.b = Math.max(limits.b, orig.b + y);\n    }\n}\nfunction createPointLabelItem(scale, index, itemOpts) {\n    const outerDistance = scale.drawingArea;\n    const { extra , additionalAngle , padding , size  } = itemOpts;\n    const pointLabelPosition = scale.getPointPosition(index, outerDistance + extra + padding, additionalAngle);\n    const angle = Math.round(toDegrees(_normalizeAngle(pointLabelPosition.angle + HALF_PI)));\n    const y = yForAngle(pointLabelPosition.y, size.h, angle);\n    const textAlign = getTextAlignForAngle(angle);\n    const left = leftForTextAlign(pointLabelPosition.x, size.w, textAlign);\n    return {\n        visible: true,\n        x: pointLabelPosition.x,\n        y,\n        textAlign,\n        left,\n        top: y,\n        right: left + size.w,\n        bottom: y + size.h\n    };\n}\nfunction isNotOverlapped(item, area) {\n    if (!area) {\n        return true;\n    }\n    const { left , top , right , bottom  } = item;\n    const apexesInArea = _isPointInArea({\n        x: left,\n        y: top\n    }, area) || _isPointInArea({\n        x: left,\n        y: bottom\n    }, area) || _isPointInArea({\n        x: right,\n        y: top\n    }, area) || _isPointInArea({\n        x: right,\n        y: bottom\n    }, area);\n    return !apexesInArea;\n}\nfunction buildPointLabelItems(scale, labelSizes, padding) {\n    const items = [];\n    const valueCount = scale._pointLabels.length;\n    const opts = scale.options;\n    const { centerPointLabels , display  } = opts.pointLabels;\n    const itemOpts = {\n        extra: getTickBackdropHeight(opts) / 2,\n        additionalAngle: centerPointLabels ? PI / valueCount : 0\n    };\n    let area;\n    for(let i = 0; i < valueCount; i++){\n        itemOpts.padding = padding[i];\n        itemOpts.size = labelSizes[i];\n        const item = createPointLabelItem(scale, i, itemOpts);\n        items.push(item);\n        if (display === 'auto') {\n            item.visible = isNotOverlapped(item, area);\n            if (item.visible) {\n                area = item;\n            }\n        }\n    }\n    return items;\n}\nfunction getTextAlignForAngle(angle) {\n    if (angle === 0 || angle === 180) {\n        return 'center';\n    } else if (angle < 180) {\n        return 'left';\n    }\n    return 'right';\n}\nfunction leftForTextAlign(x, w, align) {\n    if (align === 'right') {\n        x -= w;\n    } else if (align === 'center') {\n        x -= w / 2;\n    }\n    return x;\n}\nfunction yForAngle(y, h, angle) {\n    if (angle === 90 || angle === 270) {\n        y -= h / 2;\n    } else if (angle > 270 || angle < 90) {\n        y -= h;\n    }\n    return y;\n}\nfunction drawPointLabelBox(ctx, opts, item) {\n    const { left , top , right , bottom  } = item;\n    const { backdropColor  } = opts;\n    if (!isNullOrUndef(backdropColor)) {\n        const borderRadius = toTRBLCorners(opts.borderRadius);\n        const padding = toPadding(opts.backdropPadding);\n        ctx.fillStyle = backdropColor;\n        const backdropLeft = left - padding.left;\n        const backdropTop = top - padding.top;\n        const backdropWidth = right - left + padding.width;\n        const backdropHeight = bottom - top + padding.height;\n        if (Object.values(borderRadius).some((v)=>v !== 0)) {\n            ctx.beginPath();\n            addRoundedRectPath(ctx, {\n                x: backdropLeft,\n                y: backdropTop,\n                w: backdropWidth,\n                h: backdropHeight,\n                radius: borderRadius\n            });\n            ctx.fill();\n        } else {\n            ctx.fillRect(backdropLeft, backdropTop, backdropWidth, backdropHeight);\n        }\n    }\n}\nfunction drawPointLabels(scale, labelCount) {\n    const { ctx , options: { pointLabels  }  } = scale;\n    for(let i = labelCount - 1; i >= 0; i--){\n        const item = scale._pointLabelItems[i];\n        if (!item.visible) {\n            continue;\n        }\n        const optsAtIndex = pointLabels.setContext(scale.getPointLabelContext(i));\n        drawPointLabelBox(ctx, optsAtIndex, item);\n        const plFont = toFont(optsAtIndex.font);\n        const { x , y , textAlign  } = item;\n        renderText(ctx, scale._pointLabels[i], x, y + plFont.lineHeight / 2, plFont, {\n            color: optsAtIndex.color,\n            textAlign: textAlign,\n            textBaseline: 'middle'\n        });\n    }\n}\nfunction pathRadiusLine(scale, radius, circular, labelCount) {\n    const { ctx  } = scale;\n    if (circular) {\n        ctx.arc(scale.xCenter, scale.yCenter, radius, 0, TAU);\n    } else {\n        let pointPosition = scale.getPointPosition(0, radius);\n        ctx.moveTo(pointPosition.x, pointPosition.y);\n        for(let i = 1; i < labelCount; i++){\n            pointPosition = scale.getPointPosition(i, radius);\n            ctx.lineTo(pointPosition.x, pointPosition.y);\n        }\n    }\n}\nfunction drawRadiusLine(scale, gridLineOpts, radius, labelCount, borderOpts) {\n    const ctx = scale.ctx;\n    const circular = gridLineOpts.circular;\n    const { color , lineWidth  } = gridLineOpts;\n    if (!circular && !labelCount || !color || !lineWidth || radius < 0) {\n        return;\n    }\n    ctx.save();\n    ctx.strokeStyle = color;\n    ctx.lineWidth = lineWidth;\n    ctx.setLineDash(borderOpts.dash);\n    ctx.lineDashOffset = borderOpts.dashOffset;\n    ctx.beginPath();\n    pathRadiusLine(scale, radius, circular, labelCount);\n    ctx.closePath();\n    ctx.stroke();\n    ctx.restore();\n}\nfunction createPointLabelContext(parent, index, label) {\n    return createContext(parent, {\n        label,\n        index,\n        type: 'pointLabel'\n    });\n}\nclass RadialLinearScale extends LinearScaleBase {\n    static id = 'radialLinear';\n static defaults = {\n        display: true,\n        animate: true,\n        position: 'chartArea',\n        angleLines: {\n            display: true,\n            lineWidth: 1,\n            borderDash: [],\n            borderDashOffset: 0.0\n        },\n        grid: {\n            circular: false\n        },\n        startAngle: 0,\n        ticks: {\n            showLabelBackdrop: true,\n            callback: Ticks.formatters.numeric\n        },\n        pointLabels: {\n            backdropColor: undefined,\n            backdropPadding: 2,\n            display: true,\n            font: {\n                size: 10\n            },\n            callback (label) {\n                return label;\n            },\n            padding: 5,\n            centerPointLabels: false\n        }\n    };\n    static defaultRoutes = {\n        'angleLines.color': 'borderColor',\n        'pointLabels.color': 'color',\n        'ticks.color': 'color'\n    };\n    static descriptors = {\n        angleLines: {\n            _fallback: 'grid'\n        }\n    };\n    constructor(cfg){\n        super(cfg);\n         this.xCenter = undefined;\n         this.yCenter = undefined;\n         this.drawingArea = undefined;\n         this._pointLabels = [];\n        this._pointLabelItems = [];\n    }\n    setDimensions() {\n        const padding = this._padding = toPadding(getTickBackdropHeight(this.options) / 2);\n        const w = this.width = this.maxWidth - padding.width;\n        const h = this.height = this.maxHeight - padding.height;\n        this.xCenter = Math.floor(this.left + w / 2 + padding.left);\n        this.yCenter = Math.floor(this.top + h / 2 + padding.top);\n        this.drawingArea = Math.floor(Math.min(w, h) / 2);\n    }\n    determineDataLimits() {\n        const { min , max  } = this.getMinMax(false);\n        this.min = isNumberFinite(min) && !isNaN(min) ? min : 0;\n        this.max = isNumberFinite(max) && !isNaN(max) ? max : 0;\n        this.handleTickRangeOptions();\n    }\n computeTickLimit() {\n        return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));\n    }\n    generateTickLabels(ticks) {\n        LinearScaleBase.prototype.generateTickLabels.call(this, ticks);\n        this._pointLabels = this.getLabels().map((value, index)=>{\n            const label = callback(this.options.pointLabels.callback, [\n                value,\n                index\n            ], this);\n            return label || label === 0 ? label : '';\n        }).filter((v, i)=>this.chart.getDataVisibility(i));\n    }\n    fit() {\n        const opts = this.options;\n        if (opts.display && opts.pointLabels.display) {\n            fitWithPointLabels(this);\n        } else {\n            this.setCenterPoint(0, 0, 0, 0);\n        }\n    }\n    setCenterPoint(leftMovement, rightMovement, topMovement, bottomMovement) {\n        this.xCenter += Math.floor((leftMovement - rightMovement) / 2);\n        this.yCenter += Math.floor((topMovement - bottomMovement) / 2);\n        this.drawingArea -= Math.min(this.drawingArea / 2, Math.max(leftMovement, rightMovement, topMovement, bottomMovement));\n    }\n    getIndexAngle(index) {\n        const angleMultiplier = TAU / (this._pointLabels.length || 1);\n        const startAngle = this.options.startAngle || 0;\n        return _normalizeAngle(index * angleMultiplier + toRadians(startAngle));\n    }\n    getDistanceFromCenterForValue(value) {\n        if (isNullOrUndef(value)) {\n            return NaN;\n        }\n        const scalingFactor = this.drawingArea / (this.max - this.min);\n        if (this.options.reverse) {\n            return (this.max - value) * scalingFactor;\n        }\n        return (value - this.min) * scalingFactor;\n    }\n    getValueForDistanceFromCenter(distance) {\n        if (isNullOrUndef(distance)) {\n            return NaN;\n        }\n        const scaledDistance = distance / (this.drawingArea / (this.max - this.min));\n        return this.options.reverse ? this.max - scaledDistance : this.min + scaledDistance;\n    }\n    getPointLabelContext(index) {\n        const pointLabels = this._pointLabels || [];\n        if (index >= 0 && index < pointLabels.length) {\n            const pointLabel = pointLabels[index];\n            return createPointLabelContext(this.getContext(), index, pointLabel);\n        }\n    }\n    getPointPosition(index, distanceFromCenter, additionalAngle = 0) {\n        const angle = this.getIndexAngle(index) - HALF_PI + additionalAngle;\n        return {\n            x: Math.cos(angle) * distanceFromCenter + this.xCenter,\n            y: Math.sin(angle) * distanceFromCenter + this.yCenter,\n            angle\n        };\n    }\n    getPointPositionForValue(index, value) {\n        return this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\n    }\n    getBasePosition(index) {\n        return this.getPointPositionForValue(index || 0, this.getBaseValue());\n    }\n    getPointLabelPosition(index) {\n        const { left , top , right , bottom  } = this._pointLabelItems[index];\n        return {\n            left,\n            top,\n            right,\n            bottom\n        };\n    }\n drawBackground() {\n        const { backgroundColor , grid: { circular  }  } = this.options;\n        if (backgroundColor) {\n            const ctx = this.ctx;\n            ctx.save();\n            ctx.beginPath();\n            pathRadiusLine(this, this.getDistanceFromCenterForValue(this._endValue), circular, this._pointLabels.length);\n            ctx.closePath();\n            ctx.fillStyle = backgroundColor;\n            ctx.fill();\n            ctx.restore();\n        }\n    }\n drawGrid() {\n        const ctx = this.ctx;\n        const opts = this.options;\n        const { angleLines , grid , border  } = opts;\n        const labelCount = this._pointLabels.length;\n        let i, offset, position;\n        if (opts.pointLabels.display) {\n            drawPointLabels(this, labelCount);\n        }\n        if (grid.display) {\n            this.ticks.forEach((tick, index)=>{\n                if (index !== 0 || index === 0 && this.min < 0) {\n                    offset = this.getDistanceFromCenterForValue(tick.value);\n                    const context = this.getContext(index);\n                    const optsAtIndex = grid.setContext(context);\n                    const optsAtIndexBorder = border.setContext(context);\n                    drawRadiusLine(this, optsAtIndex, offset, labelCount, optsAtIndexBorder);\n                }\n            });\n        }\n        if (angleLines.display) {\n            ctx.save();\n            for(i = labelCount - 1; i >= 0; i--){\n                const optsAtIndex = angleLines.setContext(this.getPointLabelContext(i));\n                const { color , lineWidth  } = optsAtIndex;\n                if (!lineWidth || !color) {\n                    continue;\n                }\n                ctx.lineWidth = lineWidth;\n                ctx.strokeStyle = color;\n                ctx.setLineDash(optsAtIndex.borderDash);\n                ctx.lineDashOffset = optsAtIndex.borderDashOffset;\n                offset = this.getDistanceFromCenterForValue(opts.ticks.reverse ? this.min : this.max);\n                position = this.getPointPosition(i, offset);\n                ctx.beginPath();\n                ctx.moveTo(this.xCenter, this.yCenter);\n                ctx.lineTo(position.x, position.y);\n                ctx.stroke();\n            }\n            ctx.restore();\n        }\n    }\n drawBorder() {}\n drawLabels() {\n        const ctx = this.ctx;\n        const opts = this.options;\n        const tickOpts = opts.ticks;\n        if (!tickOpts.display) {\n            return;\n        }\n        const startAngle = this.getIndexAngle(0);\n        let offset, width;\n        ctx.save();\n        ctx.translate(this.xCenter, this.yCenter);\n        ctx.rotate(startAngle);\n        ctx.textAlign = 'center';\n        ctx.textBaseline = 'middle';\n        this.ticks.forEach((tick, index)=>{\n            if (index === 0 && this.min >= 0 && !opts.reverse) {\n                return;\n            }\n            const optsAtIndex = tickOpts.setContext(this.getContext(index));\n            const tickFont = toFont(optsAtIndex.font);\n            offset = this.getDistanceFromCenterForValue(this.ticks[index].value);\n            if (optsAtIndex.showLabelBackdrop) {\n                ctx.font = tickFont.string;\n                width = ctx.measureText(tick.label).width;\n                ctx.fillStyle = optsAtIndex.backdropColor;\n                const padding = toPadding(optsAtIndex.backdropPadding);\n                ctx.fillRect(-width / 2 - padding.left, -offset - tickFont.size / 2 - padding.top, width + padding.width, tickFont.size + padding.height);\n            }\n            renderText(ctx, tick.label, 0, -offset, tickFont, {\n                color: optsAtIndex.color,\n                strokeColor: optsAtIndex.textStrokeColor,\n                strokeWidth: optsAtIndex.textStrokeWidth\n            });\n        });\n        ctx.restore();\n    }\n drawTitle() {}\n}\n\nconst INTERVALS = {\n    millisecond: {\n        common: true,\n        size: 1,\n        steps: 1000\n    },\n    second: {\n        common: true,\n        size: 1000,\n        steps: 60\n    },\n    minute: {\n        common: true,\n        size: 60000,\n        steps: 60\n    },\n    hour: {\n        common: true,\n        size: 3600000,\n        steps: 24\n    },\n    day: {\n        common: true,\n        size: 86400000,\n        steps: 30\n    },\n    week: {\n        common: false,\n        size: 604800000,\n        steps: 4\n    },\n    month: {\n        common: true,\n        size: 2.628e9,\n        steps: 12\n    },\n    quarter: {\n        common: false,\n        size: 7.884e9,\n        steps: 4\n    },\n    year: {\n        common: true,\n        size: 3.154e10\n    }\n};\n const UNITS =  /* #__PURE__ */ Object.keys(INTERVALS);\n function sorter(a, b) {\n    return a - b;\n}\n function parse(scale, input) {\n    if (isNullOrUndef(input)) {\n        return null;\n    }\n    const adapter = scale._adapter;\n    const { parser , round , isoWeekday  } = scale._parseOpts;\n    let value = input;\n    if (typeof parser === 'function') {\n        value = parser(value);\n    }\n    if (!isNumberFinite(value)) {\n        value = typeof parser === 'string' ? adapter.parse(value,  parser) : adapter.parse(value);\n    }\n    if (value === null) {\n        return null;\n    }\n    if (round) {\n        value = round === 'week' && (isNumber(isoWeekday) || isoWeekday === true) ? adapter.startOf(value, 'isoWeek', isoWeekday) : adapter.startOf(value, round);\n    }\n    return +value;\n}\n function determineUnitForAutoTicks(minUnit, min, max, capacity) {\n    const ilen = UNITS.length;\n    for(let i = UNITS.indexOf(minUnit); i < ilen - 1; ++i){\n        const interval = INTERVALS[UNITS[i]];\n        const factor = interval.steps ? interval.steps : Number.MAX_SAFE_INTEGER;\n        if (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\n            return UNITS[i];\n        }\n    }\n    return UNITS[ilen - 1];\n}\n function determineUnitForFormatting(scale, numTicks, minUnit, min, max) {\n    for(let i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--){\n        const unit = UNITS[i];\n        if (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {\n            return unit;\n        }\n    }\n    return UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];\n}\n function determineMajorUnit(unit) {\n    for(let i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i){\n        if (INTERVALS[UNITS[i]].common) {\n            return UNITS[i];\n        }\n    }\n}\n function addTick(ticks, time, timestamps) {\n    if (!timestamps) {\n        ticks[time] = true;\n    } else if (timestamps.length) {\n        const { lo , hi  } = _lookup(timestamps, time);\n        const timestamp = timestamps[lo] >= time ? timestamps[lo] : timestamps[hi];\n        ticks[timestamp] = true;\n    }\n}\n function setMajorTicks(scale, ticks, map, majorUnit) {\n    const adapter = scale._adapter;\n    const first = +adapter.startOf(ticks[0].value, majorUnit);\n    const last = ticks[ticks.length - 1].value;\n    let major, index;\n    for(major = first; major <= last; major = +adapter.add(major, 1, majorUnit)){\n        index = map[major];\n        if (index >= 0) {\n            ticks[index].major = true;\n        }\n    }\n    return ticks;\n}\n function ticksFromTimestamps(scale, values, majorUnit) {\n    const ticks = [];\n     const map = {};\n    const ilen = values.length;\n    let i, value;\n    for(i = 0; i < ilen; ++i){\n        value = values[i];\n        map[value] = i;\n        ticks.push({\n            value,\n            major: false\n        });\n    }\n    return ilen === 0 || !majorUnit ? ticks : setMajorTicks(scale, ticks, map, majorUnit);\n}\nclass TimeScale extends Scale {\n    static id = 'time';\n static defaults = {\n bounds: 'data',\n        adapters: {},\n        time: {\n            parser: false,\n            unit: false,\n            round: false,\n            isoWeekday: false,\n            minUnit: 'millisecond',\n            displayFormats: {}\n        },\n        ticks: {\n source: 'auto',\n            callback: false,\n            major: {\n                enabled: false\n            }\n        }\n    };\n constructor(props){\n        super(props);\n         this._cache = {\n            data: [],\n            labels: [],\n            all: []\n        };\n         this._unit = 'day';\n         this._majorUnit = undefined;\n        this._offsets = {};\n        this._normalized = false;\n        this._parseOpts = undefined;\n    }\n    init(scaleOpts, opts = {}) {\n        const time = scaleOpts.time || (scaleOpts.time = {});\n         const adapter = this._adapter = new adapters._date(scaleOpts.adapters.date);\n        adapter.init(opts);\n        mergeIf(time.displayFormats, adapter.formats());\n        this._parseOpts = {\n            parser: time.parser,\n            round: time.round,\n            isoWeekday: time.isoWeekday\n        };\n        super.init(scaleOpts);\n        this._normalized = opts.normalized;\n    }\n parse(raw, index) {\n        if (raw === undefined) {\n            return null;\n        }\n        return parse(this, raw);\n    }\n    beforeLayout() {\n        super.beforeLayout();\n        this._cache = {\n            data: [],\n            labels: [],\n            all: []\n        };\n    }\n    determineDataLimits() {\n        const options = this.options;\n        const adapter = this._adapter;\n        const unit = options.time.unit || 'day';\n        let { min , max , minDefined , maxDefined  } = this.getUserBounds();\n function _applyBounds(bounds) {\n            if (!minDefined && !isNaN(bounds.min)) {\n                min = Math.min(min, bounds.min);\n            }\n            if (!maxDefined && !isNaN(bounds.max)) {\n                max = Math.max(max, bounds.max);\n            }\n        }\n        if (!minDefined || !maxDefined) {\n            _applyBounds(this._getLabelBounds());\n            if (options.bounds !== 'ticks' || options.ticks.source !== 'labels') {\n                _applyBounds(this.getMinMax(false));\n            }\n        }\n        min = isNumberFinite(min) && !isNaN(min) ? min : +adapter.startOf(Date.now(), unit);\n        max = isNumberFinite(max) && !isNaN(max) ? max : +adapter.endOf(Date.now(), unit) + 1;\n        this.min = Math.min(min, max - 1);\n        this.max = Math.max(min + 1, max);\n    }\n _getLabelBounds() {\n        const arr = this.getLabelTimestamps();\n        let min = Number.POSITIVE_INFINITY;\n        let max = Number.NEGATIVE_INFINITY;\n        if (arr.length) {\n            min = arr[0];\n            max = arr[arr.length - 1];\n        }\n        return {\n            min,\n            max\n        };\n    }\n buildTicks() {\n        const options = this.options;\n        const timeOpts = options.time;\n        const tickOpts = options.ticks;\n        const timestamps = tickOpts.source === 'labels' ? this.getLabelTimestamps() : this._generate();\n        if (options.bounds === 'ticks' && timestamps.length) {\n            this.min = this._userMin || timestamps[0];\n            this.max = this._userMax || timestamps[timestamps.length - 1];\n        }\n        const min = this.min;\n        const max = this.max;\n        const ticks = _filterBetween(timestamps, min, max);\n        this._unit = timeOpts.unit || (tickOpts.autoSkip ? determineUnitForAutoTicks(timeOpts.minUnit, this.min, this.max, this._getLabelCapacity(min)) : determineUnitForFormatting(this, ticks.length, timeOpts.minUnit, this.min, this.max));\n        this._majorUnit = !tickOpts.major.enabled || this._unit === 'year' ? undefined : determineMajorUnit(this._unit);\n        this.initOffsets(timestamps);\n        if (options.reverse) {\n            ticks.reverse();\n        }\n        return ticksFromTimestamps(this, ticks, this._majorUnit);\n    }\n    afterAutoSkip() {\n        if (this.options.offsetAfterAutoskip) {\n            this.initOffsets(this.ticks.map((tick)=>+tick.value));\n        }\n    }\n initOffsets(timestamps = []) {\n        let start = 0;\n        let end = 0;\n        let first, last;\n        if (this.options.offset && timestamps.length) {\n            first = this.getDecimalForValue(timestamps[0]);\n            if (timestamps.length === 1) {\n                start = 1 - first;\n            } else {\n                start = (this.getDecimalForValue(timestamps[1]) - first) / 2;\n            }\n            last = this.getDecimalForValue(timestamps[timestamps.length - 1]);\n            if (timestamps.length === 1) {\n                end = last;\n            } else {\n                end = (last - this.getDecimalForValue(timestamps[timestamps.length - 2])) / 2;\n            }\n        }\n        const limit = timestamps.length < 3 ? 0.5 : 0.25;\n        start = _limitValue(start, 0, limit);\n        end = _limitValue(end, 0, limit);\n        this._offsets = {\n            start,\n            end,\n            factor: 1 / (start + 1 + end)\n        };\n    }\n _generate() {\n        const adapter = this._adapter;\n        const min = this.min;\n        const max = this.max;\n        const options = this.options;\n        const timeOpts = options.time;\n        const minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, this._getLabelCapacity(min));\n        const stepSize = valueOrDefault(options.ticks.stepSize, 1);\n        const weekday = minor === 'week' ? timeOpts.isoWeekday : false;\n        const hasWeekday = isNumber(weekday) || weekday === true;\n        const ticks = {};\n        let first = min;\n        let time, count;\n        if (hasWeekday) {\n            first = +adapter.startOf(first, 'isoWeek', weekday);\n        }\n        first = +adapter.startOf(first, hasWeekday ? 'day' : minor);\n        if (adapter.diff(max, min, minor) > 100000 * stepSize) {\n            throw new Error(min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor);\n        }\n        const timestamps = options.ticks.source === 'data' && this.getDataTimestamps();\n        for(time = first, count = 0; time < max; time = +adapter.add(time, stepSize, minor), count++){\n            addTick(ticks, time, timestamps);\n        }\n        if (time === max || options.bounds === 'ticks' || count === 1) {\n            addTick(ticks, time, timestamps);\n        }\n        return Object.keys(ticks).sort(sorter).map((x)=>+x);\n    }\n getLabelForValue(value) {\n        const adapter = this._adapter;\n        const timeOpts = this.options.time;\n        if (timeOpts.tooltipFormat) {\n            return adapter.format(value, timeOpts.tooltipFormat);\n        }\n        return adapter.format(value, timeOpts.displayFormats.datetime);\n    }\n format(value, format) {\n        const options = this.options;\n        const formats = options.time.displayFormats;\n        const unit = this._unit;\n        const fmt = format || formats[unit];\n        return this._adapter.format(value, fmt);\n    }\n _tickFormatFunction(time, index, ticks, format) {\n        const options = this.options;\n        const formatter = options.ticks.callback;\n        if (formatter) {\n            return callback(formatter, [\n                time,\n                index,\n                ticks\n            ], this);\n        }\n        const formats = options.time.displayFormats;\n        const unit = this._unit;\n        const majorUnit = this._majorUnit;\n        const minorFormat = unit && formats[unit];\n        const majorFormat = majorUnit && formats[majorUnit];\n        const tick = ticks[index];\n        const major = majorUnit && majorFormat && tick && tick.major;\n        return this._adapter.format(time, format || (major ? majorFormat : minorFormat));\n    }\n generateTickLabels(ticks) {\n        let i, ilen, tick;\n        for(i = 0, ilen = ticks.length; i < ilen; ++i){\n            tick = ticks[i];\n            tick.label = this._tickFormatFunction(tick.value, i, ticks);\n        }\n    }\n getDecimalForValue(value) {\n        return value === null ? NaN : (value - this.min) / (this.max - this.min);\n    }\n getPixelForValue(value) {\n        const offsets = this._offsets;\n        const pos = this.getDecimalForValue(value);\n        return this.getPixelForDecimal((offsets.start + pos) * offsets.factor);\n    }\n getValueForPixel(pixel) {\n        const offsets = this._offsets;\n        const pos = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n        return this.min + pos * (this.max - this.min);\n    }\n _getLabelSize(label) {\n        const ticksOpts = this.options.ticks;\n        const tickLabelWidth = this.ctx.measureText(label).width;\n        const angle = toRadians(this.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);\n        const cosRotation = Math.cos(angle);\n        const sinRotation = Math.sin(angle);\n        const tickFontSize = this._resolveTickFontOptions(0).size;\n        return {\n            w: tickLabelWidth * cosRotation + tickFontSize * sinRotation,\n            h: tickLabelWidth * sinRotation + tickFontSize * cosRotation\n        };\n    }\n _getLabelCapacity(exampleTime) {\n        const timeOpts = this.options.time;\n        const displayFormats = timeOpts.displayFormats;\n        const format = displayFormats[timeOpts.unit] || displayFormats.millisecond;\n        const exampleLabel = this._tickFormatFunction(exampleTime, 0, ticksFromTimestamps(this, [\n            exampleTime\n        ], this._majorUnit), format);\n        const size = this._getLabelSize(exampleLabel);\n        const capacity = Math.floor(this.isHorizontal() ? this.width / size.w : this.height / size.h) - 1;\n        return capacity > 0 ? capacity : 1;\n    }\n getDataTimestamps() {\n        let timestamps = this._cache.data || [];\n        let i, ilen;\n        if (timestamps.length) {\n            return timestamps;\n        }\n        const metas = this.getMatchingVisibleMetas();\n        if (this._normalized && metas.length) {\n            return this._cache.data = metas[0].controller.getAllParsedValues(this);\n        }\n        for(i = 0, ilen = metas.length; i < ilen; ++i){\n            timestamps = timestamps.concat(metas[i].controller.getAllParsedValues(this));\n        }\n        return this._cache.data = this.normalize(timestamps);\n    }\n getLabelTimestamps() {\n        const timestamps = this._cache.labels || [];\n        let i, ilen;\n        if (timestamps.length) {\n            return timestamps;\n        }\n        const labels = this.getLabels();\n        for(i = 0, ilen = labels.length; i < ilen; ++i){\n            timestamps.push(parse(this, labels[i]));\n        }\n        return this._cache.labels = this._normalized ? timestamps : this.normalize(timestamps);\n    }\n normalize(values) {\n        return _arrayUnique(values.sort(sorter));\n    }\n}\n\nfunction interpolate(table, val, reverse) {\n    let lo = 0;\n    let hi = table.length - 1;\n    let prevSource, nextSource, prevTarget, nextTarget;\n    if (reverse) {\n        if (val >= table[lo].pos && val <= table[hi].pos) {\n            ({ lo , hi  } = _lookupByKey(table, 'pos', val));\n        }\n        ({ pos: prevSource , time: prevTarget  } = table[lo]);\n        ({ pos: nextSource , time: nextTarget  } = table[hi]);\n    } else {\n        if (val >= table[lo].time && val <= table[hi].time) {\n            ({ lo , hi  } = _lookupByKey(table, 'time', val));\n        }\n        ({ time: prevSource , pos: prevTarget  } = table[lo]);\n        ({ time: nextSource , pos: nextTarget  } = table[hi]);\n    }\n    const span = nextSource - prevSource;\n    return span ? prevTarget + (nextTarget - prevTarget) * (val - prevSource) / span : prevTarget;\n}\nclass TimeSeriesScale extends TimeScale {\n    static id = 'timeseries';\n static defaults = TimeScale.defaults;\n constructor(props){\n        super(props);\n         this._table = [];\n         this._minPos = undefined;\n         this._tableRange = undefined;\n    }\n initOffsets() {\n        const timestamps = this._getTimestampsForTable();\n        const table = this._table = this.buildLookupTable(timestamps);\n        this._minPos = interpolate(table, this.min);\n        this._tableRange = interpolate(table, this.max) - this._minPos;\n        super.initOffsets(timestamps);\n    }\n buildLookupTable(timestamps) {\n        const { min , max  } = this;\n        const items = [];\n        const table = [];\n        let i, ilen, prev, curr, next;\n        for(i = 0, ilen = timestamps.length; i < ilen; ++i){\n            curr = timestamps[i];\n            if (curr >= min && curr <= max) {\n                items.push(curr);\n            }\n        }\n        if (items.length < 2) {\n            return [\n                {\n                    time: min,\n                    pos: 0\n                },\n                {\n                    time: max,\n                    pos: 1\n                }\n            ];\n        }\n        for(i = 0, ilen = items.length; i < ilen; ++i){\n            next = items[i + 1];\n            prev = items[i - 1];\n            curr = items[i];\n            if (Math.round((next + prev) / 2) !== curr) {\n                table.push({\n                    time: curr,\n                    pos: i / (ilen - 1)\n                });\n            }\n        }\n        return table;\n    }\n _generate() {\n        const min = this.min;\n        const max = this.max;\n        let timestamps = super.getDataTimestamps();\n        if (!timestamps.includes(min) || !timestamps.length) {\n            timestamps.splice(0, 0, min);\n        }\n        if (!timestamps.includes(max) || timestamps.length === 1) {\n            timestamps.push(max);\n        }\n        return timestamps.sort((a, b)=>a - b);\n    }\n _getTimestampsForTable() {\n        let timestamps = this._cache.all || [];\n        if (timestamps.length) {\n            return timestamps;\n        }\n        const data = this.getDataTimestamps();\n        const label = this.getLabelTimestamps();\n        if (data.length && label.length) {\n            timestamps = this.normalize(data.concat(label));\n        } else {\n            timestamps = data.length ? data : label;\n        }\n        timestamps = this._cache.all = timestamps;\n        return timestamps;\n    }\n getDecimalForValue(value) {\n        return (interpolate(this._table, value) - this._minPos) / this._tableRange;\n    }\n getValueForPixel(pixel) {\n        const offsets = this._offsets;\n        const decimal = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n        return interpolate(this._table, decimal * this._tableRange + this._minPos, true);\n    }\n}\n\nvar scales = /*#__PURE__*/Object.freeze({\n__proto__: null,\nCategoryScale: CategoryScale,\nLinearScale: LinearScale,\nLogarithmicScale: LogarithmicScale,\nRadialLinearScale: RadialLinearScale,\nTimeScale: TimeScale,\nTimeSeriesScale: TimeSeriesScale\n});\n\nconst registerables = [\n    controllers,\n    elements,\n    plugins,\n    scales\n];\n\nexport { Animation, Animations, ArcElement, BarController, BarElement, BasePlatform, BasicPlatform, BubbleController, CategoryScale, Chart, plugin_colors as Colors, DatasetController, plugin_decimation as Decimation, DomPlatform, DoughnutController, Element, index as Filler, Interaction, plugin_legend as Legend, LineController, LineElement, LinearScale, LogarithmicScale, PieController, PointElement, PolarAreaController, RadarController, RadialLinearScale, Scale, ScatterController, plugin_subtitle as SubTitle, Ticks, TimeScale, TimeSeriesScale, plugin_title as Title, plugin_tooltip as Tooltip, adapters as _adapters, _detectPlatform, animator, controllers, defaults, elements, layouts, plugins, registerables, registry, scales };\n//# sourceMappingURL=chart.js.map\n","import { Chart as Chart$1, BarController, DoughnutController, LineController, PieController, PolarAreaController, RadarController, BubbleController, ScatterController } from 'chart.js';\nimport { version, isProxy, toRaw, defineComponent, ref, shallowRef, onMounted, onBeforeUnmount, watch, nextTick, h } from 'vue';\n\nconst CommonProps = {\n    data: {\n        type: Object,\n        required: true\n    },\n    options: {\n        type: Object,\n        default: ()=>({})\n    },\n    plugins: {\n        type: Array,\n        default: ()=>[]\n    },\n    datasetIdKey: {\n        type: String,\n        default: \"label\"\n    },\n    updateMode: {\n        type: String,\n        default: undefined\n    }\n};\nconst A11yProps = {\n    ariaLabel: {\n        type: String\n    },\n    ariaDescribedby: {\n        type: String\n    }\n};\nconst Props = {\n    type: {\n        type: String,\n        required: true\n    },\n    ...CommonProps,\n    ...A11yProps\n};\n\nconst compatProps = version[0] === \"2\" ? (internals, props)=>Object.assign(internals, {\n        attrs: props\n    }) : (internals, props)=>Object.assign(internals, props);\nfunction toRawIfProxy(obj) {\n    return isProxy(obj) ? toRaw(obj) : obj;\n}\nfunction cloneProxy(obj) {\n    let src = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : obj;\n    return isProxy(src) ? new Proxy(obj, {}) : obj;\n}\nfunction setOptions(chart, nextOptions) {\n    const options = chart.options;\n    if (options && nextOptions) {\n        Object.assign(options, nextOptions);\n    }\n}\nfunction setLabels(currentData, nextLabels) {\n    currentData.labels = nextLabels;\n}\nfunction setDatasets(currentData, nextDatasets, datasetIdKey) {\n    const addedDatasets = [];\n    currentData.datasets = nextDatasets.map((nextDataset)=>{\n        // given the new set, find it's current match\n        const currentDataset = currentData.datasets.find((dataset)=>dataset[datasetIdKey] === nextDataset[datasetIdKey]);\n        // There is no original to update, so simply add new one\n        if (!currentDataset || !nextDataset.data || addedDatasets.includes(currentDataset)) {\n            return {\n                ...nextDataset\n            };\n        }\n        addedDatasets.push(currentDataset);\n        Object.assign(currentDataset, nextDataset);\n        return currentDataset;\n    });\n}\nfunction cloneData(data, datasetIdKey) {\n    const nextData = {\n        labels: [],\n        datasets: []\n    };\n    setLabels(nextData, data.labels);\n    setDatasets(nextData, data.datasets, datasetIdKey);\n    return nextData;\n}\n/**\n * Get dataset from mouse click event\n * @param chart - Chart.js instance\n * @param event - Mouse click event\n * @returns Dataset\n */ function getDatasetAtEvent(chart, event) {\n    return chart.getElementsAtEventForMode(event, \"dataset\", {\n        intersect: true\n    }, false);\n}\n/**\n * Get single dataset element from mouse click event\n * @param chart - Chart.js instance\n * @param event - Mouse click event\n * @returns Dataset\n */ function getElementAtEvent(chart, event) {\n    return chart.getElementsAtEventForMode(event, \"nearest\", {\n        intersect: true\n    }, false);\n}\n/**\n * Get all dataset elements from mouse click event\n * @param chart - Chart.js instance\n * @param event - Mouse click event\n * @returns Dataset\n */ function getElementsAtEvent(chart, event) {\n    return chart.getElementsAtEventForMode(event, \"index\", {\n        intersect: true\n    }, false);\n}\n\nconst Chart = defineComponent({\n    props: Props,\n    setup (props, param) {\n        let { expose , slots  } = param;\n        const canvasRef = ref(null);\n        const chartRef = shallowRef(null);\n        expose({\n            chart: chartRef\n        });\n        const renderChart = ()=>{\n            if (!canvasRef.value) return;\n            const { type , data , options , plugins , datasetIdKey  } = props;\n            const clonedData = cloneData(data, datasetIdKey);\n            const proxiedData = cloneProxy(clonedData, data);\n            chartRef.value = new Chart$1(canvasRef.value, {\n                type,\n                data: proxiedData,\n                options: {\n                    ...options\n                },\n                plugins\n            });\n        };\n        const destroyChart = ()=>{\n            const chart = toRaw(chartRef.value);\n            if (chart) {\n                chart.destroy();\n                chartRef.value = null;\n            }\n        };\n        const update = (chart)=>{\n            chart.update(props.updateMode);\n        };\n        onMounted(renderChart);\n        onBeforeUnmount(destroyChart);\n        watch([\n            ()=>props.options,\n            ()=>props.data\n        ], (param, param1)=>{\n            let [nextOptionsProxy, nextDataProxy] = param, [prevOptionsProxy, prevDataProxy] = param1;\n            const chart = toRaw(chartRef.value);\n            if (!chart) {\n                return;\n            }\n            let shouldUpdate = false;\n            if (nextOptionsProxy) {\n                const nextOptions = toRawIfProxy(nextOptionsProxy);\n                const prevOptions = toRawIfProxy(prevOptionsProxy);\n                if (nextOptions && nextOptions !== prevOptions) {\n                    setOptions(chart, nextOptions);\n                    shouldUpdate = true;\n                }\n            }\n            if (nextDataProxy) {\n                const nextLabels = toRawIfProxy(nextDataProxy.labels);\n                const prevLabels = toRawIfProxy(prevDataProxy.labels);\n                const nextDatasets = toRawIfProxy(nextDataProxy.datasets);\n                const prevDatasets = toRawIfProxy(prevDataProxy.datasets);\n                if (nextLabels !== prevLabels) {\n                    setLabels(chart.config.data, nextLabels);\n                    shouldUpdate = true;\n                }\n                if (nextDatasets && nextDatasets !== prevDatasets) {\n                    setDatasets(chart.config.data, nextDatasets, props.datasetIdKey);\n                    shouldUpdate = true;\n                }\n            }\n            if (shouldUpdate) {\n                nextTick(()=>{\n                    update(chart);\n                });\n            }\n        }, {\n            deep: true\n        });\n        return ()=>{\n            return h(\"canvas\", {\n                role: \"img\",\n                ariaLabel: props.ariaLabel,\n                ariaDescribedby: props.ariaDescribedby,\n                ref: canvasRef\n            }, [\n                h(\"p\", {}, [\n                    slots.default ? slots.default() : \"\"\n                ])\n            ]);\n        };\n    }\n});\n\nfunction createTypedChart(type, registerables) {\n    Chart$1.register(registerables);\n    return defineComponent({\n        props: CommonProps,\n        setup (props, param) {\n            let { expose  } = param;\n            const ref = shallowRef(null);\n            const reforwardRef = (chartRef)=>{\n                ref.value = chartRef?.chart;\n            };\n            expose({\n                chart: ref\n            });\n            return ()=>{\n                return h(Chart, compatProps({\n                    ref: reforwardRef\n                }, {\n                    type,\n                    ...props\n                }));\n            };\n        }\n    });\n}\nconst Bar = /* #__PURE__ */ createTypedChart(\"bar\", BarController);\nconst Doughnut = /* #__PURE__ */ createTypedChart(\"doughnut\", DoughnutController);\nconst Line = /* #__PURE__ */ createTypedChart(\"line\", LineController);\nconst Pie = /* #__PURE__ */ createTypedChart(\"pie\", PieController);\nconst PolarArea = /* #__PURE__ */ createTypedChart(\"polarArea\", PolarAreaController);\nconst Radar = /* #__PURE__ */ createTypedChart(\"radar\", RadarController);\nconst Bubble = /* #__PURE__ */ createTypedChart(\"bubble\", BubbleController);\nconst Scatter = /* #__PURE__ */ createTypedChart(\"scatter\", ScatterController);\n\nexport { Bar, Bubble, Chart, Doughnut, Line, Pie, PolarArea, Radar, Scatter, createTypedChart, getDatasetAtEvent, getElementAtEvent, getElementsAtEvent };\n//# sourceMappingURL=index.js.map\n","import { render } from \"./D3Model.vue?vue&type=template&id=4d66922a\"\nimport script from \"./D3Model.vue?vue&type=script&lang=js\"\nexport * from \"./D3Model.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <Bar id=\"my-chart-id\" :options=\"chartOptions\" :data=\"chartData\" />\n</template>\n\n<script>\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport { Bar } from 'vue-chartjs';\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport {\n  Chart as ChartJS,\n  Title,\n  Tooltip,\n  Legend,\n  BarElement,\n  CategoryScale,\n  LinearScale,\n} from 'chart.js';\n\nChartJS.register(Title, Tooltip, Legend, BarElement, CategoryScale, LinearScale);\n\nexport default {\n  name: 'BarChart',\n  components: { Bar },\n  data() {\n    return {\n      chartData: {\n        labels: [\n          'Q1',\n          'Q2',\n          'Q3',\n          'Q4',\n        ],\n        datasets: [{ label: '', backgroundColor: '#888888', data: [142, 179, 179, 123] }],\n      },\n      chartOptions: {\n        responsive: true,\n      },\n    };\n  },\n};\n</script>\n","import { render } from \"./BarModel.vue?vue&type=template&id=3e8b4af1\"\nimport script from \"./BarModel.vue?vue&type=script&lang=js\"\nexport * from \"./BarModel.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <Line :data=\"chartData\" :options=\"chartOptions\" />\n</template>\n\n<script>\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n} from 'chart.js';\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport { Line } from 'vue-chartjs';\n\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend);\n\nexport default {\n  name: 'App',\n  components: {\n    Line,\n  },\n  data() {\n    return {\n      chartData: {\n        labels: ['Q1', 'Q2', 'Q3', 'Q4'],\n        datasets: [\n          {\n            label: '2021',\n            backgroundColor: '#f87979',\n            data: [40, 39, 10, 40],\n          },\n          {\n            label: '2022',\n            backgroundColor: '#e7e7ee7',\n            data: [60, 79, 90, 70],\n          },\n          {\n            label: '2023',\n            backgroundColor: '#478058',\n            data: [50, 100, 75, 65],\n          },\n        ],\n      },\n      chartOptions: {\n        responsive: true,\n      },\n    };\n  },\n};\n</script>\n","import { render } from \"./LineModel.vue?vue&type=template&id=2350a8d2\"\nimport script from \"./LineModel.vue?vue&type=script&lang=js\"\nexport * from \"./LineModel.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <h1></h1>\n  <FullCalendar :options=\"calendarOptions\" />\n</template>\n\n<script>\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport FullCalendar from '@fullcalendar/vue3';\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport dayGridPlugin from '@fullcalendar/daygrid';\n\nexport default {\n  components: {\n    FullCalendar, // make the <FullCalendar> tag available\n  },\n  data() {\n    return {\n      calendarOptions: {\n        plugins: [dayGridPlugin],\n        initialView: 'dayGridMonth',\n        weekends: false,\n        events: [{ title: 'Meeting', start: new Date() }],\n      },\n    };\n  },\n};\n</script>\n","var n,l,u,i,t,r,o,f,e,c={},s=[],a=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function h(n,l){for(var u in l)n[u]=l[u];return n}function v(n){var l=n.parentNode;l&&l.removeChild(n)}function y(l,u,i){var t,r,o,f={};for(o in u)\"key\"==o?t=u[o]:\"ref\"==o?r=u[o]:f[o]=u[o];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),\"function\"==typeof l&&null!=l.defaultProps)for(o in l.defaultProps)void 0===f[o]&&(f[o]=l.defaultProps[o]);return p(l,f,t,r,null)}function p(n,i,t,r,o){var f={type:n,props:i,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++u:o};return null==o&&null!=l.vnode&&l.vnode(f),f}function d(){return{current:null}}function _(n){return n.children}function k(n,l,u,i,t){var r;for(r in u)\"children\"===r||\"key\"===r||r in l||g(n,r,null,u[r],i);for(r in l)t&&\"function\"!=typeof l[r]||\"children\"===r||\"key\"===r||\"value\"===r||\"checked\"===r||u[r]===l[r]||g(n,r,l[r],u[r],i)}function b(n,l,u){\"-\"===l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||a.test(l)?u:u+\"px\"}function g(n,l,u,i,t){var r;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||b(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||b(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])r=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+r]=u,u?i||n.addEventListener(l,r?w:m,r):n.removeEventListener(l,r?w:m,r);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!==l&&\"height\"!==l&&\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&-1==l.indexOf(\"-\")?n.removeAttribute(l):n.setAttribute(l,u))}}function m(n){t=!0;try{return this.l[n.type+!1](l.event?l.event(n):n)}finally{t=!1}}function w(n){t=!0;try{return this.l[n.type+!0](l.event?l.event(n):n)}finally{t=!1}}function x(n,l){this.props=n,this.context=l}function A(n,l){if(null==l)return n.__?A(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?A(n):null}function P(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return P(n)}}function C(n){t?setTimeout(n):f(n)}function T(n){(!n.__d&&(n.__d=!0)&&r.push(n)&&!$.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||C)($)}function $(){var n,l,u,i,t,o,f,e;for(r.sort(function(n,l){return n.__v.__b-l.__v.__b});n=r.shift();)n.__d&&(l=r.length,i=void 0,t=void 0,f=(o=(u=n).__v).__e,(e=u.__P)&&(i=[],(t=h({},o)).__v=o.__v+1,M(e,o,t,u.__n,void 0!==e.ownerSVGElement,null!=o.__h?[f]:null,i,null==f?A(o):f,o.__h),N(i,o),o.__e!=f&&P(o)),r.length>l&&r.sort(function(n,l){return n.__v.__b-l.__v.__b}));$.__r=0}function H(n,l,u,i,t,r,o,f,e,a){var h,v,y,d,k,b,g,m=i&&i.__k||s,w=m.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(d=u.__k[h]=null==(d=l[h])||\"boolean\"==typeof d?null:\"string\"==typeof d||\"number\"==typeof d||\"bigint\"==typeof d?p(null,d,null,null,d):Array.isArray(d)?p(_,{children:d},null,null,null):d.__b>0?p(d.type,d.props,d.key,d.ref?d.ref:null,d.__v):d)){if(d.__=u,d.__b=u.__b+1,null===(y=m[h])||y&&d.key==y.key&&d.type===y.type)m[h]=void 0;else for(v=0;v<w;v++){if((y=m[v])&&d.key==y.key&&d.type===y.type){m[v]=void 0;break}y=null}M(n,d,y=y||c,t,r,o,f,e,a),k=d.__e,(v=d.ref)&&y.ref!=v&&(g||(g=[]),y.ref&&g.push(y.ref,null,d),g.push(v,d.__c||k,d)),null!=k?(null==b&&(b=k),\"function\"==typeof d.type&&d.__k===y.__k?d.__d=e=I(d,e,n):e=z(n,d,y,m,k,e),\"function\"==typeof u.type&&(u.__d=e)):e&&y.__e==e&&e.parentNode!=n&&(e=A(y))}for(u.__e=b,h=w;h--;)null!=m[h]&&(\"function\"==typeof u.type&&null!=m[h].__e&&m[h].__e==u.__d&&(u.__d=L(i).nextSibling),q(m[h],m[h]));if(g)for(h=0;h<g.length;h++)S(g[h],g[++h],g[++h])}function I(n,l,u){for(var i,t=n.__k,r=0;t&&r<t.length;r++)(i=t[r])&&(i.__=n,l=\"function\"==typeof i.type?I(i,l,u):z(u,i,i,t,i.__e,l));return l}function j(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){j(n,l)}):l.push(n)),l}function z(n,l,u,i,t,r){var o,f,e;if(void 0!==l.__d)o=l.__d,l.__d=void 0;else if(null==u||t!=r||null==t.parentNode)n:if(null==r||r.parentNode!==n)n.appendChild(t),o=null;else{for(f=r,e=0;(f=f.nextSibling)&&e<i.length;e+=1)if(f==t)break n;n.insertBefore(t,r),o=r}return void 0!==o?o:t.nextSibling}function L(n){var l,u,i;if(null==n.type||\"string\"==typeof n.type)return n.__e;if(n.__k)for(l=n.__k.length-1;l>=0;l--)if((u=n.__k[l])&&(i=L(u)))return i;return null}function M(n,u,i,t,r,o,f,e,c){var s,a,v,y,p,d,k,b,g,m,w,A,P,C,T,$=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,o=[e]),(s=l.__b)&&s(u);try{n:if(\"function\"==typeof $){if(b=u.props,g=(s=$.contextType)&&t[s.__c],m=s?g?g.props.value:s.__:t,i.__c?k=(a=u.__c=i.__c).__=a.__E:(\"prototype\"in $&&$.prototype.render?u.__c=a=new $(b,m):(u.__c=a=new x(b,m),a.constructor=$,a.render=B),g&&g.sub(a),a.props=b,a.state||(a.state={}),a.context=m,a.__n=t,v=a.__d=!0,a.__h=[],a._sb=[]),null==a.__s&&(a.__s=a.state),null!=$.getDerivedStateFromProps&&(a.__s==a.state&&(a.__s=h({},a.__s)),h(a.__s,$.getDerivedStateFromProps(b,a.__s))),y=a.props,p=a.state,a.__v=u,v)null==$.getDerivedStateFromProps&&null!=a.componentWillMount&&a.componentWillMount(),null!=a.componentDidMount&&a.__h.push(a.componentDidMount);else{if(null==$.getDerivedStateFromProps&&b!==y&&null!=a.componentWillReceiveProps&&a.componentWillReceiveProps(b,m),!a.__e&&null!=a.shouldComponentUpdate&&!1===a.shouldComponentUpdate(b,a.__s,m)||u.__v===i.__v){for(u.__v!==i.__v&&(a.props=b,a.state=a.__s,a.__d=!1),u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),w=0;w<a._sb.length;w++)a.__h.push(a._sb[w]);a._sb=[],a.__h.length&&f.push(a);break n}null!=a.componentWillUpdate&&a.componentWillUpdate(b,a.__s,m),null!=a.componentDidUpdate&&a.__h.push(function(){a.componentDidUpdate(y,p,d)})}if(a.context=m,a.props=b,a.__P=n,A=l.__r,P=0,\"prototype\"in $&&$.prototype.render){for(a.state=a.__s,a.__d=!1,A&&A(u),s=a.render(a.props,a.state,a.context),C=0;C<a._sb.length;C++)a.__h.push(a._sb[C]);a._sb=[]}else do{a.__d=!1,A&&A(u),s=a.render(a.props,a.state,a.context),a.state=a.__s}while(a.__d&&++P<25);a.state=a.__s,null!=a.getChildContext&&(t=h(h({},t),a.getChildContext())),v||null==a.getSnapshotBeforeUpdate||(d=a.getSnapshotBeforeUpdate(y,p)),T=null!=s&&s.type===_&&null==s.key?s.props.children:s,H(n,Array.isArray(T)?T:[T],u,i,t,r,o,f,e,c),a.base=u.__e,u.__h=null,a.__h.length&&f.push(a),k&&(a.__E=a.__=null),a.__e=!1}else null==o&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=O(i.__e,u,i,t,r,o,f,c);(s=l.diffed)&&s(u)}catch(n){u.__v=null,(c||null!=o)&&(u.__e=e,u.__h=!!c,o[o.indexOf(e)]=null),l.__e(n,u,i)}}function N(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function O(l,u,i,t,r,o,f,e){var s,a,h,y=i.props,p=u.props,d=u.type,_=0;if(\"svg\"===d&&(r=!0),null!=o)for(;_<o.length;_++)if((s=o[_])&&\"setAttribute\"in s==!!d&&(d?s.localName===d:3===s.nodeType)){l=s,o[_]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=r?document.createElementNS(\"http://www.w3.org/2000/svg\",d):document.createElement(d,p.is&&p),o=null,e=!1}if(null===d)y===p||e&&l.data===p||(l.data=p);else{if(o=o&&n.call(l.childNodes),a=(y=i.props||c).dangerouslySetInnerHTML,h=p.dangerouslySetInnerHTML,!e){if(null!=o)for(y={},_=0;_<l.attributes.length;_++)y[l.attributes[_].name]=l.attributes[_].value;(h||a)&&(h&&(a&&h.__html==a.__html||h.__html===l.innerHTML)||(l.innerHTML=h&&h.__html||\"\"))}if(k(l,p,y,r,e),h)u.__k=[];else if(_=u.props.children,H(l,Array.isArray(_)?_:[_],u,i,t,r&&\"foreignObject\"!==d,o,f,o?o[0]:i.__k&&A(i,0),e),null!=o)for(_=o.length;_--;)null!=o[_]&&v(o[_]);e||(\"value\"in p&&void 0!==(_=p.value)&&(_!==l.value||\"progress\"===d&&!_||\"option\"===d&&_!==y.value)&&g(l,\"value\",_,y.value,!1),\"checked\"in p&&void 0!==(_=p.checked)&&_!==l.checked&&g(l,\"checked\",_,y.checked,!1))}return l}function S(n,u,i){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function q(n,u,i){var t,r;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||S(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null,n.__c=void 0}if(t=n.__k)for(r=0;r<t.length;r++)t[r]&&q(t[r],u,i||\"function\"!=typeof n.type);i||null==n.__e||v(n.__e),n.__=n.__e=n.__d=void 0}function B(n,l,u){return this.constructor(n,u)}function D(u,i,t){var r,o,f;l.__&&l.__(u,i),o=(r=\"function\"==typeof t)?null:t&&t.__k||i.__k,f=[],M(i,u=(!r&&t||i).__k=y(_,null,[u]),o||c,c,void 0!==i.ownerSVGElement,!r&&t?[t]:o?null:i.firstChild?n.call(i.childNodes):null,f,!r&&t?t:o?o.__e:i.firstChild,r),N(f,u)}function E(n,l){D(n,l,E)}function F(l,u,i){var t,r,o,f=h({},l.props);for(o in u)\"key\"==o?t=u[o]:\"ref\"==o?r=u[o]:f[o]=u[o];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),p(l.type,f,t||l.key,r||l.ref,null)}function G(n,l){var u={__c:l=\"__cC\"+e++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(function(n){n.__e=!0,T(n)})},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=s.slice,l={__e:function(n,l,u,i){for(var t,r,o;l=l.__;)if((t=l.__c)&&!t.__)try{if((r=t.constructor)&&null!=r.getDerivedStateFromError&&(t.setState(r.getDerivedStateFromError(n)),o=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(n,i||{}),o=t.__d),o)return t.__E=t}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},t=!1,x.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=h({},this.state),\"function\"==typeof n&&(n=n(h({},u),this.props)),n&&h(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),T(this))},x.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),T(this))},x.prototype.render=_,r=[],f=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,$.__r=0,e=0;export{x as Component,_ as Fragment,F as cloneElement,G as createContext,y as createElement,d as createRef,y as h,E as hydrate,i as isValidElement,l as options,D as render,j as toChildArray};\n//# sourceMappingURL=preact.module.js.map\n","import{options as n}from\"preact\";var t,r,u,i,o=0,f=[],c=[],e=n.__b,a=n.__r,v=n.diffed,l=n.__c,m=n.unmount;function d(t,u){n.__h&&n.__h(r,t,o||u),o=0;var i=r.__H||(r.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({__V:c}),i.__[t]}function p(n){return o=1,y(B,n)}function y(n,u,i){var o=d(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):B(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.u)){r.u=!0;var f=r.shouldComponentUpdate;r.shouldComponentUpdate=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return n.__c});if(u.every(function(n){return!n.__N}))return!f||f.call(this,n,t,r);var i=!1;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),!(!i&&o.__c.props===n)&&(!f||f.call(this,n,t,r))}}return o.__N||o.__}function h(u,i){var o=d(t++,3);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__H.__h.push(o))}function s(u,i){var o=d(t++,4);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__h.push(o))}function _(n){return o=5,F(function(){return{current:n}},[])}function A(n,t,r){o=6,s(function(){return\"function\"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0},null==r?r:r.concat(n))}function F(n,r){var u=d(t++,7);return z(u.__H,r)?(u.__V=n(),u.i=r,u.__h=n,u.__V):u.__}function T(n,t){return o=8,F(function(){return n},t)}function q(n){var u=r.context[n.__c],i=d(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function x(t,r){n.useDebugValue&&n.useDebugValue(r?r(t):t)}function P(n){var u=d(t++,10),i=p();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function V(){var n=d(t++,11);if(!n.__){for(var u=r.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__=\"P\"+i[0]+\"-\"+i[1]++}return n.__}function b(){for(var t;t=f.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(k),t.__H.__h.forEach(w),t.__H.__h=[]}catch(r){t.__H.__h=[],n.__e(r,t.__v)}}n.__b=function(n){r=null,e&&e(n)},n.__r=function(n){a&&a(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=c,n.__N=n.i=void 0})):(i.__h.forEach(k),i.__h.forEach(w),i.__h=[])),u=r},n.diffed=function(t){v&&v(t);var o=t.__c;o&&o.__H&&(o.__H.__h.length&&(1!==f.push(o)&&i===n.requestAnimationFrame||((i=n.requestAnimationFrame)||j)(b)),o.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==c&&(n.__=n.__V),n.i=void 0,n.__V=c})),u=r=null},n.__c=function(t,r){r.some(function(t){try{t.__h.forEach(k),t.__h=t.__h.filter(function(n){return!n.__||w(n)})}catch(u){r.some(function(n){n.__h&&(n.__h=[])}),r=[],n.__e(u,t.__v)}}),l&&l(t,r)},n.unmount=function(t){m&&m(t);var r,u=t.__c;u&&u.__H&&(u.__H.__.forEach(function(n){try{k(n)}catch(n){r=n}}),u.__H=void 0,r&&n.__e(r,u.__v))};var g=\"function\"==typeof requestAnimationFrame;function j(n){var t,r=function(){clearTimeout(u),g&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);g&&(t=requestAnimationFrame(r))}function k(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t}function w(n){var t=r;n.__c=n.__(),r=t}function z(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function B(n,t){return\"function\"==typeof t?t(n):t}export{T as useCallback,q as useContext,x as useDebugValue,h as useEffect,P as useErrorBoundary,V as useId,A as useImperativeHandle,s as useLayoutEffect,F as useMemo,y as useReducer,_ as useRef,p as useState};\n//# sourceMappingURL=hooks.module.js.map\n","import{Component as n,createElement as t,options as e,toChildArray as r,Fragment as u,render as o,hydrate as i,createContext as l,createRef as c,cloneElement as f}from\"preact\";export{Component,Fragment,createContext,createElement,createRef}from\"preact\";import{useState as a,useId as s,useReducer as h,useEffect as v,useLayoutEffect as d,useRef as p,useImperativeHandle as m,useMemo as y,useCallback as _,useContext as b,useDebugValue as S}from\"preact/hooks\";export*from\"preact/hooks\";function g(n,t){for(var e in t)n[e]=t[e];return n}function C(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function E(n,t){return n===t&&(0!==n||1/n==1/t)||n!=n&&t!=t}function w(n){this.props=n}function R(n,e){function r(n){var t=this.props.ref,r=t==n.ref;return!r&&t&&(t.call?t(null):t.current=null),e?!e(this.props,n)||!r:C(this.props,n)}function u(e){return this.shouldComponentUpdate=r,t(n,e)}return u.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",u.prototype.isReactComponent=!0,u.__f=!0,u}(w.prototype=new n).isPureReactComponent=!0,w.prototype.shouldComponentUpdate=function(n,t){return C(this.props,n)||C(this.state,t)};var x=e.__b;e.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),x&&x(n)};var N=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function k(n){function t(t){var e=g({},t);return delete e.ref,n(e,t.ref||null)}return t.$$typeof=N,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var A=function(n,t){return null==n?null:r(r(n).map(t))},O={map:A,forEach:A,count:function(n){return n?r(n).length:0},only:function(n){var t=r(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:r},T=e.__e;e.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);T(n,t,e,r)};var I=e.unmount;function L(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),n.__c.__H=null),null!=(n=g({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=t),n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return L(n,t,e)})),n}function U(n,t,e){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return U(n,t,e)}),n.__c&&n.__c.__P===t&&(n.__e&&e.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=e)),n}function D(){this.__u=0,this.t=null,this.__b=null}function F(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function M(n){var e,r,u;function o(o){if(e||(e=n()).then(function(n){r=n.default||n},function(n){u=n}),u)throw u;if(!r)throw e;return t(r,o)}return o.displayName=\"Lazy\",o.__f=!0,o}function V(){this.u=null,this.o=null}e.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),I&&I(n)},(D.prototype=new n).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=F(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=U(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}},c=!0===t.__h;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i)},D.prototype.componentWillUnmount=function(){this.t=[]},D.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var r=document.createElement(\"div\"),o=this.__v.__k[0].__c;this.__v.__k[0]=L(this.__b,r,o.__O=o.__P)}this.__b=null}var i=e.__a&&t(u,null,n.fallback);return i&&(i.__h=null),[t(u,null,e.__a?null:n.children),i]};var W=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function P(n){return this.getChildContext=function(){return n.context},n.children}function $(n){var e=this,r=n.i;e.componentWillUnmount=function(){o(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),n.__v?(e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,t){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),o(t(P,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount()}function j(n,e){var r=t($,{__v:n,i:e});return r.containerInfo=e,r}(V.prototype=new n).__a=function(n){var t=this,e=F(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),W(t,n,r)):u()};e?e(o):o()}},V.prototype.render=function(n){this.u=null,this.o=new Map;var t=r(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},V.prototype.componentDidUpdate=V.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){W(n,e,t)})};var z=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,B=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,H=\"undefined\"!=typeof document,Z=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};function Y(n,t,e){return null==t.__k&&(t.textContent=\"\"),o(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function q(n,t,e){return i(n,t),\"function\"==typeof e&&e(),n?n.__c:null}n.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(t){Object.defineProperty(n.prototype,t,{configurable:!0,get:function(){return this[\"UNSAFE_\"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var G=e.event;function J(){}function K(){return this.cancelBubble}function Q(){return this.defaultPrevented}e.event=function(n){return G&&(n=G(n)),n.persist=J,n.isPropagationStopped=K,n.isDefaultPrevented=Q,n.nativeEvent=n};var X,nn={configurable:!0,get:function(){return this.class}},tn=e.vnode;e.vnode=function(n){var t=n.type,e=n.props,u=e;if(\"string\"==typeof t){var o=-1===t.indexOf(\"-\");for(var i in u={},e){var l=e[i];H&&\"children\"===i&&\"noscript\"===t||\"value\"===i&&\"defaultValue\"in e&&null==l||(\"defaultValue\"===i&&\"value\"in e&&null==e.value?i=\"value\":\"download\"===i&&!0===l?l=\"\":/ondoubleclick/i.test(i)?i=\"ondblclick\":/^onchange(textarea|input)/i.test(i+t)&&!Z(e.type)?i=\"oninput\":/^onfocus$/i.test(i)?i=\"onfocusin\":/^onblur$/i.test(i)?i=\"onfocusout\":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)?i=i.toLowerCase():o&&B.test(i)?i=i.replace(/[A-Z0-9]/g,\"-$&\").toLowerCase():null===l&&(l=void 0),/^oninput$/i.test(i)&&(i=i.toLowerCase(),u[i]&&(i=\"oninputCapture\")),u[i]=l)}\"select\"==t&&u.multiple&&Array.isArray(u.value)&&(u.value=r(e.children).forEach(function(n){n.props.selected=-1!=u.value.indexOf(n.props.value)})),\"select\"==t&&null!=u.defaultValue&&(u.value=r(e.children).forEach(function(n){n.props.selected=u.multiple?-1!=u.defaultValue.indexOf(n.props.value):u.defaultValue==n.props.value})),n.props=u,e.class!=e.className&&(nn.enumerable=\"className\"in e,null!=e.className&&(u.class=e.className),Object.defineProperty(u,\"className\",nn))}n.$$typeof=z,tn&&tn(n)};var en=e.__r;e.__r=function(n){en&&en(n),X=n.__c};var rn={ReactCurrentDispatcher:{current:{readContext:function(n){return X.__n[n.__c].props.value}}}},un=\"17.0.2\";function on(n){return t.bind(null,n)}function ln(n){return!!n&&n.$$typeof===z}function cn(n){return ln(n)?f.apply(null,arguments):n}function fn(n){return!!n.__k&&(o(null,n),!0)}function an(n){return n&&(n.base||1===n.nodeType&&n)||null}var sn=function(n,t){return n(t)},hn=function(n,t){return n(t)},vn=u;function dn(n){n()}function pn(n){return n}function mn(){return[!1,dn]}var yn=d;function _n(n,t){var e=t(),r=a({h:{__:e,v:t}}),u=r[0].h,o=r[1];return d(function(){u.__=e,u.v=t,E(u.__,t())||o({h:u})},[n,e,t]),v(function(){return E(u.__,u.v())||o({h:u}),n(function(){E(u.__,u.v())||o({h:u})})},[n]),e}var bn={useState:a,useId:s,useReducer:h,useEffect:v,useLayoutEffect:d,useInsertionEffect:yn,useTransition:mn,useDeferredValue:pn,useSyncExternalStore:_n,startTransition:dn,useRef:p,useImperativeHandle:m,useMemo:y,useCallback:_,useContext:b,useDebugValue:S,version:\"17.0.2\",Children:O,render:Y,hydrate:q,unmountComponentAtNode:fn,createPortal:j,createElement:t,createContext:l,createFactory:on,cloneElement:cn,createRef:c,Fragment:u,isValidElement:ln,findDOMNode:an,Component:n,PureComponent:w,memo:R,forwardRef:k,flushSync:hn,unstable_batchedUpdates:sn,StrictMode:vn,Suspense:D,SuspenseList:V,lazy:M,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:rn};export{O as Children,w as PureComponent,vn as StrictMode,D as Suspense,V as SuspenseList,rn as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cn as cloneElement,on as createFactory,j as createPortal,bn as default,an as findDOMNode,hn as flushSync,k as forwardRef,q as hydrate,ln as isValidElement,M as lazy,R as memo,Y as render,dn as startTransition,fn as unmountComponentAtNode,sn as unstable_batchedUpdates,pn as useDeferredValue,yn as useInsertionEffect,_n as useSyncExternalStore,mn as useTransition,un as version};\n//# sourceMappingURL=compat.module.js.map\n","import * as preact from 'preact';\nimport { Component, createElement, isValidElement, Fragment } from 'preact';\nimport { createPortal } from 'preact/compat';\n\nconst styleTexts = [];\nconst styleEls = new Map();\nfunction injectStyles(styleText) {\n    styleTexts.push(styleText);\n    styleEls.forEach((styleEl) => {\n        appendStylesTo(styleEl, styleText);\n    });\n}\nfunction ensureElHasStyles(el) {\n    if (el.isConnected && // sometimes true if SSR system simulates DOM\n        el.getRootNode // sometimes undefined if SSR system simulates DOM\n    ) {\n        registerStylesRoot(el.getRootNode());\n    }\n}\nfunction registerStylesRoot(rootNode) {\n    let styleEl = styleEls.get(rootNode);\n    if (!styleEl || !styleEl.isConnected) {\n        styleEl = rootNode.querySelector('style[data-fullcalendar]');\n        if (!styleEl) {\n            styleEl = document.createElement('style');\n            styleEl.setAttribute('data-fullcalendar', '');\n            const nonce = getNonceValue();\n            if (nonce) {\n                styleEl.nonce = nonce;\n            }\n            const parentEl = rootNode === document ? document.head : rootNode;\n            const insertBefore = rootNode === document\n                ? parentEl.querySelector('script,link[rel=stylesheet],link[as=style],style')\n                : parentEl.firstChild;\n            parentEl.insertBefore(styleEl, insertBefore);\n        }\n        styleEls.set(rootNode, styleEl);\n        hydrateStylesRoot(styleEl);\n    }\n}\nfunction hydrateStylesRoot(styleEl) {\n    for (const styleText of styleTexts) {\n        appendStylesTo(styleEl, styleText);\n    }\n}\nfunction appendStylesTo(styleEl, styleText) {\n    const { sheet } = styleEl;\n    const ruleCnt = sheet.cssRules.length;\n    styleText.split('}').forEach((styleStr, i) => {\n        styleStr = styleStr.trim();\n        if (styleStr) {\n            sheet.insertRule(styleStr + '}', ruleCnt + i);\n        }\n    });\n}\n// nonce\n// -------------------------------------------------------------------------------------------------\nlet queriedNonceValue;\nfunction getNonceValue() {\n    if (queriedNonceValue === undefined) {\n        queriedNonceValue = queryNonceValue();\n    }\n    return queriedNonceValue;\n}\n/*\nTODO: discourage meta tag and instead put nonce attribute on placeholder <style> tag\n*/\nfunction queryNonceValue() {\n    const metaWithNonce = document.querySelector('meta[name=\"csp-nonce\"]');\n    if (metaWithNonce && metaWithNonce.hasAttribute('content')) {\n        return metaWithNonce.getAttribute('content');\n    }\n    const elWithNonce = document.querySelector('script[nonce]');\n    if (elWithNonce) {\n        return elWithNonce.nonce || '';\n    }\n    return '';\n}\n// main\n// -------------------------------------------------------------------------------------------------\nif (typeof document !== 'undefined') {\n    registerStylesRoot(document);\n}\n\nvar css_248z = \":root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url(\\\"data:application/x-font-ttf;charset=utf-8;base64,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\\\") format(\\\"truetype\\\")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:\\\"\\\\e900\\\"}.fc-icon-chevron-right:before{content:\\\"\\\\e901\\\"}.fc-icon-chevrons-left:before{content:\\\"\\\\e902\\\"}.fc-icon-chevrons-right:before{content:\\\"\\\\e903\\\"}.fc-icon-minus-square:before{content:\\\"\\\\e904\\\"}.fc-icon-plus-square:before{content:\\\"\\\\e905\\\"}.fc-icon-x:before{content:\\\"\\\\e906\\\"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:\\\"\\\";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:\\\"\\\";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:\\\"\\\";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}\";\ninjectStyles(css_248z);\n\nclass DelayedRunner {\n    constructor(drainedOption) {\n        this.drainedOption = drainedOption;\n        this.isRunning = false;\n        this.isDirty = false;\n        this.pauseDepths = {};\n        this.timeoutId = 0;\n    }\n    request(delay) {\n        this.isDirty = true;\n        if (!this.isPaused()) {\n            this.clearTimeout();\n            if (delay == null) {\n                this.tryDrain();\n            }\n            else {\n                this.timeoutId = setTimeout(// NOT OPTIMAL! TODO: look at debounce\n                this.tryDrain.bind(this), delay);\n            }\n        }\n    }\n    pause(scope = '') {\n        let { pauseDepths } = this;\n        pauseDepths[scope] = (pauseDepths[scope] || 0) + 1;\n        this.clearTimeout();\n    }\n    resume(scope = '', force) {\n        let { pauseDepths } = this;\n        if (scope in pauseDepths) {\n            if (force) {\n                delete pauseDepths[scope];\n            }\n            else {\n                pauseDepths[scope] -= 1;\n                let depth = pauseDepths[scope];\n                if (depth <= 0) {\n                    delete pauseDepths[scope];\n                }\n            }\n            this.tryDrain();\n        }\n    }\n    isPaused() {\n        return Object.keys(this.pauseDepths).length;\n    }\n    tryDrain() {\n        if (!this.isRunning && !this.isPaused()) {\n            this.isRunning = true;\n            while (this.isDirty) {\n                this.isDirty = false;\n                this.drained(); // might set isDirty to true again\n            }\n            this.isRunning = false;\n        }\n    }\n    clear() {\n        this.clearTimeout();\n        this.isDirty = false;\n        this.pauseDepths = {};\n    }\n    clearTimeout() {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n            this.timeoutId = 0;\n        }\n    }\n    drained() {\n        if (this.drainedOption) {\n            this.drainedOption();\n        }\n    }\n}\n\nfunction removeElement(el) {\n    if (el.parentNode) {\n        el.parentNode.removeChild(el);\n    }\n}\n// Querying\n// ----------------------------------------------------------------------------------------------------------------\nfunction elementClosest(el, selector) {\n    if (el.closest) {\n        return el.closest(selector);\n        // really bad fallback for IE\n        // from https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n    }\n    if (!document.documentElement.contains(el)) {\n        return null;\n    }\n    do {\n        if (elementMatches(el, selector)) {\n            return el;\n        }\n        el = (el.parentElement || el.parentNode);\n    } while (el !== null && el.nodeType === 1);\n    return null;\n}\nfunction elementMatches(el, selector) {\n    let method = el.matches || el.matchesSelector || el.msMatchesSelector;\n    return method.call(el, selector);\n}\n// accepts multiple subject els\n// returns a real array. good for methods like forEach\n// TODO: accept the document\nfunction findElements(container, selector) {\n    let containers = container instanceof HTMLElement ? [container] : container;\n    let allMatches = [];\n    for (let i = 0; i < containers.length; i += 1) {\n        let matches = containers[i].querySelectorAll(selector);\n        for (let j = 0; j < matches.length; j += 1) {\n            allMatches.push(matches[j]);\n        }\n    }\n    return allMatches;\n}\n// accepts multiple subject els\n// only queries direct child elements // TODO: rename to findDirectChildren!\nfunction findDirectChildren(parent, selector) {\n    let parents = parent instanceof HTMLElement ? [parent] : parent;\n    let allMatches = [];\n    for (let i = 0; i < parents.length; i += 1) {\n        let childNodes = parents[i].children; // only ever elements\n        for (let j = 0; j < childNodes.length; j += 1) {\n            let childNode = childNodes[j];\n            if (!selector || elementMatches(childNode, selector)) {\n                allMatches.push(childNode);\n            }\n        }\n    }\n    return allMatches;\n}\n// Style\n// ----------------------------------------------------------------------------------------------------------------\nconst PIXEL_PROP_RE = /(top|left|right|bottom|width|height)$/i;\nfunction applyStyle(el, props) {\n    for (let propName in props) {\n        applyStyleProp(el, propName, props[propName]);\n    }\n}\nfunction applyStyleProp(el, name, val) {\n    if (val == null) {\n        el.style[name] = '';\n    }\n    else if (typeof val === 'number' && PIXEL_PROP_RE.test(name)) {\n        el.style[name] = `${val}px`;\n    }\n    else {\n        el.style[name] = val;\n    }\n}\n// Event Handling\n// ----------------------------------------------------------------------------------------------------------------\n// if intercepting bubbled events at the document/window/body level,\n// and want to see originating element (the 'target'), use this util instead\n// of `ev.target` because it goes within web-component boundaries.\nfunction getEventTargetViaRoot(ev) {\n    var _a, _b;\n    return (_b = (_a = ev.composedPath) === null || _a === void 0 ? void 0 : _a.call(ev)[0]) !== null && _b !== void 0 ? _b : ev.target;\n}\n// Unique ID for DOM attribute\nlet guid$1 = 0;\nfunction getUniqueDomId() {\n    guid$1 += 1;\n    return 'fc-dom-' + guid$1;\n}\n\n// Stops a mouse/touch event from doing it's native browser action\nfunction preventDefault(ev) {\n    ev.preventDefault();\n}\n// Event Delegation\n// ----------------------------------------------------------------------------------------------------------------\nfunction buildDelegationHandler(selector, handler) {\n    return (ev) => {\n        let matchedChild = elementClosest(ev.target, selector);\n        if (matchedChild) {\n            handler.call(matchedChild, ev, matchedChild);\n        }\n    };\n}\nfunction listenBySelector(container, eventType, selector, handler) {\n    let attachedHandler = buildDelegationHandler(selector, handler);\n    container.addEventListener(eventType, attachedHandler);\n    return () => {\n        container.removeEventListener(eventType, attachedHandler);\n    };\n}\nfunction listenToHoverBySelector(container, selector, onMouseEnter, onMouseLeave) {\n    let currentMatchedChild;\n    return listenBySelector(container, 'mouseover', selector, (mouseOverEv, matchedChild) => {\n        if (matchedChild !== currentMatchedChild) {\n            currentMatchedChild = matchedChild;\n            onMouseEnter(mouseOverEv, matchedChild);\n            let realOnMouseLeave = (mouseLeaveEv) => {\n                currentMatchedChild = null;\n                onMouseLeave(mouseLeaveEv, matchedChild);\n                matchedChild.removeEventListener('mouseleave', realOnMouseLeave);\n            };\n            // listen to the next mouseleave, and then unattach\n            matchedChild.addEventListener('mouseleave', realOnMouseLeave);\n        }\n    });\n}\n// Animation\n// ----------------------------------------------------------------------------------------------------------------\nconst transitionEventNames = [\n    'webkitTransitionEnd',\n    'otransitionend',\n    'oTransitionEnd',\n    'msTransitionEnd',\n    'transitionend',\n];\n// triggered only when the next single subsequent transition finishes\nfunction whenTransitionDone(el, callback) {\n    let realCallback = (ev) => {\n        callback(ev);\n        transitionEventNames.forEach((eventName) => {\n            el.removeEventListener(eventName, realCallback);\n        });\n    };\n    transitionEventNames.forEach((eventName) => {\n        el.addEventListener(eventName, realCallback); // cross-browser way to determine when the transition finishes\n    });\n}\n// ARIA workarounds\n// ----------------------------------------------------------------------------------------------------------------\nfunction createAriaClickAttrs(handler) {\n    return Object.assign({ onClick: handler }, createAriaKeyboardAttrs(handler));\n}\nfunction createAriaKeyboardAttrs(handler) {\n    return {\n        tabIndex: 0,\n        onKeyDown(ev) {\n            if (ev.key === 'Enter' || ev.key === ' ') {\n                handler(ev);\n                ev.preventDefault(); // if space, don't scroll down page\n            }\n        },\n    };\n}\n\nlet guidNumber = 0;\nfunction guid() {\n    guidNumber += 1;\n    return String(guidNumber);\n}\n/* FullCalendar-specific DOM Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n// Make the mouse cursor express that an event is not allowed in the current area\nfunction disableCursor() {\n    document.body.classList.add('fc-not-allowed');\n}\n// Returns the mouse cursor to its original look\nfunction enableCursor() {\n    document.body.classList.remove('fc-not-allowed');\n}\n/* Selection\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventSelection(el) {\n    el.style.userSelect = 'none';\n    el.style.webkitUserSelect = 'none';\n    el.addEventListener('selectstart', preventDefault);\n}\nfunction allowSelection(el) {\n    el.style.userSelect = '';\n    el.style.webkitUserSelect = '';\n    el.removeEventListener('selectstart', preventDefault);\n}\n/* Context Menu\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventContextMenu(el) {\n    el.addEventListener('contextmenu', preventDefault);\n}\nfunction allowContextMenu(el) {\n    el.removeEventListener('contextmenu', preventDefault);\n}\nfunction parseFieldSpecs(input) {\n    let specs = [];\n    let tokens = [];\n    let i;\n    let token;\n    if (typeof input === 'string') {\n        tokens = input.split(/\\s*,\\s*/);\n    }\n    else if (typeof input === 'function') {\n        tokens = [input];\n    }\n    else if (Array.isArray(input)) {\n        tokens = input;\n    }\n    for (i = 0; i < tokens.length; i += 1) {\n        token = tokens[i];\n        if (typeof token === 'string') {\n            specs.push(token.charAt(0) === '-' ?\n                { field: token.substring(1), order: -1 } :\n                { field: token, order: 1 });\n        }\n        else if (typeof token === 'function') {\n            specs.push({ func: token });\n        }\n    }\n    return specs;\n}\nfunction compareByFieldSpecs(obj0, obj1, fieldSpecs) {\n    let i;\n    let cmp;\n    for (i = 0; i < fieldSpecs.length; i += 1) {\n        cmp = compareByFieldSpec(obj0, obj1, fieldSpecs[i]);\n        if (cmp) {\n            return cmp;\n        }\n    }\n    return 0;\n}\nfunction compareByFieldSpec(obj0, obj1, fieldSpec) {\n    if (fieldSpec.func) {\n        return fieldSpec.func(obj0, obj1);\n    }\n    return flexibleCompare(obj0[fieldSpec.field], obj1[fieldSpec.field])\n        * (fieldSpec.order || 1);\n}\nfunction flexibleCompare(a, b) {\n    if (!a && !b) {\n        return 0;\n    }\n    if (b == null) {\n        return -1;\n    }\n    if (a == null) {\n        return 1;\n    }\n    if (typeof a === 'string' || typeof b === 'string') {\n        return String(a).localeCompare(String(b));\n    }\n    return a - b;\n}\n/* String Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction padStart(val, len) {\n    let s = String(val);\n    return '000'.substr(0, len - s.length) + s;\n}\nfunction formatWithOrdinals(formatter, args, fallbackText) {\n    if (typeof formatter === 'function') {\n        return formatter(...args);\n    }\n    if (typeof formatter === 'string') { // non-blank string\n        return args.reduce((str, arg, index) => (str.replace('$' + index, arg || '')), formatter);\n    }\n    return fallbackText;\n}\n/* Number Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction compareNumbers(a, b) {\n    return a - b;\n}\nfunction isInt(n) {\n    return n % 1 === 0;\n}\n/* FC-specific DOM dimension stuff\n----------------------------------------------------------------------------------------------------------------------*/\nfunction computeSmallestCellWidth(cellEl) {\n    let allWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-frame');\n    let contentWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-cushion');\n    if (!allWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-frame className'); // TODO: use const\n    }\n    if (!contentWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-cushion className');\n    }\n    return cellEl.getBoundingClientRect().width - allWidthEl.getBoundingClientRect().width + // the cell padding+border\n        contentWidthEl.getBoundingClientRect().width;\n}\n\nconst INTERNAL_UNITS = ['years', 'months', 'days', 'milliseconds'];\nconst PARSE_RE = /^(-?)(?:(\\d+)\\.)?(\\d+):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?/;\n// Parsing and Creation\nfunction createDuration(input, unit) {\n    if (typeof input === 'string') {\n        return parseString(input);\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseObject(input);\n    }\n    if (typeof input === 'number') {\n        return parseObject({ [unit || 'milliseconds']: input });\n    }\n    return null;\n}\nfunction parseString(s) {\n    let m = PARSE_RE.exec(s);\n    if (m) {\n        let sign = m[1] ? -1 : 1;\n        return {\n            years: 0,\n            months: 0,\n            days: sign * (m[2] ? parseInt(m[2], 10) : 0),\n            milliseconds: sign * ((m[3] ? parseInt(m[3], 10) : 0) * 60 * 60 * 1000 + // hours\n                (m[4] ? parseInt(m[4], 10) : 0) * 60 * 1000 + // minutes\n                (m[5] ? parseInt(m[5], 10) : 0) * 1000 + // seconds\n                (m[6] ? parseInt(m[6], 10) : 0) // ms\n            ),\n        };\n    }\n    return null;\n}\nfunction parseObject(obj) {\n    let duration = {\n        years: obj.years || obj.year || 0,\n        months: obj.months || obj.month || 0,\n        days: obj.days || obj.day || 0,\n        milliseconds: (obj.hours || obj.hour || 0) * 60 * 60 * 1000 + // hours\n            (obj.minutes || obj.minute || 0) * 60 * 1000 + // minutes\n            (obj.seconds || obj.second || 0) * 1000 + // seconds\n            (obj.milliseconds || obj.millisecond || obj.ms || 0), // ms\n    };\n    let weeks = obj.weeks || obj.week;\n    if (weeks) {\n        duration.days += weeks * 7;\n        duration.specifiedWeeks = true;\n    }\n    return duration;\n}\n// Equality\nfunction durationsEqual(d0, d1) {\n    return d0.years === d1.years &&\n        d0.months === d1.months &&\n        d0.days === d1.days &&\n        d0.milliseconds === d1.milliseconds;\n}\nfunction asCleanDays(dur) {\n    if (!dur.years && !dur.months && !dur.milliseconds) {\n        return dur.days;\n    }\n    return 0;\n}\n// Simple Math\nfunction addDurations(d0, d1) {\n    return {\n        years: d0.years + d1.years,\n        months: d0.months + d1.months,\n        days: d0.days + d1.days,\n        milliseconds: d0.milliseconds + d1.milliseconds,\n    };\n}\nfunction subtractDurations(d1, d0) {\n    return {\n        years: d1.years - d0.years,\n        months: d1.months - d0.months,\n        days: d1.days - d0.days,\n        milliseconds: d1.milliseconds - d0.milliseconds,\n    };\n}\nfunction multiplyDuration(d, n) {\n    return {\n        years: d.years * n,\n        months: d.months * n,\n        days: d.days * n,\n        milliseconds: d.milliseconds * n,\n    };\n}\n// Conversions\n// \"Rough\" because they are based on average-case Gregorian months/years\nfunction asRoughYears(dur) {\n    return asRoughDays(dur) / 365;\n}\nfunction asRoughMonths(dur) {\n    return asRoughDays(dur) / 30;\n}\nfunction asRoughDays(dur) {\n    return asRoughMs(dur) / 864e5;\n}\nfunction asRoughMinutes(dur) {\n    return asRoughMs(dur) / (1000 * 60);\n}\nfunction asRoughSeconds(dur) {\n    return asRoughMs(dur) / 1000;\n}\nfunction asRoughMs(dur) {\n    return dur.years * (365 * 864e5) +\n        dur.months * (30 * 864e5) +\n        dur.days * 864e5 +\n        dur.milliseconds;\n}\n// Advanced Math\nfunction wholeDivideDurations(numerator, denominator) {\n    let res = null;\n    for (let i = 0; i < INTERNAL_UNITS.length; i += 1) {\n        let unit = INTERNAL_UNITS[i];\n        if (denominator[unit]) {\n            let localRes = numerator[unit] / denominator[unit];\n            if (!isInt(localRes) || (res !== null && res !== localRes)) {\n                return null;\n            }\n            res = localRes;\n        }\n        else if (numerator[unit]) {\n            // needs to divide by something but can't!\n            return null;\n        }\n    }\n    return res;\n}\nfunction greatestDurationDenominator(dur) {\n    let ms = dur.milliseconds;\n    if (ms) {\n        if (ms % 1000 !== 0) {\n            return { unit: 'millisecond', value: ms };\n        }\n        if (ms % (1000 * 60) !== 0) {\n            return { unit: 'second', value: ms / 1000 };\n        }\n        if (ms % (1000 * 60 * 60) !== 0) {\n            return { unit: 'minute', value: ms / (1000 * 60) };\n        }\n        if (ms) {\n            return { unit: 'hour', value: ms / (1000 * 60 * 60) };\n        }\n    }\n    if (dur.days) {\n        if (dur.specifiedWeeks && dur.days % 7 === 0) {\n            return { unit: 'week', value: dur.days / 7 };\n        }\n        return { unit: 'day', value: dur.days };\n    }\n    if (dur.months) {\n        return { unit: 'month', value: dur.months };\n    }\n    if (dur.years) {\n        return { unit: 'year', value: dur.years };\n    }\n    return { unit: 'millisecond', value: 0 };\n}\n\n// TODO: new util arrayify?\nfunction removeExact(array, exactVal) {\n    let removeCnt = 0;\n    let i = 0;\n    while (i < array.length) {\n        if (array[i] === exactVal) {\n            array.splice(i, 1);\n            removeCnt += 1;\n        }\n        else {\n            i += 1;\n        }\n    }\n    return removeCnt;\n}\nfunction isArraysEqual(a0, a1, equalityFunc) {\n    if (a0 === a1) {\n        return true;\n    }\n    let len = a0.length;\n    let i;\n    if (len !== a1.length) { // not array? or not same length?\n        return false;\n    }\n    for (i = 0; i < len; i += 1) {\n        if (!(equalityFunc ? equalityFunc(a0[i], a1[i]) : a0[i] === a1[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nconst DAY_IDS = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n// Adding\nfunction addWeeks(m, n) {\n    let a = dateToUtcArray(m);\n    a[2] += n * 7;\n    return arrayToUtcDate(a);\n}\nfunction addDays(m, n) {\n    let a = dateToUtcArray(m);\n    a[2] += n;\n    return arrayToUtcDate(a);\n}\nfunction addMs(m, n) {\n    let a = dateToUtcArray(m);\n    a[6] += n;\n    return arrayToUtcDate(a);\n}\n// Diffing (all return floats)\n// TODO: why not use ranges?\nfunction diffWeeks(m0, m1) {\n    return diffDays(m0, m1) / 7;\n}\nfunction diffDays(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60 * 24);\n}\nfunction diffHours(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60);\n}\nfunction diffMinutes(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60);\n}\nfunction diffSeconds(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / 1000;\n}\nfunction diffDayAndTime(m0, m1) {\n    let m0day = startOfDay(m0);\n    let m1day = startOfDay(m1);\n    return {\n        years: 0,\n        months: 0,\n        days: Math.round(diffDays(m0day, m1day)),\n        milliseconds: (m1.valueOf() - m1day.valueOf()) - (m0.valueOf() - m0day.valueOf()),\n    };\n}\n// Diffing Whole Units\nfunction diffWholeWeeks(m0, m1) {\n    let d = diffWholeDays(m0, m1);\n    if (d !== null && d % 7 === 0) {\n        return d / 7;\n    }\n    return null;\n}\nfunction diffWholeDays(m0, m1) {\n    if (timeAsMs(m0) === timeAsMs(m1)) {\n        return Math.round(diffDays(m0, m1));\n    }\n    return null;\n}\n// Start-Of\nfunction startOfDay(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n    ]);\n}\nfunction startOfHour(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n    ]);\n}\nfunction startOfMinute(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n    ]);\n}\nfunction startOfSecond(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n        m.getUTCSeconds(),\n    ]);\n}\n// Week Computation\nfunction weekOfYear(marker, dow, doy) {\n    let y = marker.getUTCFullYear();\n    let w = weekOfGivenYear(marker, y, dow, doy);\n    if (w < 1) {\n        return weekOfGivenYear(marker, y - 1, dow, doy);\n    }\n    let nextW = weekOfGivenYear(marker, y + 1, dow, doy);\n    if (nextW >= 1) {\n        return Math.min(w, nextW);\n    }\n    return w;\n}\nfunction weekOfGivenYear(marker, year, dow, doy) {\n    let firstWeekStart = arrayToUtcDate([year, 0, 1 + firstWeekOffset(year, dow, doy)]);\n    let dayStart = startOfDay(marker);\n    let days = Math.round(diffDays(firstWeekStart, dayStart));\n    return Math.floor(days / 7) + 1; // zero-indexed\n}\n// start-of-first-week - start-of-year\nfunction firstWeekOffset(year, dow, doy) {\n    // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n    let fwd = 7 + dow - doy;\n    // first-week day local weekday -- which local weekday is fwd\n    let fwdlw = (7 + arrayToUtcDate([year, 0, fwd]).getUTCDay() - dow) % 7;\n    return -fwdlw + fwd - 1;\n}\n// Array Conversion\nfunction dateToLocalArray(date) {\n    return [\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate(),\n        date.getHours(),\n        date.getMinutes(),\n        date.getSeconds(),\n        date.getMilliseconds(),\n    ];\n}\nfunction arrayToLocalDate(a) {\n    return new Date(a[0], a[1] || 0, a[2] == null ? 1 : a[2], // day of month\n    a[3] || 0, a[4] || 0, a[5] || 0);\n}\nfunction dateToUtcArray(date) {\n    return [\n        date.getUTCFullYear(),\n        date.getUTCMonth(),\n        date.getUTCDate(),\n        date.getUTCHours(),\n        date.getUTCMinutes(),\n        date.getUTCSeconds(),\n        date.getUTCMilliseconds(),\n    ];\n}\nfunction arrayToUtcDate(a) {\n    // according to web standards (and Safari), a month index is required.\n    // massage if only given a year.\n    if (a.length === 1) {\n        a = a.concat([0]);\n    }\n    return new Date(Date.UTC(...a));\n}\n// Other Utils\nfunction isValidDate(m) {\n    return !isNaN(m.valueOf());\n}\nfunction timeAsMs(m) {\n    return m.getUTCHours() * 1000 * 60 * 60 +\n        m.getUTCMinutes() * 1000 * 60 +\n        m.getUTCSeconds() * 1000 +\n        m.getUTCMilliseconds();\n}\n\n// timeZoneOffset is in minutes\nfunction buildIsoString(marker, timeZoneOffset, stripZeroTime = false) {\n    let s = marker.toISOString();\n    s = s.replace('.000', '');\n    if (stripZeroTime) {\n        s = s.replace('T00:00:00Z', '');\n    }\n    if (s.length > 10) { // time part wasn't stripped, can add timezone info\n        if (timeZoneOffset == null) {\n            s = s.replace('Z', '');\n        }\n        else if (timeZoneOffset !== 0) {\n            s = s.replace('Z', formatTimeZoneOffset(timeZoneOffset, true));\n        }\n        // otherwise, its UTC-0 and we want to keep the Z\n    }\n    return s;\n}\n// formats the date, but with no time part\n// TODO: somehow merge with buildIsoString and stripZeroTime\n// TODO: rename. omit \"string\"\nfunction formatDayString(marker) {\n    return marker.toISOString().replace(/T.*$/, '');\n}\nfunction formatIsoMonthStr(marker) {\n    return marker.toISOString().match(/^\\d{4}-\\d{2}/)[0];\n}\n// TODO: use Date::toISOString and use everything after the T?\nfunction formatIsoTimeString(marker) {\n    return padStart(marker.getUTCHours(), 2) + ':' +\n        padStart(marker.getUTCMinutes(), 2) + ':' +\n        padStart(marker.getUTCSeconds(), 2);\n}\nfunction formatTimeZoneOffset(minutes, doIso = false) {\n    let sign = minutes < 0 ? '-' : '+';\n    let abs = Math.abs(minutes);\n    let hours = Math.floor(abs / 60);\n    let mins = Math.round(abs % 60);\n    if (doIso) {\n        return `${sign + padStart(hours, 2)}:${padStart(mins, 2)}`;\n    }\n    return `GMT${sign}${hours}${mins ? `:${padStart(mins, 2)}` : ''}`;\n}\n\nfunction memoize(workerFunc, resEquality, teardownFunc) {\n    let currentArgs;\n    let currentRes;\n    return function (...newArgs) {\n        if (!currentArgs) {\n            currentRes = workerFunc.apply(this, newArgs);\n        }\n        else if (!isArraysEqual(currentArgs, newArgs)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            let res = workerFunc.apply(this, newArgs);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArgs = newArgs;\n        return currentRes;\n    };\n}\nfunction memoizeObjArg(workerFunc, resEquality, teardownFunc) {\n    let currentArg;\n    let currentRes;\n    return (newArg) => {\n        if (!currentArg) {\n            currentRes = workerFunc.call(this, newArg);\n        }\n        else if (!isPropsEqual(currentArg, newArg)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            let res = workerFunc.call(this, newArg);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArg = newArg;\n        return currentRes;\n    };\n}\nfunction memoizeArraylike(// used at all?\nworkerFunc, resEquality, teardownFunc) {\n    let currentArgSets = [];\n    let currentResults = [];\n    return (newArgSets) => {\n        let currentLen = currentArgSets.length;\n        let newLen = newArgSets.length;\n        let i = 0;\n        for (; i < currentLen; i += 1) {\n            if (!newArgSets[i]) { // one of the old sets no longer exists\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n            }\n            else if (!isArraysEqual(currentArgSets[i], newArgSets[i])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n                let res = workerFunc.apply(this, newArgSets[i]);\n                if (!resEquality || !resEquality(res, currentResults[i])) {\n                    currentResults[i] = res;\n                }\n            }\n        }\n        for (; i < newLen; i += 1) {\n            currentResults[i] = workerFunc.apply(this, newArgSets[i]);\n        }\n        currentArgSets = newArgSets;\n        currentResults.splice(newLen); // remove excess\n        return currentResults;\n    };\n}\nfunction memoizeHashlike(workerFunc, resEquality, teardownFunc) {\n    let currentArgHash = {};\n    let currentResHash = {};\n    return (newArgHash) => {\n        let newResHash = {};\n        for (let key in newArgHash) {\n            if (!currentResHash[key]) {\n                newResHash[key] = workerFunc.apply(this, newArgHash[key]);\n            }\n            else if (!isArraysEqual(currentArgHash[key], newArgHash[key])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResHash[key]);\n                }\n                let res = workerFunc.apply(this, newArgHash[key]);\n                newResHash[key] = (resEquality && resEquality(res, currentResHash[key]))\n                    ? currentResHash[key]\n                    : res;\n            }\n            else {\n                newResHash[key] = currentResHash[key];\n            }\n        }\n        currentArgHash = newArgHash;\n        currentResHash = newResHash;\n        return newResHash;\n    };\n}\n\nconst EXTENDED_SETTINGS_AND_SEVERITIES = {\n    week: 3,\n    separator: 0,\n    omitZeroMinute: 0,\n    meridiem: 0,\n    omitCommas: 0,\n};\nconst STANDARD_DATE_PROP_SEVERITIES = {\n    timeZoneName: 7,\n    era: 6,\n    year: 5,\n    month: 4,\n    day: 2,\n    weekday: 2,\n    hour: 1,\n    minute: 1,\n    second: 1,\n};\nconst MERIDIEM_RE = /\\s*([ap])\\.?m\\.?/i; // eats up leading spaces too\nconst COMMA_RE = /,/g; // we need re for globalness\nconst MULTI_SPACE_RE = /\\s+/g;\nconst LTR_RE = /\\u200e/g; // control character\nconst UTC_RE = /UTC|GMT/;\nclass NativeFormatter {\n    constructor(formatSettings) {\n        let standardDateProps = {};\n        let extendedSettings = {};\n        let severity = 0;\n        for (let name in formatSettings) {\n            if (name in EXTENDED_SETTINGS_AND_SEVERITIES) {\n                extendedSettings[name] = formatSettings[name];\n                severity = Math.max(EXTENDED_SETTINGS_AND_SEVERITIES[name], severity);\n            }\n            else {\n                standardDateProps[name] = formatSettings[name];\n                if (name in STANDARD_DATE_PROP_SEVERITIES) { // TODO: what about hour12? no severity\n                    severity = Math.max(STANDARD_DATE_PROP_SEVERITIES[name], severity);\n                }\n            }\n        }\n        this.standardDateProps = standardDateProps;\n        this.extendedSettings = extendedSettings;\n        this.severity = severity;\n        this.buildFormattingFunc = memoize(buildFormattingFunc);\n    }\n    format(date, context) {\n        return this.buildFormattingFunc(this.standardDateProps, this.extendedSettings, context)(date);\n    }\n    formatRange(start, end, context, betterDefaultSeparator) {\n        let { standardDateProps, extendedSettings } = this;\n        let diffSeverity = computeMarkerDiffSeverity(start.marker, end.marker, context.calendarSystem);\n        if (!diffSeverity) {\n            return this.format(start, context);\n        }\n        let biggestUnitForPartial = diffSeverity;\n        if (biggestUnitForPartial > 1 && // the two dates are different in a way that's larger scale than time\n            (standardDateProps.year === 'numeric' || standardDateProps.year === '2-digit') &&\n            (standardDateProps.month === 'numeric' || standardDateProps.month === '2-digit') &&\n            (standardDateProps.day === 'numeric' || standardDateProps.day === '2-digit')) {\n            biggestUnitForPartial = 1; // make it look like the dates are only different in terms of time\n        }\n        let full0 = this.format(start, context);\n        let full1 = this.format(end, context);\n        if (full0 === full1) {\n            return full0;\n        }\n        let partialDateProps = computePartialFormattingOptions(standardDateProps, biggestUnitForPartial);\n        let partialFormattingFunc = buildFormattingFunc(partialDateProps, extendedSettings, context);\n        let partial0 = partialFormattingFunc(start);\n        let partial1 = partialFormattingFunc(end);\n        let insertion = findCommonInsertion(full0, partial0, full1, partial1);\n        let separator = extendedSettings.separator || betterDefaultSeparator || context.defaultSeparator || '';\n        if (insertion) {\n            return insertion.before + partial0 + separator + partial1 + insertion.after;\n        }\n        return full0 + separator + full1;\n    }\n    getLargestUnit() {\n        switch (this.severity) {\n            case 7:\n            case 6:\n            case 5:\n                return 'year';\n            case 4:\n                return 'month';\n            case 3:\n                return 'week';\n            case 2:\n                return 'day';\n            default:\n                return 'time'; // really?\n        }\n    }\n}\nfunction buildFormattingFunc(standardDateProps, extendedSettings, context) {\n    let standardDatePropCnt = Object.keys(standardDateProps).length;\n    if (standardDatePropCnt === 1 && standardDateProps.timeZoneName === 'short') {\n        return (date) => (formatTimeZoneOffset(date.timeZoneOffset));\n    }\n    if (standardDatePropCnt === 0 && extendedSettings.week) {\n        return (date) => (formatWeekNumber(context.computeWeekNumber(date.marker), context.weekText, context.weekTextLong, context.locale, extendedSettings.week));\n    }\n    return buildNativeFormattingFunc(standardDateProps, extendedSettings, context);\n}\nfunction buildNativeFormattingFunc(standardDateProps, extendedSettings, context) {\n    standardDateProps = Object.assign({}, standardDateProps); // copy\n    extendedSettings = Object.assign({}, extendedSettings); // copy\n    sanitizeSettings(standardDateProps, extendedSettings);\n    standardDateProps.timeZone = 'UTC'; // we leverage the only guaranteed timeZone for our UTC markers\n    let normalFormat = new Intl.DateTimeFormat(context.locale.codes, standardDateProps);\n    let zeroFormat; // needed?\n    if (extendedSettings.omitZeroMinute) {\n        let zeroProps = Object.assign({}, standardDateProps);\n        delete zeroProps.minute; // seconds and ms were already considered in sanitizeSettings\n        zeroFormat = new Intl.DateTimeFormat(context.locale.codes, zeroProps);\n    }\n    return (date) => {\n        let { marker } = date;\n        let format;\n        if (zeroFormat && !marker.getUTCMinutes()) {\n            format = zeroFormat;\n        }\n        else {\n            format = normalFormat;\n        }\n        let s = format.format(marker);\n        return postProcess(s, date, standardDateProps, extendedSettings, context);\n    };\n}\nfunction sanitizeSettings(standardDateProps, extendedSettings) {\n    // deal with a browser inconsistency where formatting the timezone\n    // requires that the hour/minute be present.\n    if (standardDateProps.timeZoneName) {\n        if (!standardDateProps.hour) {\n            standardDateProps.hour = '2-digit';\n        }\n        if (!standardDateProps.minute) {\n            standardDateProps.minute = '2-digit';\n        }\n    }\n    // only support short timezone names\n    if (standardDateProps.timeZoneName === 'long') {\n        standardDateProps.timeZoneName = 'short';\n    }\n    // if requesting to display seconds, MUST display minutes\n    if (extendedSettings.omitZeroMinute && (standardDateProps.second || standardDateProps.millisecond)) {\n        delete extendedSettings.omitZeroMinute;\n    }\n}\nfunction postProcess(s, date, standardDateProps, extendedSettings, context) {\n    s = s.replace(LTR_RE, ''); // remove left-to-right control chars. do first. good for other regexes\n    if (standardDateProps.timeZoneName === 'short') {\n        s = injectTzoStr(s, (context.timeZone === 'UTC' || date.timeZoneOffset == null) ?\n            'UTC' : // important to normalize for IE, which does \"GMT\"\n            formatTimeZoneOffset(date.timeZoneOffset));\n    }\n    if (extendedSettings.omitCommas) {\n        s = s.replace(COMMA_RE, '').trim();\n    }\n    if (extendedSettings.omitZeroMinute) {\n        s = s.replace(':00', ''); // zeroFormat doesn't always achieve this\n    }\n    // ^ do anything that might create adjacent spaces before this point,\n    // because MERIDIEM_RE likes to eat up loading spaces\n    if (extendedSettings.meridiem === false) {\n        s = s.replace(MERIDIEM_RE, '').trim();\n    }\n    else if (extendedSettings.meridiem === 'narrow') { // a/p\n        s = s.replace(MERIDIEM_RE, (m0, m1) => m1.toLocaleLowerCase());\n    }\n    else if (extendedSettings.meridiem === 'short') { // am/pm\n        s = s.replace(MERIDIEM_RE, (m0, m1) => `${m1.toLocaleLowerCase()}m`);\n    }\n    else if (extendedSettings.meridiem === 'lowercase') { // other meridiem transformers already converted to lowercase\n        s = s.replace(MERIDIEM_RE, (m0) => m0.toLocaleLowerCase());\n    }\n    s = s.replace(MULTI_SPACE_RE, ' ');\n    s = s.trim();\n    return s;\n}\nfunction injectTzoStr(s, tzoStr) {\n    let replaced = false;\n    s = s.replace(UTC_RE, () => {\n        replaced = true;\n        return tzoStr;\n    });\n    // IE11 doesn't include UTC/GMT in the original string, so append to end\n    if (!replaced) {\n        s += ` ${tzoStr}`;\n    }\n    return s;\n}\nfunction formatWeekNumber(num, weekText, weekTextLong, locale, display) {\n    let parts = [];\n    if (display === 'long') {\n        parts.push(weekTextLong);\n    }\n    else if (display === 'short' || display === 'narrow') {\n        parts.push(weekText);\n    }\n    if (display === 'long' || display === 'short') {\n        parts.push(' ');\n    }\n    parts.push(locale.simpleNumberFormat.format(num));\n    if (locale.options.direction === 'rtl') { // TODO: use control characters instead?\n        parts.reverse();\n    }\n    return parts.join('');\n}\n// Range Formatting Utils\n// 0 = exactly the same\n// 1 = different by time\n// and bigger\nfunction computeMarkerDiffSeverity(d0, d1, ca) {\n    if (ca.getMarkerYear(d0) !== ca.getMarkerYear(d1)) {\n        return 5;\n    }\n    if (ca.getMarkerMonth(d0) !== ca.getMarkerMonth(d1)) {\n        return 4;\n    }\n    if (ca.getMarkerDay(d0) !== ca.getMarkerDay(d1)) {\n        return 2;\n    }\n    if (timeAsMs(d0) !== timeAsMs(d1)) {\n        return 1;\n    }\n    return 0;\n}\nfunction computePartialFormattingOptions(options, biggestUnit) {\n    let partialOptions = {};\n    for (let name in options) {\n        if (!(name in STANDARD_DATE_PROP_SEVERITIES) || // not a date part prop (like timeZone)\n            STANDARD_DATE_PROP_SEVERITIES[name] <= biggestUnit) {\n            partialOptions[name] = options[name];\n        }\n    }\n    return partialOptions;\n}\nfunction findCommonInsertion(full0, partial0, full1, partial1) {\n    let i0 = 0;\n    while (i0 < full0.length) {\n        let found0 = full0.indexOf(partial0, i0);\n        if (found0 === -1) {\n            break;\n        }\n        let before0 = full0.substr(0, found0);\n        i0 = found0 + partial0.length;\n        let after0 = full0.substr(i0);\n        let i1 = 0;\n        while (i1 < full1.length) {\n            let found1 = full1.indexOf(partial1, i1);\n            if (found1 === -1) {\n                break;\n            }\n            let before1 = full1.substr(0, found1);\n            i1 = found1 + partial1.length;\n            let after1 = full1.substr(i1);\n            if (before0 === before1 && after0 === after1) {\n                return {\n                    before: before0,\n                    after: after0,\n                };\n            }\n        }\n    }\n    return null;\n}\n\nfunction expandZonedMarker(dateInfo, calendarSystem) {\n    let a = calendarSystem.markerToArray(dateInfo.marker);\n    return {\n        marker: dateInfo.marker,\n        timeZoneOffset: dateInfo.timeZoneOffset,\n        array: a,\n        year: a[0],\n        month: a[1],\n        day: a[2],\n        hour: a[3],\n        minute: a[4],\n        second: a[5],\n        millisecond: a[6],\n    };\n}\n\nfunction createVerboseFormattingArg(start, end, context, betterDefaultSeparator) {\n    let startInfo = expandZonedMarker(start, context.calendarSystem);\n    let endInfo = end ? expandZonedMarker(end, context.calendarSystem) : null;\n    return {\n        date: startInfo,\n        start: startInfo,\n        end: endInfo,\n        timeZone: context.timeZone,\n        localeCodes: context.locale.codes,\n        defaultSeparator: betterDefaultSeparator || context.defaultSeparator,\n    };\n}\n\n/*\nTODO: fix the terminology of \"formatter\" vs \"formatting func\"\n*/\n/*\nAt the time of instantiation, this object does not know which cmd-formatting system it will use.\nIt receives this at the time of formatting, as a setting.\n*/\nclass CmdFormatter {\n    constructor(cmdStr) {\n        this.cmdStr = cmdStr;\n    }\n    format(date, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    }\n    formatRange(start, end, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    }\n}\n\nclass FuncFormatter {\n    constructor(func) {\n        this.func = func;\n    }\n    format(date, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    }\n    formatRange(start, end, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    }\n}\n\nfunction createFormatter(input) {\n    if (typeof input === 'object' && input) { // non-null object\n        return new NativeFormatter(input);\n    }\n    if (typeof input === 'string') {\n        return new CmdFormatter(input);\n    }\n    if (typeof input === 'function') {\n        return new FuncFormatter(input);\n    }\n    return null;\n}\n\n// base options\n// ------------\nconst BASE_OPTION_REFINERS = {\n    navLinkDayClick: identity,\n    navLinkWeekClick: identity,\n    duration: createDuration,\n    bootstrapFontAwesome: identity,\n    buttonIcons: identity,\n    customButtons: identity,\n    defaultAllDayEventDuration: createDuration,\n    defaultTimedEventDuration: createDuration,\n    nextDayThreshold: createDuration,\n    scrollTime: createDuration,\n    scrollTimeReset: Boolean,\n    slotMinTime: createDuration,\n    slotMaxTime: createDuration,\n    dayPopoverFormat: createFormatter,\n    slotDuration: createDuration,\n    snapDuration: createDuration,\n    headerToolbar: identity,\n    footerToolbar: identity,\n    defaultRangeSeparator: String,\n    titleRangeSeparator: String,\n    forceEventDuration: Boolean,\n    dayHeaders: Boolean,\n    dayHeaderFormat: createFormatter,\n    dayHeaderClassNames: identity,\n    dayHeaderContent: identity,\n    dayHeaderDidMount: identity,\n    dayHeaderWillUnmount: identity,\n    dayCellClassNames: identity,\n    dayCellContent: identity,\n    dayCellDidMount: identity,\n    dayCellWillUnmount: identity,\n    initialView: String,\n    aspectRatio: Number,\n    weekends: Boolean,\n    weekNumberCalculation: identity,\n    weekNumbers: Boolean,\n    weekNumberClassNames: identity,\n    weekNumberContent: identity,\n    weekNumberDidMount: identity,\n    weekNumberWillUnmount: identity,\n    editable: Boolean,\n    viewClassNames: identity,\n    viewDidMount: identity,\n    viewWillUnmount: identity,\n    nowIndicator: Boolean,\n    nowIndicatorClassNames: identity,\n    nowIndicatorContent: identity,\n    nowIndicatorDidMount: identity,\n    nowIndicatorWillUnmount: identity,\n    showNonCurrentDates: Boolean,\n    lazyFetching: Boolean,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n    timeZone: String,\n    locales: identity,\n    locale: identity,\n    themeSystem: String,\n    dragRevertDuration: Number,\n    dragScroll: Boolean,\n    allDayMaintainDuration: Boolean,\n    unselectAuto: Boolean,\n    dropAccept: identity,\n    eventOrder: parseFieldSpecs,\n    eventOrderStrict: Boolean,\n    handleWindowResize: Boolean,\n    windowResizeDelay: Number,\n    longPressDelay: Number,\n    eventDragMinDistance: Number,\n    expandRows: Boolean,\n    height: identity,\n    contentHeight: identity,\n    direction: String,\n    weekNumberFormat: createFormatter,\n    eventResizableFromStart: Boolean,\n    displayEventTime: Boolean,\n    displayEventEnd: Boolean,\n    weekText: String,\n    weekTextLong: String,\n    progressiveEventRendering: Boolean,\n    businessHours: identity,\n    initialDate: identity,\n    now: identity,\n    eventDataTransform: identity,\n    stickyHeaderDates: identity,\n    stickyFooterScrollbar: identity,\n    viewHeight: identity,\n    defaultAllDay: Boolean,\n    eventSourceFailure: identity,\n    eventSourceSuccess: identity,\n    eventDisplay: String,\n    eventStartEditable: Boolean,\n    eventDurationEditable: Boolean,\n    eventOverlap: identity,\n    eventConstraint: identity,\n    eventAllow: identity,\n    eventBackgroundColor: String,\n    eventBorderColor: String,\n    eventTextColor: String,\n    eventColor: String,\n    eventClassNames: identity,\n    eventContent: identity,\n    eventDidMount: identity,\n    eventWillUnmount: identity,\n    selectConstraint: identity,\n    selectOverlap: identity,\n    selectAllow: identity,\n    droppable: Boolean,\n    unselectCancel: String,\n    slotLabelFormat: identity,\n    slotLaneClassNames: identity,\n    slotLaneContent: identity,\n    slotLaneDidMount: identity,\n    slotLaneWillUnmount: identity,\n    slotLabelClassNames: identity,\n    slotLabelContent: identity,\n    slotLabelDidMount: identity,\n    slotLabelWillUnmount: identity,\n    dayMaxEvents: identity,\n    dayMaxEventRows: identity,\n    dayMinWidth: Number,\n    slotLabelInterval: createDuration,\n    allDayText: String,\n    allDayClassNames: identity,\n    allDayContent: identity,\n    allDayDidMount: identity,\n    allDayWillUnmount: identity,\n    slotMinWidth: Number,\n    navLinks: Boolean,\n    eventTimeFormat: createFormatter,\n    rerenderDelay: Number,\n    moreLinkText: identity,\n    moreLinkHint: identity,\n    selectMinDistance: Number,\n    selectable: Boolean,\n    selectLongPressDelay: Number,\n    eventLongPressDelay: Number,\n    selectMirror: Boolean,\n    eventMaxStack: Number,\n    eventMinHeight: Number,\n    eventMinWidth: Number,\n    eventShortHeight: Number,\n    slotEventOverlap: Boolean,\n    plugins: identity,\n    firstDay: Number,\n    dayCount: Number,\n    dateAlignment: String,\n    dateIncrement: createDuration,\n    hiddenDays: identity,\n    fixedWeekCount: Boolean,\n    validRange: identity,\n    visibleRange: identity,\n    titleFormat: identity,\n    eventInteractive: Boolean,\n    // only used by list-view, but languages define the value, so we need it in base options\n    noEventsText: String,\n    viewHint: identity,\n    navLinkHint: identity,\n    closeHint: String,\n    timeHint: String,\n    eventHint: String,\n    moreLinkClick: identity,\n    moreLinkClassNames: identity,\n    moreLinkContent: identity,\n    moreLinkDidMount: identity,\n    moreLinkWillUnmount: identity,\n    monthStartFormat: createFormatter,\n    // for connectors\n    // (can't be part of plugin system b/c must be provided at runtime)\n    handleCustomRendering: identity,\n    customRenderingMetaMap: identity,\n    customRenderingReplaces: Boolean,\n};\n// do NOT give a type here. need `typeof BASE_OPTION_DEFAULTS` to give real results.\n// raw values.\nconst BASE_OPTION_DEFAULTS = {\n    eventDisplay: 'auto',\n    defaultRangeSeparator: ' - ',\n    titleRangeSeparator: ' \\u2013 ',\n    defaultTimedEventDuration: '01:00:00',\n    defaultAllDayEventDuration: { day: 1 },\n    forceEventDuration: false,\n    nextDayThreshold: '00:00:00',\n    dayHeaders: true,\n    initialView: '',\n    aspectRatio: 1.35,\n    headerToolbar: {\n        start: 'title',\n        center: '',\n        end: 'today prev,next',\n    },\n    weekends: true,\n    weekNumbers: false,\n    weekNumberCalculation: 'local',\n    editable: false,\n    nowIndicator: false,\n    scrollTime: '06:00:00',\n    scrollTimeReset: true,\n    slotMinTime: '00:00:00',\n    slotMaxTime: '24:00:00',\n    showNonCurrentDates: true,\n    lazyFetching: true,\n    startParam: 'start',\n    endParam: 'end',\n    timeZoneParam: 'timeZone',\n    timeZone: 'local',\n    locales: [],\n    locale: '',\n    themeSystem: 'standard',\n    dragRevertDuration: 500,\n    dragScroll: true,\n    allDayMaintainDuration: false,\n    unselectAuto: true,\n    dropAccept: '*',\n    eventOrder: 'start,-duration,allDay,title',\n    dayPopoverFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n    handleWindowResize: true,\n    windowResizeDelay: 100,\n    longPressDelay: 1000,\n    eventDragMinDistance: 5,\n    expandRows: false,\n    navLinks: false,\n    selectable: false,\n    eventMinHeight: 15,\n    eventMinWidth: 30,\n    eventShortHeight: 30,\n    monthStartFormat: { month: 'long', day: 'numeric' },\n};\n// calendar listeners\n// ------------------\nconst CALENDAR_LISTENER_REFINERS = {\n    datesSet: identity,\n    eventsSet: identity,\n    eventAdd: identity,\n    eventChange: identity,\n    eventRemove: identity,\n    windowResize: identity,\n    eventClick: identity,\n    eventMouseEnter: identity,\n    eventMouseLeave: identity,\n    select: identity,\n    unselect: identity,\n    loading: identity,\n    // internal\n    _unmount: identity,\n    _beforeprint: identity,\n    _afterprint: identity,\n    _noEventDrop: identity,\n    _noEventResize: identity,\n    _resize: identity,\n    _scrollRequest: identity,\n};\n// calendar-specific options\n// -------------------------\nconst CALENDAR_OPTION_REFINERS = {\n    buttonText: identity,\n    buttonHints: identity,\n    views: identity,\n    plugins: identity,\n    initialEvents: identity,\n    events: identity,\n    eventSources: identity,\n};\nconst COMPLEX_OPTION_COMPARATORS = {\n    headerToolbar: isMaybeObjectsEqual,\n    footerToolbar: isMaybeObjectsEqual,\n    buttonText: isMaybeObjectsEqual,\n    buttonHints: isMaybeObjectsEqual,\n    buttonIcons: isMaybeObjectsEqual,\n    dateIncrement: isMaybeObjectsEqual,\n    plugins: isMaybeArraysEqual,\n    events: isMaybeArraysEqual,\n    eventSources: isMaybeArraysEqual,\n    ['resources']: isMaybeArraysEqual,\n};\nfunction isMaybeObjectsEqual(a, b) {\n    if (typeof a === 'object' && typeof b === 'object' && a && b) { // both non-null objects\n        return isPropsEqual(a, b);\n    }\n    return a === b;\n}\nfunction isMaybeArraysEqual(a, b) {\n    if (Array.isArray(a) && Array.isArray(b)) {\n        return isArraysEqual(a, b);\n    }\n    return a === b;\n}\n// view-specific options\n// ---------------------\nconst VIEW_OPTION_REFINERS = {\n    type: String,\n    component: identity,\n    buttonText: String,\n    buttonTextKey: String,\n    dateProfileGeneratorClass: identity,\n    usesMinMaxTime: Boolean,\n    classNames: identity,\n    content: identity,\n    didMount: identity,\n    willUnmount: identity,\n};\n// util funcs\n// ----------------------------------------------------------------------------------------------------\nfunction mergeRawOptions(optionSets) {\n    return mergeProps(optionSets, COMPLEX_OPTION_COMPARATORS);\n}\nfunction refineProps(input, refiners) {\n    let refined = {};\n    let extra = {};\n    for (let propName in refiners) {\n        if (propName in input) {\n            refined[propName] = refiners[propName](input[propName]);\n        }\n    }\n    for (let propName in input) {\n        if (!(propName in refiners)) {\n            extra[propName] = input[propName];\n        }\n    }\n    return { refined, extra };\n}\nfunction identity(raw) {\n    return raw;\n}\n\nconst { hasOwnProperty } = Object.prototype;\n// Merges an array of objects into a single object.\n// The second argument allows for an array of property names who's object values will be merged together.\nfunction mergeProps(propObjs, complexPropsMap) {\n    let dest = {};\n    if (complexPropsMap) {\n        for (let name in complexPropsMap) {\n            if (complexPropsMap[name] === isMaybeObjectsEqual) { // implies that it's object-mergeable\n                let complexObjs = [];\n                // collect the trailing object values, stopping when a non-object is discovered\n                for (let i = propObjs.length - 1; i >= 0; i -= 1) {\n                    let val = propObjs[i][name];\n                    if (typeof val === 'object' && val) { // non-null object\n                        complexObjs.unshift(val);\n                    }\n                    else if (val !== undefined) {\n                        dest[name] = val; // if there were no objects, this value will be used\n                        break;\n                    }\n                }\n                // if the trailing values were objects, use the merged value\n                if (complexObjs.length) {\n                    dest[name] = mergeProps(complexObjs);\n                }\n            }\n        }\n    }\n    // copy values into the destination, going from last to first\n    for (let i = propObjs.length - 1; i >= 0; i -= 1) {\n        let props = propObjs[i];\n        for (let name in props) {\n            if (!(name in dest)) { // if already assigned by previous props or complex props, don't reassign\n                dest[name] = props[name];\n            }\n        }\n    }\n    return dest;\n}\nfunction filterHash(hash, func) {\n    let filtered = {};\n    for (let key in hash) {\n        if (func(hash[key], key)) {\n            filtered[key] = hash[key];\n        }\n    }\n    return filtered;\n}\nfunction mapHash(hash, func) {\n    let newHash = {};\n    for (let key in hash) {\n        newHash[key] = func(hash[key], key);\n    }\n    return newHash;\n}\nfunction arrayToHash(a) {\n    let hash = {};\n    for (let item of a) {\n        hash[item] = true;\n    }\n    return hash;\n}\n// TODO: reassess browser support\n// https://caniuse.com/?search=object.values\nfunction hashValuesToArray(obj) {\n    let a = [];\n    for (let key in obj) {\n        a.push(obj[key]);\n    }\n    return a;\n}\nfunction isPropsEqual(obj0, obj1) {\n    if (obj0 === obj1) {\n        return true;\n    }\n    for (let key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                return false;\n            }\n        }\n    }\n    for (let key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nconst HANDLER_RE = /^on[A-Z]/;\nfunction isNonHandlerPropsEqual(obj0, obj1) {\n    const keys = getUnequalProps(obj0, obj1);\n    for (let key of keys) {\n        if (!HANDLER_RE.test(key)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction getUnequalProps(obj0, obj1) {\n    let keys = [];\n    for (let key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                keys.push(key);\n            }\n        }\n    }\n    for (let key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                keys.push(key);\n            }\n        }\n    }\n    return keys;\n}\nfunction compareObjs(oldProps, newProps, equalityFuncs = {}) {\n    if (oldProps === newProps) {\n        return true;\n    }\n    for (let key in newProps) {\n        if (key in oldProps && isObjValsEqual(oldProps[key], newProps[key], equalityFuncs[key])) ;\n        else {\n            return false;\n        }\n    }\n    // check for props that were omitted in the new\n    for (let key in oldProps) {\n        if (!(key in newProps)) {\n            return false;\n        }\n    }\n    return true;\n}\n/*\nassumed \"true\" equality for handler names like \"onReceiveSomething\"\n*/\nfunction isObjValsEqual(val0, val1, comparator) {\n    if (val0 === val1 || comparator === true) {\n        return true;\n    }\n    if (comparator) {\n        return comparator(val0, val1);\n    }\n    return false;\n}\nfunction collectFromHash(hash, startIndex = 0, endIndex, step = 1) {\n    let res = [];\n    if (endIndex == null) {\n        endIndex = Object.keys(hash).length;\n    }\n    for (let i = startIndex; i < endIndex; i += step) {\n        let val = hash[i];\n        if (val !== undefined) { // will disregard undefined for sparse arrays\n            res.push(val);\n        }\n    }\n    return res;\n}\n\nlet calendarSystemClassMap = {};\nfunction registerCalendarSystem(name, theClass) {\n    calendarSystemClassMap[name] = theClass;\n}\nfunction createCalendarSystem(name) {\n    return new calendarSystemClassMap[name]();\n}\nclass GregorianCalendarSystem {\n    getMarkerYear(d) {\n        return d.getUTCFullYear();\n    }\n    getMarkerMonth(d) {\n        return d.getUTCMonth();\n    }\n    getMarkerDay(d) {\n        return d.getUTCDate();\n    }\n    arrayToMarker(arr) {\n        return arrayToUtcDate(arr);\n    }\n    markerToArray(marker) {\n        return dateToUtcArray(marker);\n    }\n}\nregisterCalendarSystem('gregory', GregorianCalendarSystem);\n\nconst ISO_RE = /^\\s*(\\d{4})(-?(\\d{2})(-?(\\d{2})([T ](\\d{2}):?(\\d{2})(:?(\\d{2})(\\.(\\d+))?)?(Z|(([-+])(\\d{2})(:?(\\d{2}))?))?)?)?)?$/;\nfunction parse(str) {\n    let m = ISO_RE.exec(str);\n    if (m) {\n        let marker = new Date(Date.UTC(Number(m[1]), m[3] ? Number(m[3]) - 1 : 0, Number(m[5] || 1), Number(m[7] || 0), Number(m[8] || 0), Number(m[10] || 0), m[12] ? Number(`0.${m[12]}`) * 1000 : 0));\n        if (isValidDate(marker)) {\n            let timeZoneOffset = null;\n            if (m[13]) {\n                timeZoneOffset = (m[15] === '-' ? -1 : 1) * (Number(m[16] || 0) * 60 +\n                    Number(m[18] || 0));\n            }\n            return {\n                marker,\n                isTimeUnspecified: !m[6],\n                timeZoneOffset,\n            };\n        }\n    }\n    return null;\n}\n\nclass DateEnv {\n    constructor(settings) {\n        let timeZone = this.timeZone = settings.timeZone;\n        let isNamedTimeZone = timeZone !== 'local' && timeZone !== 'UTC';\n        if (settings.namedTimeZoneImpl && isNamedTimeZone) {\n            this.namedTimeZoneImpl = new settings.namedTimeZoneImpl(timeZone);\n        }\n        this.canComputeOffset = Boolean(!isNamedTimeZone || this.namedTimeZoneImpl);\n        this.calendarSystem = createCalendarSystem(settings.calendarSystem);\n        this.locale = settings.locale;\n        this.weekDow = settings.locale.week.dow;\n        this.weekDoy = settings.locale.week.doy;\n        if (settings.weekNumberCalculation === 'ISO') {\n            this.weekDow = 1;\n            this.weekDoy = 4;\n        }\n        if (typeof settings.firstDay === 'number') {\n            this.weekDow = settings.firstDay;\n        }\n        if (typeof settings.weekNumberCalculation === 'function') {\n            this.weekNumberFunc = settings.weekNumberCalculation;\n        }\n        this.weekText = settings.weekText != null ? settings.weekText : settings.locale.options.weekText;\n        this.weekTextLong = (settings.weekTextLong != null ? settings.weekTextLong : settings.locale.options.weekTextLong) || this.weekText;\n        this.cmdFormatter = settings.cmdFormatter;\n        this.defaultSeparator = settings.defaultSeparator;\n    }\n    // Creating / Parsing\n    createMarker(input) {\n        let meta = this.createMarkerMeta(input);\n        if (meta === null) {\n            return null;\n        }\n        return meta.marker;\n    }\n    createNowMarker() {\n        if (this.canComputeOffset) {\n            return this.timestampToMarker(new Date().valueOf());\n        }\n        // if we can't compute the current date val for a timezone,\n        // better to give the current local date vals than UTC\n        return arrayToUtcDate(dateToLocalArray(new Date()));\n    }\n    createMarkerMeta(input) {\n        if (typeof input === 'string') {\n            return this.parse(input);\n        }\n        let marker = null;\n        if (typeof input === 'number') {\n            marker = this.timestampToMarker(input);\n        }\n        else if (input instanceof Date) {\n            input = input.valueOf();\n            if (!isNaN(input)) {\n                marker = this.timestampToMarker(input);\n            }\n        }\n        else if (Array.isArray(input)) {\n            marker = arrayToUtcDate(input);\n        }\n        if (marker === null || !isValidDate(marker)) {\n            return null;\n        }\n        return { marker, isTimeUnspecified: false, forcedTzo: null };\n    }\n    parse(s) {\n        let parts = parse(s);\n        if (parts === null) {\n            return null;\n        }\n        let { marker } = parts;\n        let forcedTzo = null;\n        if (parts.timeZoneOffset !== null) {\n            if (this.canComputeOffset) {\n                marker = this.timestampToMarker(marker.valueOf() - parts.timeZoneOffset * 60 * 1000);\n            }\n            else {\n                forcedTzo = parts.timeZoneOffset;\n            }\n        }\n        return { marker, isTimeUnspecified: parts.isTimeUnspecified, forcedTzo };\n    }\n    // Accessors\n    getYear(marker) {\n        return this.calendarSystem.getMarkerYear(marker);\n    }\n    getMonth(marker) {\n        return this.calendarSystem.getMarkerMonth(marker);\n    }\n    getDay(marker) {\n        return this.calendarSystem.getMarkerDay(marker);\n    }\n    // Adding / Subtracting\n    add(marker, dur) {\n        let a = this.calendarSystem.markerToArray(marker);\n        a[0] += dur.years;\n        a[1] += dur.months;\n        a[2] += dur.days;\n        a[6] += dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    }\n    subtract(marker, dur) {\n        let a = this.calendarSystem.markerToArray(marker);\n        a[0] -= dur.years;\n        a[1] -= dur.months;\n        a[2] -= dur.days;\n        a[6] -= dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    }\n    addYears(marker, n) {\n        let a = this.calendarSystem.markerToArray(marker);\n        a[0] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    }\n    addMonths(marker, n) {\n        let a = this.calendarSystem.markerToArray(marker);\n        a[1] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    }\n    // Diffing Whole Units\n    diffWholeYears(m0, m1) {\n        let { calendarSystem } = this;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1) &&\n            calendarSystem.getMarkerMonth(m0) === calendarSystem.getMarkerMonth(m1)) {\n            return calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0);\n        }\n        return null;\n    }\n    diffWholeMonths(m0, m1) {\n        let { calendarSystem } = this;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1)) {\n            return (calendarSystem.getMarkerMonth(m1) - calendarSystem.getMarkerMonth(m0)) +\n                (calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0)) * 12;\n        }\n        return null;\n    }\n    // Range / Duration\n    greatestWholeUnit(m0, m1) {\n        let n = this.diffWholeYears(m0, m1);\n        if (n !== null) {\n            return { unit: 'year', value: n };\n        }\n        n = this.diffWholeMonths(m0, m1);\n        if (n !== null) {\n            return { unit: 'month', value: n };\n        }\n        n = diffWholeWeeks(m0, m1);\n        if (n !== null) {\n            return { unit: 'week', value: n };\n        }\n        n = diffWholeDays(m0, m1);\n        if (n !== null) {\n            return { unit: 'day', value: n };\n        }\n        n = diffHours(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'hour', value: n };\n        }\n        n = diffMinutes(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'minute', value: n };\n        }\n        n = diffSeconds(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'second', value: n };\n        }\n        return { unit: 'millisecond', value: m1.valueOf() - m0.valueOf() };\n    }\n    countDurationsBetween(m0, m1, d) {\n        // TODO: can use greatestWholeUnit\n        let diff;\n        if (d.years) {\n            diff = this.diffWholeYears(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughYears(d);\n            }\n        }\n        if (d.months) {\n            diff = this.diffWholeMonths(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughMonths(d);\n            }\n        }\n        if (d.days) {\n            diff = diffWholeDays(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughDays(d);\n            }\n        }\n        return (m1.valueOf() - m0.valueOf()) / asRoughMs(d);\n    }\n    // Start-Of\n    // these DON'T return zoned-dates. only UTC start-of dates\n    startOf(m, unit) {\n        if (unit === 'year') {\n            return this.startOfYear(m);\n        }\n        if (unit === 'month') {\n            return this.startOfMonth(m);\n        }\n        if (unit === 'week') {\n            return this.startOfWeek(m);\n        }\n        if (unit === 'day') {\n            return startOfDay(m);\n        }\n        if (unit === 'hour') {\n            return startOfHour(m);\n        }\n        if (unit === 'minute') {\n            return startOfMinute(m);\n        }\n        if (unit === 'second') {\n            return startOfSecond(m);\n        }\n        return null;\n    }\n    startOfYear(m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n        ]);\n    }\n    startOfMonth(m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n        ]);\n    }\n    startOfWeek(m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n            m.getUTCDate() - ((m.getUTCDay() - this.weekDow + 7) % 7),\n        ]);\n    }\n    // Week Number\n    computeWeekNumber(marker) {\n        if (this.weekNumberFunc) {\n            return this.weekNumberFunc(this.toDate(marker));\n        }\n        return weekOfYear(marker, this.weekDow, this.weekDoy);\n    }\n    // TODO: choke on timeZoneName: long\n    format(marker, formatter, dateOptions = {}) {\n        return formatter.format({\n            marker,\n            timeZoneOffset: dateOptions.forcedTzo != null ?\n                dateOptions.forcedTzo :\n                this.offsetForMarker(marker),\n        }, this);\n    }\n    formatRange(start, end, formatter, dateOptions = {}) {\n        if (dateOptions.isEndExclusive) {\n            end = addMs(end, -1);\n        }\n        return formatter.formatRange({\n            marker: start,\n            timeZoneOffset: dateOptions.forcedStartTzo != null ?\n                dateOptions.forcedStartTzo :\n                this.offsetForMarker(start),\n        }, {\n            marker: end,\n            timeZoneOffset: dateOptions.forcedEndTzo != null ?\n                dateOptions.forcedEndTzo :\n                this.offsetForMarker(end),\n        }, this, dateOptions.defaultSeparator);\n    }\n    /*\n    DUMB: the omitTime arg is dumb. if we omit the time, we want to omit the timezone offset. and if we do that,\n    might as well use buildIsoString or some other util directly\n    */\n    formatIso(marker, extraOptions = {}) {\n        let timeZoneOffset = null;\n        if (!extraOptions.omitTimeZoneOffset) {\n            if (extraOptions.forcedTzo != null) {\n                timeZoneOffset = extraOptions.forcedTzo;\n            }\n            else {\n                timeZoneOffset = this.offsetForMarker(marker);\n            }\n        }\n        return buildIsoString(marker, timeZoneOffset, extraOptions.omitTime);\n    }\n    // TimeZone\n    timestampToMarker(ms) {\n        if (this.timeZone === 'local') {\n            return arrayToUtcDate(dateToLocalArray(new Date(ms)));\n        }\n        if (this.timeZone === 'UTC' || !this.namedTimeZoneImpl) {\n            return new Date(ms);\n        }\n        return arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(ms));\n    }\n    offsetForMarker(m) {\n        if (this.timeZone === 'local') {\n            return -arrayToLocalDate(dateToUtcArray(m)).getTimezoneOffset(); // convert \"inverse\" offset to \"normal\" offset\n        }\n        if (this.timeZone === 'UTC') {\n            return 0;\n        }\n        if (this.namedTimeZoneImpl) {\n            return this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m));\n        }\n        return null;\n    }\n    // Conversion\n    toDate(m, forcedTzo) {\n        if (this.timeZone === 'local') {\n            return arrayToLocalDate(dateToUtcArray(m));\n        }\n        if (this.timeZone === 'UTC') {\n            return new Date(m.valueOf()); // make sure it's a copy\n        }\n        if (!this.namedTimeZoneImpl) {\n            return new Date(m.valueOf() - (forcedTzo || 0));\n        }\n        return new Date(m.valueOf() -\n            this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m)) * 1000 * 60);\n    }\n}\n\nclass Theme {\n    constructor(calendarOptions) {\n        if (this.iconOverrideOption) {\n            this.setIconOverride(calendarOptions[this.iconOverrideOption]);\n        }\n    }\n    setIconOverride(iconOverrideHash) {\n        let iconClassesCopy;\n        let buttonName;\n        if (typeof iconOverrideHash === 'object' && iconOverrideHash) { // non-null object\n            iconClassesCopy = Object.assign({}, this.iconClasses);\n            for (buttonName in iconOverrideHash) {\n                iconClassesCopy[buttonName] = this.applyIconOverridePrefix(iconOverrideHash[buttonName]);\n            }\n            this.iconClasses = iconClassesCopy;\n        }\n        else if (iconOverrideHash === false) {\n            this.iconClasses = {};\n        }\n    }\n    applyIconOverridePrefix(className) {\n        let prefix = this.iconOverridePrefix;\n        if (prefix && className.indexOf(prefix) !== 0) { // if not already present\n            className = prefix + className;\n        }\n        return className;\n    }\n    getClass(key) {\n        return this.classes[key] || '';\n    }\n    getIconClass(buttonName, isRtl) {\n        let className;\n        if (isRtl && this.rtlIconClasses) {\n            className = this.rtlIconClasses[buttonName] || this.iconClasses[buttonName];\n        }\n        else {\n            className = this.iconClasses[buttonName];\n        }\n        if (className) {\n            return `${this.baseIconClass} ${className}`;\n        }\n        return '';\n    }\n    getCustomButtonIconClass(customButtonProps) {\n        let className;\n        if (this.iconOverrideCustomButtonOption) {\n            className = customButtonProps[this.iconOverrideCustomButtonOption];\n            if (className) {\n                return `${this.baseIconClass} ${this.applyIconOverridePrefix(className)}`;\n            }\n        }\n        return '';\n    }\n}\nTheme.prototype.classes = {};\nTheme.prototype.iconClasses = {};\nTheme.prototype.baseIconClass = '';\nTheme.prototype.iconOverridePrefix = '';\n\n/*\nNOTE: this can be a public API, especially createElement for hooks.\nSee examples/typescript-scheduler/src/index.ts\n*/\nfunction flushSync(runBeforeFlush) {\n    runBeforeFlush();\n    let oldDebounceRendering = preact.options.debounceRendering; // orig\n    let callbackQ = [];\n    function execCallbackSync(callback) {\n        callbackQ.push(callback);\n    }\n    preact.options.debounceRendering = execCallbackSync;\n    preact.render(preact.createElement(FakeComponent, {}), document.createElement('div'));\n    while (callbackQ.length) {\n        callbackQ.shift()();\n    }\n    preact.options.debounceRendering = oldDebounceRendering;\n}\nclass FakeComponent extends preact.Component {\n    render() { return preact.createElement('div', {}); }\n    componentDidMount() { this.setState({}); }\n}\n// TODO: use preact/compat instead?\nfunction createContext(defaultValue) {\n    let ContextType = preact.createContext(defaultValue);\n    let origProvider = ContextType.Provider;\n    ContextType.Provider = function () {\n        let isNew = !this.getChildContext;\n        let children = origProvider.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        if (isNew) {\n            let subs = [];\n            this.shouldComponentUpdate = (_props) => {\n                if (this.props.value !== _props.value) {\n                    subs.forEach((c) => {\n                        c.context = _props.value;\n                        c.forceUpdate();\n                    });\n                }\n            };\n            this.sub = (c) => {\n                subs.push(c);\n                let old = c.componentWillUnmount;\n                c.componentWillUnmount = () => {\n                    subs.splice(subs.indexOf(c), 1);\n                    old && old.call(c);\n                };\n            };\n        }\n        return children;\n    };\n    return ContextType;\n}\n\nclass ScrollResponder {\n    constructor(execFunc, emitter, scrollTime, scrollTimeReset) {\n        this.execFunc = execFunc;\n        this.emitter = emitter;\n        this.scrollTime = scrollTime;\n        this.scrollTimeReset = scrollTimeReset;\n        this.handleScrollRequest = (request) => {\n            this.queuedRequest = Object.assign({}, this.queuedRequest || {}, request);\n            this.drain();\n        };\n        emitter.on('_scrollRequest', this.handleScrollRequest);\n        this.fireInitialScroll();\n    }\n    detach() {\n        this.emitter.off('_scrollRequest', this.handleScrollRequest);\n    }\n    update(isDatesNew) {\n        if (isDatesNew && this.scrollTimeReset) {\n            this.fireInitialScroll(); // will drain\n        }\n        else {\n            this.drain();\n        }\n    }\n    fireInitialScroll() {\n        this.handleScrollRequest({\n            time: this.scrollTime,\n        });\n    }\n    drain() {\n        if (this.queuedRequest && this.execFunc(this.queuedRequest)) {\n            this.queuedRequest = null;\n        }\n    }\n}\n\nconst ViewContextType = createContext({}); // for Components\nfunction buildViewContext(viewSpec, viewApi, viewOptions, dateProfileGenerator, dateEnv, theme, pluginHooks, dispatch, getCurrentData, emitter, calendarApi, registerInteractiveComponent, unregisterInteractiveComponent) {\n    return {\n        dateEnv,\n        options: viewOptions,\n        pluginHooks,\n        emitter,\n        dispatch,\n        getCurrentData,\n        calendarApi,\n        viewSpec,\n        viewApi,\n        dateProfileGenerator,\n        theme,\n        isRtl: viewOptions.direction === 'rtl',\n        addResizeHandler(handler) {\n            emitter.on('_resize', handler);\n        },\n        removeResizeHandler(handler) {\n            emitter.off('_resize', handler);\n        },\n        createScrollResponder(execFunc) {\n            return new ScrollResponder(execFunc, emitter, createDuration(viewOptions.scrollTime), viewOptions.scrollTimeReset);\n        },\n        registerInteractiveComponent,\n        unregisterInteractiveComponent,\n    };\n}\n\n/* eslint max-classes-per-file: off */\nclass PureComponent extends Component {\n    shouldComponentUpdate(nextProps, nextState) {\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(getUnequalProps(nextProps, this.props), getUnequalProps(nextState, this.state));\n        }\n        return !compareObjs(this.props, nextProps, this.propEquality) ||\n            !compareObjs(this.state, nextState, this.stateEquality);\n    }\n    // HACK for freakin' React StrictMode\n    safeSetState(newState) {\n        if (!compareObjs(this.state, Object.assign(Object.assign({}, this.state), newState), this.stateEquality)) {\n            this.setState(newState);\n        }\n    }\n}\nPureComponent.addPropsEquality = addPropsEquality;\nPureComponent.addStateEquality = addStateEquality;\nPureComponent.contextType = ViewContextType;\nPureComponent.prototype.propEquality = {};\nPureComponent.prototype.stateEquality = {};\nclass BaseComponent extends PureComponent {\n}\nBaseComponent.contextType = ViewContextType;\nfunction addPropsEquality(propEquality) {\n    let hash = Object.create(this.prototype.propEquality);\n    Object.assign(hash, propEquality);\n    this.prototype.propEquality = hash;\n}\nfunction addStateEquality(stateEquality) {\n    let hash = Object.create(this.prototype.stateEquality);\n    Object.assign(hash, stateEquality);\n    this.prototype.stateEquality = hash;\n}\n// use other one\nfunction setRef(ref, current) {\n    if (typeof ref === 'function') {\n        ref(current);\n    }\n    else if (ref) {\n        // see https://github.com/facebook/react/issues/13029\n        ref.current = current;\n    }\n}\n\nclass ContentInjector extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.id = guid();\n        this.queuedDomNodes = [];\n        this.currentDomNodes = [];\n        this.handleEl = (el) => {\n            const { options } = this.context;\n            const { generatorName } = this.props;\n            if (!options.customRenderingReplaces || !hasCustomRenderingHandler(generatorName, options)) {\n                this.updateElRef(el);\n            }\n        };\n        this.updateElRef = (el) => {\n            if (this.props.elRef) {\n                setRef(this.props.elRef, el);\n            }\n        };\n    }\n    render() {\n        const { props, context } = this;\n        const { options } = context;\n        const { customGenerator, defaultGenerator, renderProps } = props;\n        const attrs = buildElAttrs(props, [], this.handleEl);\n        let useDefault = false;\n        let innerContent;\n        let queuedDomNodes = [];\n        let currentGeneratorMeta;\n        if (customGenerator != null) {\n            const customGeneratorRes = typeof customGenerator === 'function' ?\n                customGenerator(renderProps, createElement) :\n                customGenerator;\n            if (customGeneratorRes === true) {\n                useDefault = true;\n            }\n            else {\n                const isObject = customGeneratorRes && typeof customGeneratorRes === 'object'; // non-null\n                if (isObject && ('html' in customGeneratorRes)) {\n                    attrs.dangerouslySetInnerHTML = { __html: customGeneratorRes.html };\n                }\n                else if (isObject && ('domNodes' in customGeneratorRes)) {\n                    queuedDomNodes = Array.prototype.slice.call(customGeneratorRes.domNodes);\n                }\n                else if (isObject\n                    ? isValidElement(customGeneratorRes) // vdom node\n                    : typeof customGeneratorRes !== 'function' // primitive value (like string or number)\n                ) {\n                    // use in vdom\n                    innerContent = customGeneratorRes;\n                }\n                else {\n                    // an exotic object for handleCustomRendering\n                    currentGeneratorMeta = customGeneratorRes;\n                }\n            }\n        }\n        else {\n            useDefault = !hasCustomRenderingHandler(props.generatorName, options);\n        }\n        if (useDefault && defaultGenerator) {\n            innerContent = defaultGenerator(renderProps);\n        }\n        this.queuedDomNodes = queuedDomNodes;\n        this.currentGeneratorMeta = currentGeneratorMeta;\n        return createElement(props.elTag, attrs, innerContent);\n    }\n    componentDidMount() {\n        this.applyQueueudDomNodes();\n        this.triggerCustomRendering(true);\n    }\n    componentDidUpdate() {\n        this.applyQueueudDomNodes();\n        this.triggerCustomRendering(true);\n    }\n    componentWillUnmount() {\n        this.triggerCustomRendering(false); // TODO: different API for removal?\n    }\n    triggerCustomRendering(isActive) {\n        var _a;\n        const { props, context } = this;\n        const { handleCustomRendering, customRenderingMetaMap } = context.options;\n        if (handleCustomRendering) {\n            const generatorMeta = (_a = this.currentGeneratorMeta) !== null && _a !== void 0 ? _a : customRenderingMetaMap === null || customRenderingMetaMap === void 0 ? void 0 : customRenderingMetaMap[props.generatorName];\n            if (generatorMeta) {\n                handleCustomRendering(Object.assign(Object.assign({ id: this.id, isActive, containerEl: this.base, reportNewContainerEl: this.updateElRef, // front-end framework tells us about new container els\n                    generatorMeta }, props), { elClasses: (props.elClasses || []).filter(isTruthy) }));\n            }\n        }\n    }\n    applyQueueudDomNodes() {\n        const { queuedDomNodes, currentDomNodes } = this;\n        const el = this.base;\n        if (!isArraysEqual(queuedDomNodes, currentDomNodes)) {\n            currentDomNodes.forEach(removeElement);\n            for (let newNode of queuedDomNodes) {\n                el.appendChild(newNode);\n            }\n            this.currentDomNodes = queuedDomNodes;\n        }\n    }\n}\nContentInjector.addPropsEquality({\n    elClasses: isArraysEqual,\n    elStyle: isPropsEqual,\n    elAttrs: isNonHandlerPropsEqual,\n    renderProps: isPropsEqual,\n});\n// Util\n/*\nDoes UI-framework provide custom way of rendering that does not use Preact VDOM\nAND does the calendar's options define custom rendering?\nAKA. Should we NOT render the default content?\n*/\nfunction hasCustomRenderingHandler(generatorName, options) {\n    var _a;\n    return Boolean(options.handleCustomRendering &&\n        generatorName &&\n        ((_a = options.customRenderingMetaMap) === null || _a === void 0 ? void 0 : _a[generatorName]));\n}\nfunction buildElAttrs(props, extraClassNames, elRef) {\n    const attrs = Object.assign(Object.assign({}, props.elAttrs), { ref: elRef });\n    if (props.elClasses || extraClassNames) {\n        attrs.className = (props.elClasses || [])\n            .concat(extraClassNames || [])\n            .concat(attrs.className || [])\n            .filter(Boolean)\n            .join(' ');\n    }\n    if (props.elStyle) {\n        attrs.style = props.elStyle;\n    }\n    return attrs;\n}\nfunction isTruthy(val) {\n    return Boolean(val);\n}\n\nconst RenderId = createContext(0);\n\nclass ContentContainer extends Component {\n    constructor() {\n        super(...arguments);\n        this.InnerContent = InnerContentInjector.bind(undefined, this);\n        this.handleEl = (el) => {\n            this.el = el;\n            if (this.props.elRef) {\n                setRef(this.props.elRef, el);\n                if (el && this.didMountMisfire) {\n                    this.componentDidMount();\n                }\n            }\n        };\n    }\n    render() {\n        const { props } = this;\n        const generatedClassNames = generateClassNames(props.classNameGenerator, props.renderProps);\n        if (props.children) {\n            const elAttrs = buildElAttrs(props, generatedClassNames, this.handleEl);\n            const children = props.children(this.InnerContent, props.renderProps, elAttrs);\n            if (props.elTag) {\n                return createElement(props.elTag, elAttrs, children);\n            }\n            else {\n                return children;\n            }\n        }\n        else {\n            return createElement((ContentInjector), Object.assign(Object.assign({}, props), { elRef: this.handleEl, elTag: props.elTag || 'div', elClasses: (props.elClasses || []).concat(generatedClassNames), renderId: this.context }));\n        }\n    }\n    componentDidMount() {\n        var _a, _b;\n        if (this.el) {\n            (_b = (_a = this.props).didMount) === null || _b === void 0 ? void 0 : _b.call(_a, Object.assign(Object.assign({}, this.props.renderProps), { el: this.el }));\n        }\n        else {\n            this.didMountMisfire = true;\n        }\n    }\n    componentWillUnmount() {\n        var _a, _b;\n        (_b = (_a = this.props).willUnmount) === null || _b === void 0 ? void 0 : _b.call(_a, Object.assign(Object.assign({}, this.props.renderProps), { el: this.el }));\n    }\n}\nContentContainer.contextType = RenderId;\nfunction InnerContentInjector(containerComponent, props) {\n    const parentProps = containerComponent.props;\n    return createElement((ContentInjector), Object.assign({ renderProps: parentProps.renderProps, generatorName: parentProps.generatorName, customGenerator: parentProps.customGenerator, defaultGenerator: parentProps.defaultGenerator, renderId: containerComponent.context }, props));\n}\n// Utils\nfunction generateClassNames(classNameGenerator, renderProps) {\n    const classNames = typeof classNameGenerator === 'function' ?\n        classNameGenerator(renderProps) :\n        classNameGenerator || [];\n    return typeof classNames === 'string' ? [classNames] : classNames;\n}\n\nclass ViewContainer extends BaseComponent {\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let renderProps = { view: context.viewApi };\n        return (createElement(ContentContainer, Object.assign({}, props, { elTag: props.elTag || 'div', elClasses: [\n                ...buildViewClassNames(props.viewSpec),\n                ...(props.elClasses || []),\n            ], renderProps: renderProps, classNameGenerator: options.viewClassNames, generatorName: undefined, didMount: options.viewDidMount, willUnmount: options.viewWillUnmount }), () => props.children));\n    }\n}\nfunction buildViewClassNames(viewSpec) {\n    return [\n        `fc-${viewSpec.type}-view`,\n        'fc-view',\n    ];\n}\n\nfunction parseRange(input, dateEnv) {\n    let start = null;\n    let end = null;\n    if (input.start) {\n        start = dateEnv.createMarker(input.start);\n    }\n    if (input.end) {\n        end = dateEnv.createMarker(input.end);\n    }\n    if (!start && !end) {\n        return null;\n    }\n    if (start && end && end < start) {\n        return null;\n    }\n    return { start, end };\n}\n// SIDE-EFFECT: will mutate ranges.\n// Will return a new array result.\nfunction invertRanges(ranges, constraintRange) {\n    let invertedRanges = [];\n    let { start } = constraintRange; // the end of the previous range. the start of the new range\n    let i;\n    let dateRange;\n    // ranges need to be in order. required for our date-walking algorithm\n    ranges.sort(compareRanges);\n    for (i = 0; i < ranges.length; i += 1) {\n        dateRange = ranges[i];\n        // add the span of time before the event (if there is any)\n        if (dateRange.start > start) { // compare millisecond time (skip any ambig logic)\n            invertedRanges.push({ start, end: dateRange.start });\n        }\n        if (dateRange.end > start) {\n            start = dateRange.end;\n        }\n    }\n    // add the span of time after the last event (if there is any)\n    if (start < constraintRange.end) { // compare millisecond time (skip any ambig logic)\n        invertedRanges.push({ start, end: constraintRange.end });\n    }\n    return invertedRanges;\n}\nfunction compareRanges(range0, range1) {\n    return range0.start.valueOf() - range1.start.valueOf(); // earlier ranges go first\n}\nfunction intersectRanges(range0, range1) {\n    let { start, end } = range0;\n    let newRange = null;\n    if (range1.start !== null) {\n        if (start === null) {\n            start = range1.start;\n        }\n        else {\n            start = new Date(Math.max(start.valueOf(), range1.start.valueOf()));\n        }\n    }\n    if (range1.end != null) {\n        if (end === null) {\n            end = range1.end;\n        }\n        else {\n            end = new Date(Math.min(end.valueOf(), range1.end.valueOf()));\n        }\n    }\n    if (start === null || end === null || start < end) {\n        newRange = { start, end };\n    }\n    return newRange;\n}\nfunction rangesEqual(range0, range1) {\n    return (range0.start === null ? null : range0.start.valueOf()) === (range1.start === null ? null : range1.start.valueOf()) &&\n        (range0.end === null ? null : range0.end.valueOf()) === (range1.end === null ? null : range1.end.valueOf());\n}\nfunction rangesIntersect(range0, range1) {\n    return (range0.end === null || range1.start === null || range0.end > range1.start) &&\n        (range0.start === null || range1.end === null || range0.start < range1.end);\n}\nfunction rangeContainsRange(outerRange, innerRange) {\n    return (outerRange.start === null || (innerRange.start !== null && innerRange.start >= outerRange.start)) &&\n        (outerRange.end === null || (innerRange.end !== null && innerRange.end <= outerRange.end));\n}\nfunction rangeContainsMarker(range, date) {\n    return (range.start === null || date >= range.start) &&\n        (range.end === null || date < range.end);\n}\n// If the given date is not within the given range, move it inside.\n// (If it's past the end, make it one millisecond before the end).\nfunction constrainMarkerToRange(date, range) {\n    if (range.start != null && date < range.start) {\n        return range.start;\n    }\n    if (range.end != null && date >= range.end) {\n        return new Date(range.end.valueOf() - 1);\n    }\n    return date;\n}\n\n/* Date stuff that doesn't belong in datelib core\n----------------------------------------------------------------------------------------------------------------------*/\n// given a timed range, computes an all-day range that has the same exact duration,\n// but whose start time is aligned with the start of the day.\nfunction computeAlignedDayRange(timedRange) {\n    let dayCnt = Math.floor(diffDays(timedRange.start, timedRange.end)) || 1;\n    let start = startOfDay(timedRange.start);\n    let end = addDays(start, dayCnt);\n    return { start, end };\n}\n// given a timed range, computes an all-day range based on how for the end date bleeds into the next day\n// TODO: give nextDayThreshold a default arg\nfunction computeVisibleDayRange(timedRange, nextDayThreshold = createDuration(0)) {\n    let startDay = null;\n    let endDay = null;\n    if (timedRange.end) {\n        endDay = startOfDay(timedRange.end);\n        let endTimeMS = timedRange.end.valueOf() - endDay.valueOf(); // # of milliseconds into `endDay`\n        // If the end time is actually inclusively part of the next day and is equal to or\n        // beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.\n        // Otherwise, leaving it as inclusive will cause it to exclude `endDay`.\n        if (endTimeMS && endTimeMS >= asRoughMs(nextDayThreshold)) {\n            endDay = addDays(endDay, 1);\n        }\n    }\n    if (timedRange.start) {\n        startDay = startOfDay(timedRange.start); // the beginning of the day the range starts\n        // If end is within `startDay` but not past nextDayThreshold, assign the default duration of one day.\n        if (endDay && endDay <= startDay) {\n            endDay = addDays(startDay, 1);\n        }\n    }\n    return { start: startDay, end: endDay };\n}\n// spans from one day into another?\nfunction isMultiDayRange(range) {\n    let visibleRange = computeVisibleDayRange(range);\n    return diffDays(visibleRange.start, visibleRange.end) > 1;\n}\nfunction diffDates(date0, date1, dateEnv, largeUnit) {\n    if (largeUnit === 'year') {\n        return createDuration(dateEnv.diffWholeYears(date0, date1), 'year');\n    }\n    if (largeUnit === 'month') {\n        return createDuration(dateEnv.diffWholeMonths(date0, date1), 'month');\n    }\n    return diffDayAndTime(date0, date1); // returns a duration\n}\n\nfunction reduceCurrentDate(currentDate, action) {\n    switch (action.type) {\n        case 'CHANGE_DATE':\n            return action.dateMarker;\n        default:\n            return currentDate;\n    }\n}\nfunction getInitialDate(options, dateEnv) {\n    let initialDateInput = options.initialDate;\n    // compute the initial ambig-timezone date\n    if (initialDateInput != null) {\n        return dateEnv.createMarker(initialDateInput);\n    }\n    return getNow(options.now, dateEnv); // getNow already returns unzoned\n}\nfunction getNow(nowInput, dateEnv) {\n    if (typeof nowInput === 'function') {\n        nowInput = nowInput();\n    }\n    if (nowInput == null) {\n        return dateEnv.createNowMarker();\n    }\n    return dateEnv.createMarker(nowInput);\n}\n\nclass DateProfileGenerator {\n    constructor(props) {\n        this.props = props;\n        this.nowDate = getNow(props.nowInput, props.dateEnv);\n        this.initHiddenDays();\n    }\n    /* Date Range Computation\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Builds a structure with info about what the dates/ranges will be for the \"prev\" view.\n    buildPrev(currentDateProfile, currentDate, forceToValid) {\n        let { dateEnv } = this.props;\n        let prevDate = dateEnv.subtract(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(prevDate, -1, forceToValid);\n    }\n    // Builds a structure with info about what the dates/ranges will be for the \"next\" view.\n    buildNext(currentDateProfile, currentDate, forceToValid) {\n        let { dateEnv } = this.props;\n        let nextDate = dateEnv.add(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(nextDate, 1, forceToValid);\n    }\n    // Builds a structure holding dates/ranges for rendering around the given date.\n    // Optional direction param indicates whether the date is being incremented/decremented\n    // from its previous value. decremented = -1, incremented = 1 (default).\n    build(currentDate, direction, forceToValid = true) {\n        let { props } = this;\n        let validRange;\n        let currentInfo;\n        let isRangeAllDay;\n        let renderRange;\n        let activeRange;\n        let isValid;\n        validRange = this.buildValidRange();\n        validRange = this.trimHiddenDays(validRange);\n        if (forceToValid) {\n            currentDate = constrainMarkerToRange(currentDate, validRange);\n        }\n        currentInfo = this.buildCurrentRangeInfo(currentDate, direction);\n        isRangeAllDay = /^(year|month|week|day)$/.test(currentInfo.unit);\n        renderRange = this.buildRenderRange(this.trimHiddenDays(currentInfo.range), currentInfo.unit, isRangeAllDay);\n        renderRange = this.trimHiddenDays(renderRange);\n        activeRange = renderRange;\n        if (!props.showNonCurrentDates) {\n            activeRange = intersectRanges(activeRange, currentInfo.range);\n        }\n        activeRange = this.adjustActiveRange(activeRange);\n        activeRange = intersectRanges(activeRange, validRange); // might return null\n        // it's invalid if the originally requested date is not contained,\n        // or if the range is completely outside of the valid range.\n        isValid = rangesIntersect(currentInfo.range, validRange);\n        // HACK: constrain to render-range so `currentDate` is more useful to view rendering\n        if (!rangeContainsMarker(renderRange, currentDate)) {\n            currentDate = renderRange.start;\n        }\n        return {\n            currentDate,\n            // constraint for where prev/next operations can go and where events can be dragged/resized to.\n            // an object with optional start and end properties.\n            validRange,\n            // range the view is formally responsible for.\n            // for example, a month view might have 1st-31st, excluding padded dates\n            currentRange: currentInfo.range,\n            // name of largest unit being displayed, like \"month\" or \"week\"\n            currentRangeUnit: currentInfo.unit,\n            isRangeAllDay,\n            // dates that display events and accept drag-n-drop\n            // will be `null` if no dates accept events\n            activeRange,\n            // date range with a rendered skeleton\n            // includes not-active days that need some sort of DOM\n            renderRange,\n            // Duration object that denotes the first visible time of any given day\n            slotMinTime: props.slotMinTime,\n            // Duration object that denotes the exclusive visible end time of any given day\n            slotMaxTime: props.slotMaxTime,\n            isValid,\n            // how far the current date will move for a prev/next operation\n            dateIncrement: this.buildDateIncrement(currentInfo.duration),\n            // pass a fallback (might be null) ^\n        };\n    }\n    // Builds an object with optional start/end properties.\n    // Indicates the minimum/maximum dates to display.\n    // not responsible for trimming hidden days.\n    buildValidRange() {\n        let input = this.props.validRangeInput;\n        let simpleInput = typeof input === 'function'\n            ? input.call(this.props.calendarApi, this.nowDate)\n            : input;\n        return this.refineRange(simpleInput) ||\n            { start: null, end: null }; // completely open-ended\n    }\n    // Builds a structure with info about the \"current\" range, the range that is\n    // highlighted as being the current month for example.\n    // See build() for a description of `direction`.\n    // Guaranteed to have `range` and `unit` properties. `duration` is optional.\n    buildCurrentRangeInfo(date, direction) {\n        let { props } = this;\n        let duration = null;\n        let unit = null;\n        let range = null;\n        let dayCount;\n        if (props.duration) {\n            duration = props.duration;\n            unit = props.durationUnit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        else if ((dayCount = this.props.dayCount)) {\n            unit = 'day';\n            range = this.buildRangeFromDayCount(date, direction, dayCount);\n        }\n        else if ((range = this.buildCustomVisibleRange(date))) {\n            unit = props.dateEnv.greatestWholeUnit(range.start, range.end).unit;\n        }\n        else {\n            duration = this.getFallbackDuration();\n            unit = greatestDurationDenominator(duration).unit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        return { duration, unit, range };\n    }\n    getFallbackDuration() {\n        return createDuration({ day: 1 });\n    }\n    // Returns a new activeRange to have time values (un-ambiguate)\n    // slotMinTime or slotMaxTime causes the range to expand.\n    adjustActiveRange(range) {\n        let { dateEnv, usesMinMaxTime, slotMinTime, slotMaxTime } = this.props;\n        let { start, end } = range;\n        if (usesMinMaxTime) {\n            // expand active range if slotMinTime is negative (why not when positive?)\n            if (asRoughDays(slotMinTime) < 0) {\n                start = startOfDay(start); // necessary?\n                start = dateEnv.add(start, slotMinTime);\n            }\n            // expand active range if slotMaxTime is beyond one day (why not when negative?)\n            if (asRoughDays(slotMaxTime) > 1) {\n                end = startOfDay(end); // necessary?\n                end = addDays(end, -1);\n                end = dateEnv.add(end, slotMaxTime);\n            }\n        }\n        return { start, end };\n    }\n    // Builds the \"current\" range when it is specified as an explicit duration.\n    // `unit` is the already-computed greatestDurationDenominator unit of duration.\n    buildRangeFromDuration(date, direction, duration, unit) {\n        let { dateEnv, dateAlignment } = this.props;\n        let start;\n        let end;\n        let res;\n        // compute what the alignment should be\n        if (!dateAlignment) {\n            let { dateIncrement } = this.props;\n            if (dateIncrement) {\n                // use the smaller of the two units\n                if (asRoughMs(dateIncrement) < asRoughMs(duration)) {\n                    dateAlignment = greatestDurationDenominator(dateIncrement).unit;\n                }\n                else {\n                    dateAlignment = unit;\n                }\n            }\n            else {\n                dateAlignment = unit;\n            }\n        }\n        // if the view displays a single day or smaller\n        if (asRoughDays(duration) <= 1) {\n            if (this.isHiddenDay(start)) {\n                start = this.skipHiddenDays(start, direction);\n                start = startOfDay(start);\n            }\n        }\n        function computeRes() {\n            start = dateEnv.startOf(date, dateAlignment);\n            end = dateEnv.add(start, duration);\n            res = { start, end };\n        }\n        computeRes();\n        // if range is completely enveloped by hidden days, go past the hidden days\n        if (!this.trimHiddenDays(res)) {\n            date = this.skipHiddenDays(date, direction);\n            computeRes();\n        }\n        return res;\n    }\n    // Builds the \"current\" range when a dayCount is specified.\n    buildRangeFromDayCount(date, direction, dayCount) {\n        let { dateEnv, dateAlignment } = this.props;\n        let runningCount = 0;\n        let start = date;\n        let end;\n        if (dateAlignment) {\n            start = dateEnv.startOf(start, dateAlignment);\n        }\n        start = startOfDay(start);\n        start = this.skipHiddenDays(start, direction);\n        end = start;\n        do {\n            end = addDays(end, 1);\n            if (!this.isHiddenDay(end)) {\n                runningCount += 1;\n            }\n        } while (runningCount < dayCount);\n        return { start, end };\n    }\n    // Builds a normalized range object for the \"visible\" range,\n    // which is a way to define the currentRange and activeRange at the same time.\n    buildCustomVisibleRange(date) {\n        let { props } = this;\n        let input = props.visibleRangeInput;\n        let simpleInput = typeof input === 'function'\n            ? input.call(props.calendarApi, props.dateEnv.toDate(date))\n            : input;\n        let range = this.refineRange(simpleInput);\n        if (range && (range.start == null || range.end == null)) {\n            return null;\n        }\n        return range;\n    }\n    // Computes the range that will represent the element/cells for *rendering*,\n    // but which may have voided days/times.\n    // not responsible for trimming hidden days.\n    buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay) {\n        return currentRange;\n    }\n    // Compute the duration value that should be added/substracted to the current date\n    // when a prev/next operation happens.\n    buildDateIncrement(fallback) {\n        let { dateIncrement } = this.props;\n        let customAlignment;\n        if (dateIncrement) {\n            return dateIncrement;\n        }\n        if ((customAlignment = this.props.dateAlignment)) {\n            return createDuration(1, customAlignment);\n        }\n        if (fallback) {\n            return fallback;\n        }\n        return createDuration({ days: 1 });\n    }\n    refineRange(rangeInput) {\n        if (rangeInput) {\n            let range = parseRange(rangeInput, this.props.dateEnv);\n            if (range) {\n                range = computeVisibleDayRange(range);\n            }\n            return range;\n        }\n        return null;\n    }\n    /* Hidden Days\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Initializes internal variables related to calculating hidden days-of-week\n    initHiddenDays() {\n        let hiddenDays = this.props.hiddenDays || []; // array of day-of-week indices that are hidden\n        let isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -> bool)\n        let dayCnt = 0;\n        let i;\n        if (this.props.weekends === false) {\n            hiddenDays.push(0, 6); // 0=sunday, 6=saturday\n        }\n        for (i = 0; i < 7; i += 1) {\n            if (!(isHiddenDayHash[i] = hiddenDays.indexOf(i) !== -1)) {\n                dayCnt += 1;\n            }\n        }\n        if (!dayCnt) {\n            throw new Error('invalid hiddenDays'); // all days were hidden? bad.\n        }\n        this.isHiddenDayHash = isHiddenDayHash;\n    }\n    // Remove days from the beginning and end of the range that are computed as hidden.\n    // If the whole range is trimmed off, returns null\n    trimHiddenDays(range) {\n        let { start, end } = range;\n        if (start) {\n            start = this.skipHiddenDays(start);\n        }\n        if (end) {\n            end = this.skipHiddenDays(end, -1, true);\n        }\n        if (start == null || end == null || start < end) {\n            return { start, end };\n        }\n        return null;\n    }\n    // Is the current day hidden?\n    // `day` is a day-of-week index (0-6), or a Date (used for UTC)\n    isHiddenDay(day) {\n        if (day instanceof Date) {\n            day = day.getUTCDay();\n        }\n        return this.isHiddenDayHash[day];\n    }\n    // Incrementing the current day until it is no longer a hidden day, returning a copy.\n    // DOES NOT CONSIDER validRange!\n    // If the initial value of `date` is not a hidden day, don't do anything.\n    // Pass `isExclusive` as `true` if you are dealing with an end date.\n    // `inc` defaults to `1` (increment one day forward each time)\n    skipHiddenDays(date, inc = 1, isExclusive = false) {\n        while (this.isHiddenDayHash[(date.getUTCDay() + (isExclusive ? inc : 0) + 7) % 7]) {\n            date = addDays(date, inc);\n        }\n        return date;\n    }\n}\n\nfunction createEventInstance(defId, range, forcedStartTzo, forcedEndTzo) {\n    return {\n        instanceId: guid(),\n        defId,\n        range,\n        forcedStartTzo: forcedStartTzo == null ? null : forcedStartTzo,\n        forcedEndTzo: forcedEndTzo == null ? null : forcedEndTzo,\n    };\n}\n\nfunction parseRecurring(refined, defaultAllDay, dateEnv, recurringTypes) {\n    for (let i = 0; i < recurringTypes.length; i += 1) {\n        let parsed = recurringTypes[i].parse(refined, dateEnv);\n        if (parsed) {\n            let { allDay } = refined;\n            if (allDay == null) {\n                allDay = defaultAllDay;\n                if (allDay == null) {\n                    allDay = parsed.allDayGuess;\n                    if (allDay == null) {\n                        allDay = false;\n                    }\n                }\n            }\n            return {\n                allDay,\n                duration: parsed.duration,\n                typeData: parsed.typeData,\n                typeId: i,\n            };\n        }\n    }\n    return null;\n}\nfunction expandRecurring(eventStore, framingRange, context) {\n    let { dateEnv, pluginHooks, options } = context;\n    let { defs, instances } = eventStore;\n    // remove existing recurring instances\n    // TODO: bad. always expand events as a second step\n    instances = filterHash(instances, (instance) => !defs[instance.defId].recurringDef);\n    for (let defId in defs) {\n        let def = defs[defId];\n        if (def.recurringDef) {\n            let { duration } = def.recurringDef;\n            if (!duration) {\n                duration = def.allDay ?\n                    options.defaultAllDayEventDuration :\n                    options.defaultTimedEventDuration;\n            }\n            let starts = expandRecurringRanges(def, duration, framingRange, dateEnv, pluginHooks.recurringTypes);\n            for (let start of starts) {\n                let instance = createEventInstance(defId, {\n                    start,\n                    end: dateEnv.add(start, duration),\n                });\n                instances[instance.instanceId] = instance;\n            }\n        }\n    }\n    return { defs, instances };\n}\n/*\nEvent MUST have a recurringDef\n*/\nfunction expandRecurringRanges(eventDef, duration, framingRange, dateEnv, recurringTypes) {\n    let typeDef = recurringTypes[eventDef.recurringDef.typeId];\n    let markers = typeDef.expand(eventDef.recurringDef.typeData, {\n        start: dateEnv.subtract(framingRange.start, duration),\n        end: framingRange.end,\n    }, dateEnv);\n    // the recurrence plugins don't guarantee that all-day events are start-of-day, so we have to\n    if (eventDef.allDay) {\n        markers = markers.map(startOfDay);\n    }\n    return markers;\n}\n\nconst EVENT_NON_DATE_REFINERS = {\n    id: String,\n    groupId: String,\n    title: String,\n    url: String,\n    interactive: Boolean,\n};\nconst EVENT_DATE_REFINERS = {\n    start: identity,\n    end: identity,\n    date: identity,\n    allDay: Boolean,\n};\nconst EVENT_REFINERS = Object.assign(Object.assign(Object.assign({}, EVENT_NON_DATE_REFINERS), EVENT_DATE_REFINERS), { extendedProps: identity });\nfunction parseEvent(raw, eventSource, context, allowOpenRange, refiners = buildEventRefiners(context), defIdMap, instanceIdMap) {\n    let { refined, extra } = refineEventDef(raw, context, refiners);\n    let defaultAllDay = computeIsDefaultAllDay(eventSource, context);\n    let recurringRes = parseRecurring(refined, defaultAllDay, context.dateEnv, context.pluginHooks.recurringTypes);\n    if (recurringRes) {\n        let def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', recurringRes.allDay, Boolean(recurringRes.duration), context, defIdMap);\n        def.recurringDef = {\n            typeId: recurringRes.typeId,\n            typeData: recurringRes.typeData,\n            duration: recurringRes.duration,\n        };\n        return { def, instance: null };\n    }\n    let singleRes = parseSingle(refined, defaultAllDay, context, allowOpenRange);\n    if (singleRes) {\n        let def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', singleRes.allDay, singleRes.hasEnd, context, defIdMap);\n        let instance = createEventInstance(def.defId, singleRes.range, singleRes.forcedStartTzo, singleRes.forcedEndTzo);\n        if (instanceIdMap && def.publicId && instanceIdMap[def.publicId]) {\n            instance.instanceId = instanceIdMap[def.publicId];\n        }\n        return { def, instance };\n    }\n    return null;\n}\nfunction refineEventDef(raw, context, refiners = buildEventRefiners(context)) {\n    return refineProps(raw, refiners);\n}\nfunction buildEventRefiners(context) {\n    return Object.assign(Object.assign(Object.assign({}, EVENT_UI_REFINERS), EVENT_REFINERS), context.pluginHooks.eventRefiners);\n}\n/*\nWill NOT populate extendedProps with the leftover properties.\nWill NOT populate date-related props.\n*/\nfunction parseEventDef(refined, extra, sourceId, allDay, hasEnd, context, defIdMap) {\n    let def = {\n        title: refined.title || '',\n        groupId: refined.groupId || '',\n        publicId: refined.id || '',\n        url: refined.url || '',\n        recurringDef: null,\n        defId: ((defIdMap && refined.id) ? defIdMap[refined.id] : '') || guid(),\n        sourceId,\n        allDay,\n        hasEnd,\n        interactive: refined.interactive,\n        ui: createEventUi(refined, context),\n        extendedProps: Object.assign(Object.assign({}, (refined.extendedProps || {})), extra),\n    };\n    for (let memberAdder of context.pluginHooks.eventDefMemberAdders) {\n        Object.assign(def, memberAdder(refined));\n    }\n    // help out EventImpl from having user modify props\n    Object.freeze(def.ui.classNames);\n    Object.freeze(def.extendedProps);\n    return def;\n}\nfunction parseSingle(refined, defaultAllDay, context, allowOpenRange) {\n    let { allDay } = refined;\n    let startMeta;\n    let startMarker = null;\n    let hasEnd = false;\n    let endMeta;\n    let endMarker = null;\n    let startInput = refined.start != null ? refined.start : refined.date;\n    startMeta = context.dateEnv.createMarkerMeta(startInput);\n    if (startMeta) {\n        startMarker = startMeta.marker;\n    }\n    else if (!allowOpenRange) {\n        return null;\n    }\n    if (refined.end != null) {\n        endMeta = context.dateEnv.createMarkerMeta(refined.end);\n    }\n    if (allDay == null) {\n        if (defaultAllDay != null) {\n            allDay = defaultAllDay;\n        }\n        else {\n            // fall back to the date props LAST\n            allDay = (!startMeta || startMeta.isTimeUnspecified) &&\n                (!endMeta || endMeta.isTimeUnspecified);\n        }\n    }\n    if (allDay && startMarker) {\n        startMarker = startOfDay(startMarker);\n    }\n    if (endMeta) {\n        endMarker = endMeta.marker;\n        if (allDay) {\n            endMarker = startOfDay(endMarker);\n        }\n        if (startMarker && endMarker <= startMarker) {\n            endMarker = null;\n        }\n    }\n    if (endMarker) {\n        hasEnd = true;\n    }\n    else if (!allowOpenRange) {\n        hasEnd = context.options.forceEventDuration || false;\n        endMarker = context.dateEnv.add(startMarker, allDay ?\n            context.options.defaultAllDayEventDuration :\n            context.options.defaultTimedEventDuration);\n    }\n    return {\n        allDay,\n        hasEnd,\n        range: { start: startMarker, end: endMarker },\n        forcedStartTzo: startMeta ? startMeta.forcedTzo : null,\n        forcedEndTzo: endMeta ? endMeta.forcedTzo : null,\n    };\n}\nfunction computeIsDefaultAllDay(eventSource, context) {\n    let res = null;\n    if (eventSource) {\n        res = eventSource.defaultAllDay;\n    }\n    if (res == null) {\n        res = context.options.defaultAllDay;\n    }\n    return res;\n}\n\nfunction parseEvents(rawEvents, eventSource, context, allowOpenRange, defIdMap, instanceIdMap) {\n    let eventStore = createEmptyEventStore();\n    let eventRefiners = buildEventRefiners(context);\n    for (let rawEvent of rawEvents) {\n        let tuple = parseEvent(rawEvent, eventSource, context, allowOpenRange, eventRefiners, defIdMap, instanceIdMap);\n        if (tuple) {\n            eventTupleToStore(tuple, eventStore);\n        }\n    }\n    return eventStore;\n}\nfunction eventTupleToStore(tuple, eventStore = createEmptyEventStore()) {\n    eventStore.defs[tuple.def.defId] = tuple.def;\n    if (tuple.instance) {\n        eventStore.instances[tuple.instance.instanceId] = tuple.instance;\n    }\n    return eventStore;\n}\n// retrieves events that have the same groupId as the instance specified by `instanceId`\n// or they are the same as the instance.\n// why might instanceId not be in the store? an event from another calendar?\nfunction getRelevantEvents(eventStore, instanceId) {\n    let instance = eventStore.instances[instanceId];\n    if (instance) {\n        let def = eventStore.defs[instance.defId];\n        // get events/instances with same group\n        let newStore = filterEventStoreDefs(eventStore, (lookDef) => isEventDefsGrouped(def, lookDef));\n        // add the original\n        // TODO: wish we could use eventTupleToStore or something like it\n        newStore.defs[def.defId] = def;\n        newStore.instances[instance.instanceId] = instance;\n        return newStore;\n    }\n    return createEmptyEventStore();\n}\nfunction isEventDefsGrouped(def0, def1) {\n    return Boolean(def0.groupId && def0.groupId === def1.groupId);\n}\nfunction createEmptyEventStore() {\n    return { defs: {}, instances: {} };\n}\nfunction mergeEventStores(store0, store1) {\n    return {\n        defs: Object.assign(Object.assign({}, store0.defs), store1.defs),\n        instances: Object.assign(Object.assign({}, store0.instances), store1.instances),\n    };\n}\nfunction filterEventStoreDefs(eventStore, filterFunc) {\n    let defs = filterHash(eventStore.defs, filterFunc);\n    let instances = filterHash(eventStore.instances, (instance) => (defs[instance.defId] // still exists?\n    ));\n    return { defs, instances };\n}\nfunction excludeSubEventStore(master, sub) {\n    let { defs, instances } = master;\n    let filteredDefs = {};\n    let filteredInstances = {};\n    for (let defId in defs) {\n        if (!sub.defs[defId]) { // not explicitly excluded\n            filteredDefs[defId] = defs[defId];\n        }\n    }\n    for (let instanceId in instances) {\n        if (!sub.instances[instanceId] && // not explicitly excluded\n            filteredDefs[instances[instanceId].defId] // def wasn't filtered away\n        ) {\n            filteredInstances[instanceId] = instances[instanceId];\n        }\n    }\n    return {\n        defs: filteredDefs,\n        instances: filteredInstances,\n    };\n}\n\nfunction normalizeConstraint(input, context) {\n    if (Array.isArray(input)) {\n        return parseEvents(input, null, context, true); // allowOpenRange=true\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseEvents([input], null, context, true); // allowOpenRange=true\n    }\n    if (input != null) {\n        return String(input);\n    }\n    return null;\n}\n\nfunction parseClassNames(raw) {\n    if (Array.isArray(raw)) {\n        return raw;\n    }\n    if (typeof raw === 'string') {\n        return raw.split(/\\s+/);\n    }\n    return [];\n}\n\n// TODO: better called \"EventSettings\" or \"EventConfig\"\n// TODO: move this file into structs\n// TODO: separate constraint/overlap/allow, because selection uses only that, not other props\nconst EVENT_UI_REFINERS = {\n    display: String,\n    editable: Boolean,\n    startEditable: Boolean,\n    durationEditable: Boolean,\n    constraint: identity,\n    overlap: identity,\n    allow: identity,\n    className: parseClassNames,\n    classNames: parseClassNames,\n    color: String,\n    backgroundColor: String,\n    borderColor: String,\n    textColor: String,\n};\nconst EMPTY_EVENT_UI = {\n    display: null,\n    startEditable: null,\n    durationEditable: null,\n    constraints: [],\n    overlap: null,\n    allows: [],\n    backgroundColor: '',\n    borderColor: '',\n    textColor: '',\n    classNames: [],\n};\nfunction createEventUi(refined, context) {\n    let constraint = normalizeConstraint(refined.constraint, context);\n    return {\n        display: refined.display || null,\n        startEditable: refined.startEditable != null ? refined.startEditable : refined.editable,\n        durationEditable: refined.durationEditable != null ? refined.durationEditable : refined.editable,\n        constraints: constraint != null ? [constraint] : [],\n        overlap: refined.overlap != null ? refined.overlap : null,\n        allows: refined.allow != null ? [refined.allow] : [],\n        backgroundColor: refined.backgroundColor || refined.color || '',\n        borderColor: refined.borderColor || refined.color || '',\n        textColor: refined.textColor || '',\n        classNames: (refined.className || []).concat(refined.classNames || []), // join singular and plural\n    };\n}\n// TODO: prevent against problems with <2 args!\nfunction combineEventUis(uis) {\n    return uis.reduce(combineTwoEventUis, EMPTY_EVENT_UI);\n}\nfunction combineTwoEventUis(item0, item1) {\n    return {\n        display: item1.display != null ? item1.display : item0.display,\n        startEditable: item1.startEditable != null ? item1.startEditable : item0.startEditable,\n        durationEditable: item1.durationEditable != null ? item1.durationEditable : item0.durationEditable,\n        constraints: item0.constraints.concat(item1.constraints),\n        overlap: typeof item1.overlap === 'boolean' ? item1.overlap : item0.overlap,\n        allows: item0.allows.concat(item1.allows),\n        backgroundColor: item1.backgroundColor || item0.backgroundColor,\n        borderColor: item1.borderColor || item0.borderColor,\n        textColor: item1.textColor || item0.textColor,\n        classNames: item0.classNames.concat(item1.classNames),\n    };\n}\n\nconst EVENT_SOURCE_REFINERS = {\n    id: String,\n    defaultAllDay: Boolean,\n    url: String,\n    format: String,\n    events: identity,\n    eventDataTransform: identity,\n    // for any network-related sources\n    success: identity,\n    failure: identity,\n};\nfunction parseEventSource(raw, context, refiners = buildEventSourceRefiners(context)) {\n    let rawObj;\n    if (typeof raw === 'string') {\n        rawObj = { url: raw };\n    }\n    else if (typeof raw === 'function' || Array.isArray(raw)) {\n        rawObj = { events: raw };\n    }\n    else if (typeof raw === 'object' && raw) { // not null\n        rawObj = raw;\n    }\n    if (rawObj) {\n        let { refined, extra } = refineProps(rawObj, refiners);\n        let metaRes = buildEventSourceMeta(refined, context);\n        if (metaRes) {\n            return {\n                _raw: raw,\n                isFetching: false,\n                latestFetchId: '',\n                fetchRange: null,\n                defaultAllDay: refined.defaultAllDay,\n                eventDataTransform: refined.eventDataTransform,\n                success: refined.success,\n                failure: refined.failure,\n                publicId: refined.id || '',\n                sourceId: guid(),\n                sourceDefId: metaRes.sourceDefId,\n                meta: metaRes.meta,\n                ui: createEventUi(refined, context),\n                extendedProps: extra,\n            };\n        }\n    }\n    return null;\n}\nfunction buildEventSourceRefiners(context) {\n    return Object.assign(Object.assign(Object.assign({}, EVENT_UI_REFINERS), EVENT_SOURCE_REFINERS), context.pluginHooks.eventSourceRefiners);\n}\nfunction buildEventSourceMeta(raw, context) {\n    let defs = context.pluginHooks.eventSourceDefs;\n    for (let i = defs.length - 1; i >= 0; i -= 1) { // later-added plugins take precedence\n        let def = defs[i];\n        let meta = def.parseMeta(raw);\n        if (meta) {\n            return { sourceDefId: i, meta };\n        }\n    }\n    return null;\n}\n\nfunction reduceEventStore(eventStore, action, eventSources, dateProfile, context) {\n    switch (action.type) {\n        case 'RECEIVE_EVENTS': // raw\n            return receiveRawEvents(eventStore, eventSources[action.sourceId], action.fetchId, action.fetchRange, action.rawEvents, context);\n        case 'RESET_RAW_EVENTS':\n            return resetRawEvents(eventStore, eventSources[action.sourceId], action.rawEvents, dateProfile.activeRange, context);\n        case 'ADD_EVENTS': // already parsed, but not expanded\n            return addEvent(eventStore, action.eventStore, // new ones\n            dateProfile ? dateProfile.activeRange : null, context);\n        case 'RESET_EVENTS':\n            return action.eventStore;\n        case 'MERGE_EVENTS': // already parsed and expanded\n            return mergeEventStores(eventStore, action.eventStore);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return expandRecurring(eventStore, dateProfile.activeRange, context);\n            }\n            return eventStore;\n        case 'REMOVE_EVENTS':\n            return excludeSubEventStore(eventStore, action.eventStore);\n        case 'REMOVE_EVENT_SOURCE':\n            return excludeEventsBySourceId(eventStore, action.sourceId);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return filterEventStoreDefs(eventStore, (eventDef) => (!eventDef.sourceId // only keep events with no source id\n            ));\n        case 'REMOVE_ALL_EVENTS':\n            return createEmptyEventStore();\n        default:\n            return eventStore;\n    }\n}\nfunction receiveRawEvents(eventStore, eventSource, fetchId, fetchRange, rawEvents, context) {\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId // TODO: wish this logic was always in event-sources\n    ) {\n        let subset = parseEvents(transformRawEvents(rawEvents, eventSource, context), eventSource, context);\n        if (fetchRange) {\n            subset = expandRecurring(subset, fetchRange, context);\n        }\n        return mergeEventStores(excludeEventsBySourceId(eventStore, eventSource.sourceId), subset);\n    }\n    return eventStore;\n}\nfunction resetRawEvents(existingEventStore, eventSource, rawEvents, activeRange, context) {\n    const { defIdMap, instanceIdMap } = buildPublicIdMaps(existingEventStore);\n    let newEventStore = parseEvents(transformRawEvents(rawEvents, eventSource, context), eventSource, context, false, defIdMap, instanceIdMap);\n    return expandRecurring(newEventStore, activeRange, context);\n}\nfunction transformRawEvents(rawEvents, eventSource, context) {\n    let calEachTransform = context.options.eventDataTransform;\n    let sourceEachTransform = eventSource ? eventSource.eventDataTransform : null;\n    if (sourceEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, sourceEachTransform);\n    }\n    if (calEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, calEachTransform);\n    }\n    return rawEvents;\n}\nfunction transformEachRawEvent(rawEvents, func) {\n    let refinedEvents;\n    if (!func) {\n        refinedEvents = rawEvents;\n    }\n    else {\n        refinedEvents = [];\n        for (let rawEvent of rawEvents) {\n            let refinedEvent = func(rawEvent);\n            if (refinedEvent) {\n                refinedEvents.push(refinedEvent);\n            }\n            else if (refinedEvent == null) {\n                refinedEvents.push(rawEvent);\n            } // if a different falsy value, do nothing\n        }\n    }\n    return refinedEvents;\n}\nfunction addEvent(eventStore, subset, expandRange, context) {\n    if (expandRange) {\n        subset = expandRecurring(subset, expandRange, context);\n    }\n    return mergeEventStores(eventStore, subset);\n}\nfunction rezoneEventStoreDates(eventStore, oldDateEnv, newDateEnv) {\n    let { defs } = eventStore;\n    let instances = mapHash(eventStore.instances, (instance) => {\n        let def = defs[instance.defId];\n        if (def.allDay) {\n            return instance; // isn't dependent on timezone\n        }\n        return Object.assign(Object.assign({}, instance), { range: {\n                start: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.start, instance.forcedStartTzo)),\n                end: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.end, instance.forcedEndTzo)),\n            }, forcedStartTzo: newDateEnv.canComputeOffset ? null : instance.forcedStartTzo, forcedEndTzo: newDateEnv.canComputeOffset ? null : instance.forcedEndTzo });\n    });\n    return { defs, instances };\n}\nfunction excludeEventsBySourceId(eventStore, sourceId) {\n    return filterEventStoreDefs(eventStore, (eventDef) => eventDef.sourceId !== sourceId);\n}\n// QUESTION: why not just return instances? do a general object-property-exclusion util\nfunction excludeInstances(eventStore, removals) {\n    return {\n        defs: eventStore.defs,\n        instances: filterHash(eventStore.instances, (instance) => !removals[instance.instanceId]),\n    };\n}\nfunction buildPublicIdMaps(eventStore) {\n    const { defs, instances } = eventStore;\n    const defIdMap = {};\n    const instanceIdMap = {};\n    for (let defId in defs) {\n        const def = defs[defId];\n        const { publicId } = def;\n        if (publicId) {\n            defIdMap[publicId] = defId;\n        }\n    }\n    for (let instanceId in instances) {\n        const instance = instances[instanceId];\n        const def = defs[instance.defId];\n        const { publicId } = def;\n        if (publicId) {\n            instanceIdMap[publicId] = instanceId;\n        }\n    }\n    return { defIdMap, instanceIdMap };\n}\n\nclass Emitter {\n    constructor() {\n        this.handlers = {};\n        this.thisContext = null;\n    }\n    setThisContext(thisContext) {\n        this.thisContext = thisContext;\n    }\n    setOptions(options) {\n        this.options = options;\n    }\n    on(type, handler) {\n        addToHash(this.handlers, type, handler);\n    }\n    off(type, handler) {\n        removeFromHash(this.handlers, type, handler);\n    }\n    trigger(type, ...args) {\n        let attachedHandlers = this.handlers[type] || [];\n        let optionHandler = this.options && this.options[type];\n        let handlers = [].concat(optionHandler || [], attachedHandlers);\n        for (let handler of handlers) {\n            handler.apply(this.thisContext, args);\n        }\n    }\n    hasHandlers(type) {\n        return Boolean((this.handlers[type] && this.handlers[type].length) ||\n            (this.options && this.options[type]));\n    }\n}\nfunction addToHash(hash, type, handler) {\n    (hash[type] || (hash[type] = []))\n        .push(handler);\n}\nfunction removeFromHash(hash, type, handler) {\n    if (handler) {\n        if (hash[type]) {\n            hash[type] = hash[type].filter((func) => func !== handler);\n        }\n    }\n    else {\n        delete hash[type]; // remove all handler funcs for this type\n    }\n}\n\nconst DEF_DEFAULTS = {\n    startTime: '09:00',\n    endTime: '17:00',\n    daysOfWeek: [1, 2, 3, 4, 5],\n    display: 'inverse-background',\n    classNames: 'fc-non-business',\n    groupId: '_businessHours', // so multiple defs get grouped\n};\n/*\nTODO: pass around as EventDefHash!!!\n*/\nfunction parseBusinessHours(input, context) {\n    return parseEvents(refineInputs(input), null, context);\n}\nfunction refineInputs(input) {\n    let rawDefs;\n    if (input === true) {\n        rawDefs = [{}]; // will get DEF_DEFAULTS verbatim\n    }\n    else if (Array.isArray(input)) {\n        // if specifying an array, every sub-definition NEEDS a day-of-week\n        rawDefs = input.filter((rawDef) => rawDef.daysOfWeek);\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        rawDefs = [input];\n    }\n    else { // is probably false\n        rawDefs = [];\n    }\n    rawDefs = rawDefs.map((rawDef) => (Object.assign(Object.assign({}, DEF_DEFAULTS), rawDef)));\n    return rawDefs;\n}\n\nfunction triggerDateSelect(selection, pev, context) {\n    context.emitter.trigger('select', Object.assign(Object.assign({}, buildDateSpanApiWithContext(selection, context)), { jsEvent: pev ? pev.origEvent : null, view: context.viewApi || context.calendarApi.view }));\n}\nfunction triggerDateUnselect(pev, context) {\n    context.emitter.trigger('unselect', {\n        jsEvent: pev ? pev.origEvent : null,\n        view: context.viewApi || context.calendarApi.view,\n    });\n}\nfunction buildDateSpanApiWithContext(dateSpan, context) {\n    let props = {};\n    for (let transform of context.pluginHooks.dateSpanTransforms) {\n        Object.assign(props, transform(dateSpan, context));\n    }\n    Object.assign(props, buildDateSpanApi(dateSpan, context.dateEnv));\n    return props;\n}\n// Given an event's allDay status and start date, return what its fallback end date should be.\n// TODO: rename to computeDefaultEventEnd\nfunction getDefaultEventEnd(allDay, marker, context) {\n    let { dateEnv, options } = context;\n    let end = marker;\n    if (allDay) {\n        end = startOfDay(end);\n        end = dateEnv.add(end, options.defaultAllDayEventDuration);\n    }\n    else {\n        end = dateEnv.add(end, options.defaultTimedEventDuration);\n    }\n    return end;\n}\n\n// applies the mutation to ALL defs/instances within the event store\nfunction applyMutationToEventStore(eventStore, eventConfigBase, mutation, context) {\n    let eventConfigs = compileEventUis(eventStore.defs, eventConfigBase);\n    let dest = createEmptyEventStore();\n    for (let defId in eventStore.defs) {\n        let def = eventStore.defs[defId];\n        dest.defs[defId] = applyMutationToEventDef(def, eventConfigs[defId], mutation, context);\n    }\n    for (let instanceId in eventStore.instances) {\n        let instance = eventStore.instances[instanceId];\n        let def = dest.defs[instance.defId]; // important to grab the newly modified def\n        dest.instances[instanceId] = applyMutationToEventInstance(instance, def, eventConfigs[instance.defId], mutation, context);\n    }\n    return dest;\n}\nfunction applyMutationToEventDef(eventDef, eventConfig, mutation, context) {\n    let standardProps = mutation.standardProps || {};\n    // if hasEnd has not been specified, guess a good value based on deltas.\n    // if duration will change, there's no way the default duration will persist,\n    // and thus, we need to mark the event as having a real end\n    if (standardProps.hasEnd == null &&\n        eventConfig.durationEditable &&\n        (mutation.startDelta || mutation.endDelta)) {\n        standardProps.hasEnd = true; // TODO: is this mutation okay?\n    }\n    let copy = Object.assign(Object.assign(Object.assign({}, eventDef), standardProps), { ui: Object.assign(Object.assign({}, eventDef.ui), standardProps.ui) });\n    if (mutation.extendedProps) {\n        copy.extendedProps = Object.assign(Object.assign({}, copy.extendedProps), mutation.extendedProps);\n    }\n    for (let applier of context.pluginHooks.eventDefMutationAppliers) {\n        applier(copy, mutation, context);\n    }\n    if (!copy.hasEnd && context.options.forceEventDuration) {\n        copy.hasEnd = true;\n    }\n    return copy;\n}\nfunction applyMutationToEventInstance(eventInstance, eventDef, // must first be modified by applyMutationToEventDef\neventConfig, mutation, context) {\n    let { dateEnv } = context;\n    let forceAllDay = mutation.standardProps && mutation.standardProps.allDay === true;\n    let clearEnd = mutation.standardProps && mutation.standardProps.hasEnd === false;\n    let copy = Object.assign({}, eventInstance);\n    if (forceAllDay) {\n        copy.range = computeAlignedDayRange(copy.range);\n    }\n    if (mutation.datesDelta && eventConfig.startEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.datesDelta),\n            end: dateEnv.add(copy.range.end, mutation.datesDelta),\n        };\n    }\n    if (mutation.startDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.startDelta),\n            end: copy.range.end,\n        };\n    }\n    if (mutation.endDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: copy.range.start,\n            end: dateEnv.add(copy.range.end, mutation.endDelta),\n        };\n    }\n    if (clearEnd) {\n        copy.range = {\n            start: copy.range.start,\n            end: getDefaultEventEnd(eventDef.allDay, copy.range.start, context),\n        };\n    }\n    // in case event was all-day but the supplied deltas were not\n    // better util for this?\n    if (eventDef.allDay) {\n        copy.range = {\n            start: startOfDay(copy.range.start),\n            end: startOfDay(copy.range.end),\n        };\n    }\n    // handle invalid durations\n    if (copy.range.end < copy.range.start) {\n        copy.range.end = getDefaultEventEnd(eventDef.allDay, copy.range.start, context);\n    }\n    return copy;\n}\n\nclass EventSourceImpl {\n    constructor(context, internalEventSource) {\n        this.context = context;\n        this.internalEventSource = internalEventSource;\n    }\n    remove() {\n        this.context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: this.internalEventSource.sourceId,\n        });\n    }\n    refetch() {\n        this.context.dispatch({\n            type: 'FETCH_EVENT_SOURCES',\n            sourceIds: [this.internalEventSource.sourceId],\n            isRefetch: true,\n        });\n    }\n    get id() {\n        return this.internalEventSource.publicId;\n    }\n    get url() {\n        return this.internalEventSource.meta.url;\n    }\n    get format() {\n        return this.internalEventSource.meta.format; // TODO: bad. not guaranteed\n    }\n}\n\nclass EventImpl {\n    // instance will be null if expressing a recurring event that has no current instances,\n    // OR if trying to validate an incoming external event that has no dates assigned\n    constructor(context, def, instance) {\n        this._context = context;\n        this._def = def;\n        this._instance = instance || null;\n    }\n    /*\n    TODO: make event struct more responsible for this\n    */\n    setProp(name, val) {\n        if (name in EVENT_DATE_REFINERS) {\n            console.warn('Could not set date-related prop \\'name\\'. Use one of the date-related methods instead.');\n            // TODO: make proper aliasing system?\n        }\n        else if (name === 'id') {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: { publicId: val }, // hardcoded internal name\n            });\n        }\n        else if (name in EVENT_NON_DATE_REFINERS) {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: { [name]: val },\n            });\n        }\n        else if (name in EVENT_UI_REFINERS) {\n            let ui = EVENT_UI_REFINERS[name](val);\n            if (name === 'color') {\n                ui = { backgroundColor: val, borderColor: val };\n            }\n            else if (name === 'editable') {\n                ui = { startEditable: val, durationEditable: val };\n            }\n            else {\n                ui = { [name]: val };\n            }\n            this.mutate({\n                standardProps: { ui },\n            });\n        }\n        else {\n            console.warn(`Could not set prop '${name}'. Use setExtendedProp instead.`);\n        }\n    }\n    setExtendedProp(name, val) {\n        this.mutate({\n            extendedProps: { [name]: val },\n        });\n    }\n    setStart(startInput, options = {}) {\n        let { dateEnv } = this._context;\n        let start = dateEnv.createMarker(startInput);\n        if (start && this._instance) { // TODO: warning if parsed bad\n            let instanceRange = this._instance.range;\n            let startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity); // what if parsed bad!?\n            if (options.maintainDuration) {\n                this.mutate({ datesDelta: startDelta });\n            }\n            else {\n                this.mutate({ startDelta });\n            }\n        }\n    }\n    setEnd(endInput, options = {}) {\n        let { dateEnv } = this._context;\n        let end;\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) {\n                return; // TODO: warning if parsed bad\n            }\n        }\n        if (this._instance) {\n            if (end) {\n                let endDelta = diffDates(this._instance.range.end, end, dateEnv, options.granularity);\n                this.mutate({ endDelta });\n            }\n            else {\n                this.mutate({ standardProps: { hasEnd: false } });\n            }\n        }\n    }\n    setDates(startInput, endInput, options = {}) {\n        let { dateEnv } = this._context;\n        let standardProps = { allDay: options.allDay };\n        let start = dateEnv.createMarker(startInput);\n        let end;\n        if (!start) {\n            return; // TODO: warning if parsed bad\n        }\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) { // TODO: warning if parsed bad\n                return;\n            }\n        }\n        if (this._instance) {\n            let instanceRange = this._instance.range;\n            // when computing the diff for an event being converted to all-day,\n            // compute diff off of the all-day values the way event-mutation does.\n            if (options.allDay === true) {\n                instanceRange = computeAlignedDayRange(instanceRange);\n            }\n            let startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity);\n            if (end) {\n                let endDelta = diffDates(instanceRange.end, end, dateEnv, options.granularity);\n                if (durationsEqual(startDelta, endDelta)) {\n                    this.mutate({ datesDelta: startDelta, standardProps });\n                }\n                else {\n                    this.mutate({ startDelta, endDelta, standardProps });\n                }\n            }\n            else { // means \"clear the end\"\n                standardProps.hasEnd = false;\n                this.mutate({ datesDelta: startDelta, standardProps });\n            }\n        }\n    }\n    moveStart(deltaInput) {\n        let delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ startDelta: delta });\n        }\n    }\n    moveEnd(deltaInput) {\n        let delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ endDelta: delta });\n        }\n    }\n    moveDates(deltaInput) {\n        let delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ datesDelta: delta });\n        }\n    }\n    setAllDay(allDay, options = {}) {\n        let standardProps = { allDay };\n        let { maintainDuration } = options;\n        if (maintainDuration == null) {\n            maintainDuration = this._context.options.allDayMaintainDuration;\n        }\n        if (this._def.allDay !== allDay) {\n            standardProps.hasEnd = maintainDuration;\n        }\n        this.mutate({ standardProps });\n    }\n    formatRange(formatInput) {\n        let { dateEnv } = this._context;\n        let instance = this._instance;\n        let formatter = createFormatter(formatInput);\n        if (this._def.hasEnd) {\n            return dateEnv.formatRange(instance.range.start, instance.range.end, formatter, {\n                forcedStartTzo: instance.forcedStartTzo,\n                forcedEndTzo: instance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(instance.range.start, formatter, {\n            forcedTzo: instance.forcedStartTzo,\n        });\n    }\n    mutate(mutation) {\n        let instance = this._instance;\n        if (instance) {\n            let def = this._def;\n            let context = this._context;\n            let { eventStore } = context.getCurrentData();\n            let relevantEvents = getRelevantEvents(eventStore, instance.instanceId);\n            let eventConfigBase = {\n                '': {\n                    display: '',\n                    startEditable: true,\n                    durationEditable: true,\n                    constraints: [],\n                    overlap: null,\n                    allows: [],\n                    backgroundColor: '',\n                    borderColor: '',\n                    textColor: '',\n                    classNames: [],\n                },\n            };\n            relevantEvents = applyMutationToEventStore(relevantEvents, eventConfigBase, mutation, context);\n            let oldEvent = new EventImpl(context, def, instance); // snapshot\n            this._def = relevantEvents.defs[def.defId];\n            this._instance = relevantEvents.instances[instance.instanceId];\n            context.dispatch({\n                type: 'MERGE_EVENTS',\n                eventStore: relevantEvents,\n            });\n            context.emitter.trigger('eventChange', {\n                oldEvent,\n                event: this,\n                relatedEvents: buildEventApis(relevantEvents, context, instance),\n                revert() {\n                    context.dispatch({\n                        type: 'RESET_EVENTS',\n                        eventStore, // the ORIGINAL store\n                    });\n                },\n            });\n        }\n    }\n    remove() {\n        let context = this._context;\n        let asStore = eventApiToStore(this);\n        context.dispatch({\n            type: 'REMOVE_EVENTS',\n            eventStore: asStore,\n        });\n        context.emitter.trigger('eventRemove', {\n            event: this,\n            relatedEvents: [],\n            revert() {\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: asStore,\n                });\n            },\n        });\n    }\n    get source() {\n        let { sourceId } = this._def;\n        if (sourceId) {\n            return new EventSourceImpl(this._context, this._context.getCurrentData().eventSources[sourceId]);\n        }\n        return null;\n    }\n    get start() {\n        return this._instance ?\n            this._context.dateEnv.toDate(this._instance.range.start) :\n            null;\n    }\n    get end() {\n        return (this._instance && this._def.hasEnd) ?\n            this._context.dateEnv.toDate(this._instance.range.end) :\n            null;\n    }\n    get startStr() {\n        let instance = this._instance;\n        if (instance) {\n            return this._context.dateEnv.formatIso(instance.range.start, {\n                omitTime: this._def.allDay,\n                forcedTzo: instance.forcedStartTzo,\n            });\n        }\n        return '';\n    }\n    get endStr() {\n        let instance = this._instance;\n        if (instance && this._def.hasEnd) {\n            return this._context.dateEnv.formatIso(instance.range.end, {\n                omitTime: this._def.allDay,\n                forcedTzo: instance.forcedEndTzo,\n            });\n        }\n        return '';\n    }\n    // computable props that all access the def\n    // TODO: find a TypeScript-compatible way to do this at scale\n    get id() { return this._def.publicId; }\n    get groupId() { return this._def.groupId; }\n    get allDay() { return this._def.allDay; }\n    get title() { return this._def.title; }\n    get url() { return this._def.url; }\n    get display() { return this._def.ui.display || 'auto'; } // bad. just normalize the type earlier\n    get startEditable() { return this._def.ui.startEditable; }\n    get durationEditable() { return this._def.ui.durationEditable; }\n    get constraint() { return this._def.ui.constraints[0] || null; }\n    get overlap() { return this._def.ui.overlap; }\n    get allow() { return this._def.ui.allows[0] || null; }\n    get backgroundColor() { return this._def.ui.backgroundColor; }\n    get borderColor() { return this._def.ui.borderColor; }\n    get textColor() { return this._def.ui.textColor; }\n    // NOTE: user can't modify these because Object.freeze was called in event-def parsing\n    get classNames() { return this._def.ui.classNames; }\n    get extendedProps() { return this._def.extendedProps; }\n    toPlainObject(settings = {}) {\n        let def = this._def;\n        let { ui } = def;\n        let { startStr, endStr } = this;\n        let res = {\n            allDay: def.allDay,\n        };\n        if (def.title) {\n            res.title = def.title;\n        }\n        if (startStr) {\n            res.start = startStr;\n        }\n        if (endStr) {\n            res.end = endStr;\n        }\n        if (def.publicId) {\n            res.id = def.publicId;\n        }\n        if (def.groupId) {\n            res.groupId = def.groupId;\n        }\n        if (def.url) {\n            res.url = def.url;\n        }\n        if (ui.display && ui.display !== 'auto') {\n            res.display = ui.display;\n        }\n        // TODO: what about recurring-event properties???\n        // TODO: include startEditable/durationEditable/constraint/overlap/allow\n        if (settings.collapseColor && ui.backgroundColor && ui.backgroundColor === ui.borderColor) {\n            res.color = ui.backgroundColor;\n        }\n        else {\n            if (ui.backgroundColor) {\n                res.backgroundColor = ui.backgroundColor;\n            }\n            if (ui.borderColor) {\n                res.borderColor = ui.borderColor;\n            }\n        }\n        if (ui.textColor) {\n            res.textColor = ui.textColor;\n        }\n        if (ui.classNames.length) {\n            res.classNames = ui.classNames;\n        }\n        if (Object.keys(def.extendedProps).length) {\n            if (settings.collapseExtendedProps) {\n                Object.assign(res, def.extendedProps);\n            }\n            else {\n                res.extendedProps = def.extendedProps;\n            }\n        }\n        return res;\n    }\n    toJSON() {\n        return this.toPlainObject();\n    }\n}\nfunction eventApiToStore(eventApi) {\n    let def = eventApi._def;\n    let instance = eventApi._instance;\n    return {\n        defs: { [def.defId]: def },\n        instances: instance\n            ? { [instance.instanceId]: instance }\n            : {},\n    };\n}\nfunction buildEventApis(eventStore, context, excludeInstance) {\n    let { defs, instances } = eventStore;\n    let eventApis = [];\n    let excludeInstanceId = excludeInstance ? excludeInstance.instanceId : '';\n    for (let id in instances) {\n        let instance = instances[id];\n        let def = defs[instance.defId];\n        if (instance.instanceId !== excludeInstanceId) {\n            eventApis.push(new EventImpl(context, def, instance));\n        }\n    }\n    return eventApis;\n}\n\n/*\nSpecifying nextDayThreshold signals that all-day ranges should be sliced.\n*/\nfunction sliceEventStore(eventStore, eventUiBases, framingRange, nextDayThreshold) {\n    let inverseBgByGroupId = {};\n    let inverseBgByDefId = {};\n    let defByGroupId = {};\n    let bgRanges = [];\n    let fgRanges = [];\n    let eventUis = compileEventUis(eventStore.defs, eventUiBases);\n    for (let defId in eventStore.defs) {\n        let def = eventStore.defs[defId];\n        let ui = eventUis[def.defId];\n        if (ui.display === 'inverse-background') {\n            if (def.groupId) {\n                inverseBgByGroupId[def.groupId] = [];\n                if (!defByGroupId[def.groupId]) {\n                    defByGroupId[def.groupId] = def;\n                }\n            }\n            else {\n                inverseBgByDefId[defId] = [];\n            }\n        }\n    }\n    for (let instanceId in eventStore.instances) {\n        let instance = eventStore.instances[instanceId];\n        let def = eventStore.defs[instance.defId];\n        let ui = eventUis[def.defId];\n        let origRange = instance.range;\n        let normalRange = (!def.allDay && nextDayThreshold) ?\n            computeVisibleDayRange(origRange, nextDayThreshold) :\n            origRange;\n        let slicedRange = intersectRanges(normalRange, framingRange);\n        if (slicedRange) {\n            if (ui.display === 'inverse-background') {\n                if (def.groupId) {\n                    inverseBgByGroupId[def.groupId].push(slicedRange);\n                }\n                else {\n                    inverseBgByDefId[instance.defId].push(slicedRange);\n                }\n            }\n            else if (ui.display !== 'none') {\n                (ui.display === 'background' ? bgRanges : fgRanges).push({\n                    def,\n                    ui,\n                    instance,\n                    range: slicedRange,\n                    isStart: normalRange.start && normalRange.start.valueOf() === slicedRange.start.valueOf(),\n                    isEnd: normalRange.end && normalRange.end.valueOf() === slicedRange.end.valueOf(),\n                });\n            }\n        }\n    }\n    for (let groupId in inverseBgByGroupId) { // BY GROUP\n        let ranges = inverseBgByGroupId[groupId];\n        let invertedRanges = invertRanges(ranges, framingRange);\n        for (let invertedRange of invertedRanges) {\n            let def = defByGroupId[groupId];\n            let ui = eventUis[def.defId];\n            bgRanges.push({\n                def,\n                ui,\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    for (let defId in inverseBgByDefId) {\n        let ranges = inverseBgByDefId[defId];\n        let invertedRanges = invertRanges(ranges, framingRange);\n        for (let invertedRange of invertedRanges) {\n            bgRanges.push({\n                def: eventStore.defs[defId],\n                ui: eventUis[defId],\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    return { bg: bgRanges, fg: fgRanges };\n}\nfunction hasBgRendering(def) {\n    return def.ui.display === 'background' || def.ui.display === 'inverse-background';\n}\nfunction setElSeg(el, seg) {\n    el.fcSeg = seg;\n}\nfunction getElSeg(el) {\n    return el.fcSeg ||\n        el.parentNode.fcSeg || // for the harness\n        null;\n}\n// event ui computation\nfunction compileEventUis(eventDefs, eventUiBases) {\n    return mapHash(eventDefs, (eventDef) => compileEventUi(eventDef, eventUiBases));\n}\nfunction compileEventUi(eventDef, eventUiBases) {\n    let uis = [];\n    if (eventUiBases['']) {\n        uis.push(eventUiBases['']);\n    }\n    if (eventUiBases[eventDef.defId]) {\n        uis.push(eventUiBases[eventDef.defId]);\n    }\n    uis.push(eventDef.ui);\n    return combineEventUis(uis);\n}\nfunction sortEventSegs(segs, eventOrderSpecs) {\n    let objs = segs.map(buildSegCompareObj);\n    objs.sort((obj0, obj1) => compareByFieldSpecs(obj0, obj1, eventOrderSpecs));\n    return objs.map((c) => c._seg);\n}\n// returns a object with all primitive props that can be compared\nfunction buildSegCompareObj(seg) {\n    let { eventRange } = seg;\n    let eventDef = eventRange.def;\n    let range = eventRange.instance ? eventRange.instance.range : eventRange.range;\n    let start = range.start ? range.start.valueOf() : 0; // TODO: better support for open-range events\n    let end = range.end ? range.end.valueOf() : 0; // \"\n    return Object.assign(Object.assign(Object.assign({}, eventDef.extendedProps), eventDef), { id: eventDef.publicId, start,\n        end, duration: end - start, allDay: Number(eventDef.allDay), _seg: seg });\n}\nfunction computeSegDraggable(seg, context) {\n    let { pluginHooks } = context;\n    let transformers = pluginHooks.isDraggableTransformers;\n    let { def, ui } = seg.eventRange;\n    let val = ui.startEditable;\n    for (let transformer of transformers) {\n        val = transformer(val, def, ui, context);\n    }\n    return val;\n}\nfunction computeSegStartResizable(seg, context) {\n    return seg.isStart && seg.eventRange.ui.durationEditable && context.options.eventResizableFromStart;\n}\nfunction computeSegEndResizable(seg, context) {\n    return seg.isEnd && seg.eventRange.ui.durationEditable;\n}\nfunction buildSegTimeText(seg, timeFormat, context, defaultDisplayEventTime, // defaults to true\ndefaultDisplayEventEnd, // defaults to true\nstartOverride, endOverride) {\n    let { dateEnv, options } = context;\n    let { displayEventTime, displayEventEnd } = options;\n    let eventDef = seg.eventRange.def;\n    let eventInstance = seg.eventRange.instance;\n    if (displayEventTime == null) {\n        displayEventTime = defaultDisplayEventTime !== false;\n    }\n    if (displayEventEnd == null) {\n        displayEventEnd = defaultDisplayEventEnd !== false;\n    }\n    let wholeEventStart = eventInstance.range.start;\n    let wholeEventEnd = eventInstance.range.end;\n    let segStart = startOverride || seg.start || seg.eventRange.range.start;\n    let segEnd = endOverride || seg.end || seg.eventRange.range.end;\n    let isStartDay = startOfDay(wholeEventStart).valueOf() === startOfDay(segStart).valueOf();\n    let isEndDay = startOfDay(addMs(wholeEventEnd, -1)).valueOf() === startOfDay(addMs(segEnd, -1)).valueOf();\n    if (displayEventTime && !eventDef.allDay && (isStartDay || isEndDay)) {\n        segStart = isStartDay ? wholeEventStart : segStart;\n        segEnd = isEndDay ? wholeEventEnd : segEnd;\n        if (displayEventEnd && eventDef.hasEnd) {\n            return dateEnv.formatRange(segStart, segEnd, timeFormat, {\n                forcedStartTzo: startOverride ? null : eventInstance.forcedStartTzo,\n                forcedEndTzo: endOverride ? null : eventInstance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(segStart, timeFormat, {\n            forcedTzo: startOverride ? null : eventInstance.forcedStartTzo, // nooooo, same\n        });\n    }\n    return '';\n}\nfunction getSegMeta(seg, todayRange, nowDate) {\n    let segRange = seg.eventRange.range;\n    return {\n        isPast: segRange.end <= (nowDate || todayRange.start),\n        isFuture: segRange.start >= (nowDate || todayRange.end),\n        isToday: todayRange && rangeContainsMarker(todayRange, segRange.start),\n    };\n}\nfunction getEventClassNames(props) {\n    let classNames = ['fc-event'];\n    if (props.isMirror) {\n        classNames.push('fc-event-mirror');\n    }\n    if (props.isDraggable) {\n        classNames.push('fc-event-draggable');\n    }\n    if (props.isStartResizable || props.isEndResizable) {\n        classNames.push('fc-event-resizable');\n    }\n    if (props.isDragging) {\n        classNames.push('fc-event-dragging');\n    }\n    if (props.isResizing) {\n        classNames.push('fc-event-resizing');\n    }\n    if (props.isSelected) {\n        classNames.push('fc-event-selected');\n    }\n    if (props.isStart) {\n        classNames.push('fc-event-start');\n    }\n    if (props.isEnd) {\n        classNames.push('fc-event-end');\n    }\n    if (props.isPast) {\n        classNames.push('fc-event-past');\n    }\n    if (props.isToday) {\n        classNames.push('fc-event-today');\n    }\n    if (props.isFuture) {\n        classNames.push('fc-event-future');\n    }\n    return classNames;\n}\nfunction buildEventRangeKey(eventRange) {\n    return eventRange.instance\n        ? eventRange.instance.instanceId\n        : `${eventRange.def.defId}:${eventRange.range.start.toISOString()}`;\n    // inverse-background events don't have specific instances. TODO: better solution\n}\nfunction getSegAnchorAttrs(seg, context) {\n    let { def, instance } = seg.eventRange;\n    let { url } = def;\n    if (url) {\n        return { href: url };\n    }\n    let { emitter, options } = context;\n    let { eventInteractive } = options;\n    if (eventInteractive == null) {\n        eventInteractive = def.interactive;\n        if (eventInteractive == null) {\n            eventInteractive = Boolean(emitter.hasHandlers('eventClick'));\n        }\n    }\n    // mock what happens in EventClicking\n    if (eventInteractive) {\n        // only attach keyboard-related handlers because click handler is already done in EventClicking\n        return createAriaKeyboardAttrs((ev) => {\n            emitter.trigger('eventClick', {\n                el: ev.target,\n                event: new EventImpl(context, def, instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        });\n    }\n    return {};\n}\n\nconst STANDARD_PROPS = {\n    start: identity,\n    end: identity,\n    allDay: Boolean,\n};\nfunction parseDateSpan(raw, dateEnv, defaultDuration) {\n    let span = parseOpenDateSpan(raw, dateEnv);\n    let { range } = span;\n    if (!range.start) {\n        return null;\n    }\n    if (!range.end) {\n        if (defaultDuration == null) {\n            return null;\n        }\n        range.end = dateEnv.add(range.start, defaultDuration);\n    }\n    return span;\n}\n/*\nTODO: somehow combine with parseRange?\nWill return null if the start/end props were present but parsed invalidly.\n*/\nfunction parseOpenDateSpan(raw, dateEnv) {\n    let { refined: standardProps, extra } = refineProps(raw, STANDARD_PROPS);\n    let startMeta = standardProps.start ? dateEnv.createMarkerMeta(standardProps.start) : null;\n    let endMeta = standardProps.end ? dateEnv.createMarkerMeta(standardProps.end) : null;\n    let { allDay } = standardProps;\n    if (allDay == null) {\n        allDay = (startMeta && startMeta.isTimeUnspecified) &&\n            (!endMeta || endMeta.isTimeUnspecified);\n    }\n    return Object.assign({ range: {\n            start: startMeta ? startMeta.marker : null,\n            end: endMeta ? endMeta.marker : null,\n        }, allDay }, extra);\n}\nfunction isDateSpansEqual(span0, span1) {\n    return rangesEqual(span0.range, span1.range) &&\n        span0.allDay === span1.allDay &&\n        isSpanPropsEqual(span0, span1);\n}\n// the NON-DATE-RELATED props\nfunction isSpanPropsEqual(span0, span1) {\n    for (let propName in span1) {\n        if (propName !== 'range' && propName !== 'allDay') {\n            if (span0[propName] !== span1[propName]) {\n                return false;\n            }\n        }\n    }\n    // are there any props that span0 has that span1 DOESN'T have?\n    // both have range/allDay, so no need to special-case.\n    for (let propName in span0) {\n        if (!(propName in span1)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction buildDateSpanApi(span, dateEnv) {\n    return Object.assign(Object.assign({}, buildRangeApi(span.range, dateEnv, span.allDay)), { allDay: span.allDay });\n}\nfunction buildRangeApiWithTimeZone(range, dateEnv, omitTime) {\n    return Object.assign(Object.assign({}, buildRangeApi(range, dateEnv, omitTime)), { timeZone: dateEnv.timeZone });\n}\nfunction buildRangeApi(range, dateEnv, omitTime) {\n    return {\n        start: dateEnv.toDate(range.start),\n        end: dateEnv.toDate(range.end),\n        startStr: dateEnv.formatIso(range.start, { omitTime }),\n        endStr: dateEnv.formatIso(range.end, { omitTime }),\n    };\n}\nfunction fabricateEventRange(dateSpan, eventUiBases, context) {\n    let res = refineEventDef({ editable: false }, context);\n    let def = parseEventDef(res.refined, res.extra, '', // sourceId\n    dateSpan.allDay, true, // hasEnd\n    context);\n    return {\n        def,\n        ui: compileEventUi(def, eventUiBases),\n        instance: createEventInstance(def.defId, dateSpan.range),\n        range: dateSpan.range,\n        isStart: true,\n        isEnd: true,\n    };\n}\n\n/*\ngiven a function that resolves a result asynchronously.\nthe function can either call passed-in success and failure callbacks,\nor it can return a promise.\nif you need to pass additional params to func, bind them first.\n*/\nfunction unpromisify(func, normalizedSuccessCallback, normalizedFailureCallback) {\n    // guard against success/failure callbacks being called more than once\n    // and guard against a promise AND callback being used together.\n    let isResolved = false;\n    let wrappedSuccess = function (res) {\n        if (!isResolved) {\n            isResolved = true;\n            normalizedSuccessCallback(res);\n        }\n    };\n    let wrappedFailure = function (error) {\n        if (!isResolved) {\n            isResolved = true;\n            normalizedFailureCallback(error);\n        }\n    };\n    let res = func(wrappedSuccess, wrappedFailure);\n    if (res && typeof res.then === 'function') {\n        res.then(wrappedSuccess, wrappedFailure);\n    }\n}\n\nclass JsonRequestError extends Error {\n    constructor(message, response) {\n        super(message);\n        this.response = response;\n    }\n}\nfunction requestJson(method, url, params) {\n    method = method.toUpperCase();\n    const fetchOptions = {\n        method,\n    };\n    if (method === 'GET') {\n        url += (url.indexOf('?') === -1 ? '?' : '&') +\n            new URLSearchParams(params);\n    }\n    else {\n        fetchOptions.body = new URLSearchParams(params);\n        fetchOptions.headers = {\n            'Content-Type': 'application/x-www-form-urlencoded',\n        };\n    }\n    return fetch(url, fetchOptions).then((fetchRes) => {\n        if (fetchRes.ok) {\n            return fetchRes.json().then((parsedResponse) => {\n                return [parsedResponse, fetchRes];\n            }, () => {\n                throw new JsonRequestError('Failure parsing JSON', fetchRes);\n            });\n        }\n        else {\n            throw new JsonRequestError('Request failed', fetchRes);\n        }\n    });\n}\n\nlet canVGrowWithinCell;\nfunction getCanVGrowWithinCell() {\n    if (canVGrowWithinCell == null) {\n        canVGrowWithinCell = computeCanVGrowWithinCell();\n    }\n    return canVGrowWithinCell;\n}\nfunction computeCanVGrowWithinCell() {\n    // for SSR, because this function is call immediately at top-level\n    // TODO: just make this logic execute top-level, immediately, instead of doing lazily\n    if (typeof document === 'undefined') {\n        return true;\n    }\n    let el = document.createElement('div');\n    el.style.position = 'absolute';\n    el.style.top = '0px';\n    el.style.left = '0px';\n    el.innerHTML = '<table><tr><td><div></div></td></tr></table>';\n    el.querySelector('table').style.height = '100px';\n    el.querySelector('div').style.height = '100%';\n    document.body.appendChild(el);\n    let div = el.querySelector('div');\n    let possible = div.offsetHeight > 0;\n    document.body.removeChild(el);\n    return possible;\n}\n\nclass CalendarRoot extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            forPrint: false,\n        };\n        this.handleBeforePrint = () => {\n            flushSync(() => {\n                this.setState({ forPrint: true });\n            });\n        };\n        this.handleAfterPrint = () => {\n            flushSync(() => {\n                this.setState({ forPrint: false });\n            });\n        };\n    }\n    render() {\n        let { props } = this;\n        let { options } = props;\n        let { forPrint } = this.state;\n        let isHeightAuto = forPrint || options.height === 'auto' || options.contentHeight === 'auto';\n        let height = (!isHeightAuto && options.height != null) ? options.height : '';\n        let classNames = [\n            'fc',\n            forPrint ? 'fc-media-print' : 'fc-media-screen',\n            `fc-direction-${options.direction}`,\n            props.theme.getClass('root'),\n        ];\n        if (!getCanVGrowWithinCell()) {\n            classNames.push('fc-liquid-hack');\n        }\n        return props.children(classNames, height, isHeightAuto, forPrint);\n    }\n    componentDidMount() {\n        let { emitter } = this.props;\n        emitter.on('_beforeprint', this.handleBeforePrint);\n        emitter.on('_afterprint', this.handleAfterPrint);\n    }\n    componentWillUnmount() {\n        let { emitter } = this.props;\n        emitter.off('_beforeprint', this.handleBeforePrint);\n        emitter.off('_afterprint', this.handleAfterPrint);\n    }\n}\n\nclass Interaction {\n    constructor(settings) {\n        this.component = settings.component;\n        this.isHitComboAllowed = settings.isHitComboAllowed || null;\n    }\n    destroy() {\n    }\n}\nfunction parseInteractionSettings(component, input) {\n    return {\n        component,\n        el: input.el,\n        useEventCenter: input.useEventCenter != null ? input.useEventCenter : true,\n        isHitComboAllowed: input.isHitComboAllowed || null,\n    };\n}\nfunction interactionSettingsToStore(settings) {\n    return {\n        [settings.component.uid]: settings,\n    };\n}\n// global state\nconst interactionSettingsStore = {};\n\nclass CalendarImpl {\n    getCurrentData() {\n        return this.currentDataManager.getCurrentData();\n    }\n    dispatch(action) {\n        this.currentDataManager.dispatch(action);\n    }\n    get view() { return this.getCurrentData().viewApi; }\n    batchRendering(callback) {\n        callback();\n    }\n    updateSize() {\n        this.trigger('_resize', true);\n    }\n    // Options\n    // -----------------------------------------------------------------------------------------------------------------\n    setOption(name, val) {\n        this.dispatch({\n            type: 'SET_OPTION',\n            optionName: name,\n            rawOptionValue: val,\n        });\n    }\n    getOption(name) {\n        return this.currentDataManager.currentCalendarOptionsInput[name];\n    }\n    getAvailableLocaleCodes() {\n        return Object.keys(this.getCurrentData().availableRawLocales);\n    }\n    // Trigger\n    // -----------------------------------------------------------------------------------------------------------------\n    on(handlerName, handler) {\n        let { currentDataManager } = this;\n        if (currentDataManager.currentCalendarOptionsRefiners[handlerName]) {\n            currentDataManager.emitter.on(handlerName, handler);\n        }\n        else {\n            console.warn(`Unknown listener name '${handlerName}'`);\n        }\n    }\n    off(handlerName, handler) {\n        this.currentDataManager.emitter.off(handlerName, handler);\n    }\n    // not meant for public use\n    trigger(handlerName, ...args) {\n        this.currentDataManager.emitter.trigger(handlerName, ...args);\n    }\n    // View\n    // -----------------------------------------------------------------------------------------------------------------\n    changeView(viewType, dateOrRange) {\n        this.batchRendering(() => {\n            this.unselect();\n            if (dateOrRange) {\n                if (dateOrRange.start && dateOrRange.end) { // a range\n                    this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType,\n                    });\n                    this.dispatch({\n                        type: 'SET_OPTION',\n                        optionName: 'visibleRange',\n                        rawOptionValue: dateOrRange,\n                    });\n                }\n                else {\n                    let { dateEnv } = this.getCurrentData();\n                    this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType,\n                        dateMarker: dateEnv.createMarker(dateOrRange),\n                    });\n                }\n            }\n            else {\n                this.dispatch({\n                    type: 'CHANGE_VIEW_TYPE',\n                    viewType,\n                });\n            }\n        });\n    }\n    // Forces navigation to a view for the given date.\n    // `viewType` can be a specific view name or a generic one like \"week\" or \"day\".\n    // needs to change\n    zoomTo(dateMarker, viewType) {\n        let state = this.getCurrentData();\n        let spec;\n        viewType = viewType || 'day'; // day is default zoom\n        spec = state.viewSpecs[viewType] || this.getUnitViewSpec(viewType);\n        this.unselect();\n        if (spec) {\n            this.dispatch({\n                type: 'CHANGE_VIEW_TYPE',\n                viewType: spec.type,\n                dateMarker,\n            });\n        }\n        else {\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker,\n            });\n        }\n    }\n    // Given a duration singular unit, like \"week\" or \"day\", finds a matching view spec.\n    // Preference is given to views that have corresponding buttons.\n    getUnitViewSpec(unit) {\n        let { viewSpecs, toolbarConfig } = this.getCurrentData();\n        let viewTypes = [].concat(toolbarConfig.header ? toolbarConfig.header.viewsWithButtons : [], toolbarConfig.footer ? toolbarConfig.footer.viewsWithButtons : []);\n        let i;\n        let spec;\n        for (let viewType in viewSpecs) {\n            viewTypes.push(viewType);\n        }\n        for (i = 0; i < viewTypes.length; i += 1) {\n            spec = viewSpecs[viewTypes[i]];\n            if (spec) {\n                if (spec.singleUnit === unit) {\n                    return spec;\n                }\n            }\n        }\n        return null;\n    }\n    // Current Date\n    // -----------------------------------------------------------------------------------------------------------------\n    prev() {\n        this.unselect();\n        this.dispatch({ type: 'PREV' });\n    }\n    next() {\n        this.unselect();\n        this.dispatch({ type: 'NEXT' });\n    }\n    prevYear() {\n        let state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, -1),\n        });\n    }\n    nextYear() {\n        let state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, 1),\n        });\n    }\n    today() {\n        let state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: getNow(state.calendarOptions.now, state.dateEnv),\n        });\n    }\n    gotoDate(zonedDateInput) {\n        let state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.createMarker(zonedDateInput),\n        });\n    }\n    incrementDate(deltaInput) {\n        let state = this.getCurrentData();\n        let delta = createDuration(deltaInput);\n        if (delta) { // else, warn about invalid input?\n            this.unselect();\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: state.dateEnv.add(state.currentDate, delta),\n            });\n        }\n    }\n    getDate() {\n        let state = this.getCurrentData();\n        return state.dateEnv.toDate(state.currentDate);\n    }\n    // Date Formatting Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    formatDate(d, formatter) {\n        let { dateEnv } = this.getCurrentData();\n        return dateEnv.format(dateEnv.createMarker(d), createFormatter(formatter));\n    }\n    // `settings` is for formatter AND isEndExclusive\n    formatRange(d0, d1, settings) {\n        let { dateEnv } = this.getCurrentData();\n        return dateEnv.formatRange(dateEnv.createMarker(d0), dateEnv.createMarker(d1), createFormatter(settings), settings);\n    }\n    formatIso(d, omitTime) {\n        let { dateEnv } = this.getCurrentData();\n        return dateEnv.formatIso(dateEnv.createMarker(d), { omitTime });\n    }\n    // Date Selection / Event Selection / DayClick\n    // -----------------------------------------------------------------------------------------------------------------\n    select(dateOrObj, endDate) {\n        let selectionInput;\n        if (endDate == null) {\n            if (dateOrObj.start != null) {\n                selectionInput = dateOrObj;\n            }\n            else {\n                selectionInput = {\n                    start: dateOrObj,\n                    end: null,\n                };\n            }\n        }\n        else {\n            selectionInput = {\n                start: dateOrObj,\n                end: endDate,\n            };\n        }\n        let state = this.getCurrentData();\n        let selection = parseDateSpan(selectionInput, state.dateEnv, createDuration({ days: 1 }));\n        if (selection) { // throw parse error otherwise?\n            this.dispatch({ type: 'SELECT_DATES', selection });\n            triggerDateSelect(selection, null, state);\n        }\n    }\n    unselect(pev) {\n        let state = this.getCurrentData();\n        if (state.dateSelection) {\n            this.dispatch({ type: 'UNSELECT_DATES' });\n            triggerDateUnselect(pev, state);\n        }\n    }\n    // Public Events API\n    // -----------------------------------------------------------------------------------------------------------------\n    addEvent(eventInput, sourceInput) {\n        if (eventInput instanceof EventImpl) {\n            let def = eventInput._def;\n            let instance = eventInput._instance;\n            let currentData = this.getCurrentData();\n            // not already present? don't want to add an old snapshot\n            if (!currentData.eventStore.defs[def.defId]) {\n                this.dispatch({\n                    type: 'ADD_EVENTS',\n                    eventStore: eventTupleToStore({ def, instance }), // TODO: better util for two args?\n                });\n                this.triggerEventAdd(eventInput);\n            }\n            return eventInput;\n        }\n        let state = this.getCurrentData();\n        let eventSource;\n        if (sourceInput instanceof EventSourceImpl) {\n            eventSource = sourceInput.internalEventSource;\n        }\n        else if (typeof sourceInput === 'boolean') {\n            if (sourceInput) { // true. part of the first event source\n                [eventSource] = hashValuesToArray(state.eventSources);\n            }\n        }\n        else if (sourceInput != null) { // an ID. accepts a number too\n            let sourceApi = this.getEventSourceById(sourceInput); // TODO: use an internal function\n            if (!sourceApi) {\n                console.warn(`Could not find an event source with ID \"${sourceInput}\"`); // TODO: test\n                return null;\n            }\n            eventSource = sourceApi.internalEventSource;\n        }\n        let tuple = parseEvent(eventInput, eventSource, state, false);\n        if (tuple) {\n            let newEventApi = new EventImpl(state, tuple.def, tuple.def.recurringDef ? null : tuple.instance);\n            this.dispatch({\n                type: 'ADD_EVENTS',\n                eventStore: eventTupleToStore(tuple),\n            });\n            this.triggerEventAdd(newEventApi);\n            return newEventApi;\n        }\n        return null;\n    }\n    triggerEventAdd(eventApi) {\n        let { emitter } = this.getCurrentData();\n        emitter.trigger('eventAdd', {\n            event: eventApi,\n            relatedEvents: [],\n            revert: () => {\n                this.dispatch({\n                    type: 'REMOVE_EVENTS',\n                    eventStore: eventApiToStore(eventApi),\n                });\n            },\n        });\n    }\n    // TODO: optimize\n    getEventById(id) {\n        let state = this.getCurrentData();\n        let { defs, instances } = state.eventStore;\n        id = String(id);\n        for (let defId in defs) {\n            let def = defs[defId];\n            if (def.publicId === id) {\n                if (def.recurringDef) {\n                    return new EventImpl(state, def, null);\n                }\n                for (let instanceId in instances) {\n                    let instance = instances[instanceId];\n                    if (instance.defId === def.defId) {\n                        return new EventImpl(state, def, instance);\n                    }\n                }\n            }\n        }\n        return null;\n    }\n    getEvents() {\n        let currentData = this.getCurrentData();\n        return buildEventApis(currentData.eventStore, currentData);\n    }\n    removeAllEvents() {\n        this.dispatch({ type: 'REMOVE_ALL_EVENTS' });\n    }\n    // Public Event Sources API\n    // -----------------------------------------------------------------------------------------------------------------\n    getEventSources() {\n        let state = this.getCurrentData();\n        let sourceHash = state.eventSources;\n        let sourceApis = [];\n        for (let internalId in sourceHash) {\n            sourceApis.push(new EventSourceImpl(state, sourceHash[internalId]));\n        }\n        return sourceApis;\n    }\n    getEventSourceById(id) {\n        let state = this.getCurrentData();\n        let sourceHash = state.eventSources;\n        id = String(id);\n        for (let sourceId in sourceHash) {\n            if (sourceHash[sourceId].publicId === id) {\n                return new EventSourceImpl(state, sourceHash[sourceId]);\n            }\n        }\n        return null;\n    }\n    addEventSource(sourceInput) {\n        let state = this.getCurrentData();\n        if (sourceInput instanceof EventSourceImpl) {\n            // not already present? don't want to add an old snapshot\n            if (!state.eventSources[sourceInput.internalEventSource.sourceId]) {\n                this.dispatch({\n                    type: 'ADD_EVENT_SOURCES',\n                    sources: [sourceInput.internalEventSource],\n                });\n            }\n            return sourceInput;\n        }\n        let eventSource = parseEventSource(sourceInput, state);\n        if (eventSource) { // TODO: error otherwise?\n            this.dispatch({ type: 'ADD_EVENT_SOURCES', sources: [eventSource] });\n            return new EventSourceImpl(state, eventSource);\n        }\n        return null;\n    }\n    removeAllEventSources() {\n        this.dispatch({ type: 'REMOVE_ALL_EVENT_SOURCES' });\n    }\n    refetchEvents() {\n        this.dispatch({ type: 'FETCH_EVENT_SOURCES', isRefetch: true });\n    }\n    // Scroll\n    // -----------------------------------------------------------------------------------------------------------------\n    scrollToTime(timeInput) {\n        let time = createDuration(timeInput);\n        if (time) {\n            this.trigger('_scrollRequest', { time });\n        }\n    }\n}\n\nfunction pointInsideRect(point, rect) {\n    return point.left >= rect.left &&\n        point.left < rect.right &&\n        point.top >= rect.top &&\n        point.top < rect.bottom;\n}\n// Returns a new rectangle that is the intersection of the two rectangles. If they don't intersect, returns false\nfunction intersectRects(rect1, rect2) {\n    let res = {\n        left: Math.max(rect1.left, rect2.left),\n        right: Math.min(rect1.right, rect2.right),\n        top: Math.max(rect1.top, rect2.top),\n        bottom: Math.min(rect1.bottom, rect2.bottom),\n    };\n    if (res.left < res.right && res.top < res.bottom) {\n        return res;\n    }\n    return false;\n}\nfunction translateRect(rect, deltaX, deltaY) {\n    return {\n        left: rect.left + deltaX,\n        right: rect.right + deltaX,\n        top: rect.top + deltaY,\n        bottom: rect.bottom + deltaY,\n    };\n}\n// Returns a new point that will have been moved to reside within the given rectangle\nfunction constrainPoint(point, rect) {\n    return {\n        left: Math.min(Math.max(point.left, rect.left), rect.right),\n        top: Math.min(Math.max(point.top, rect.top), rect.bottom),\n    };\n}\n// Returns a point that is the center of the given rectangle\nfunction getRectCenter(rect) {\n    return {\n        left: (rect.left + rect.right) / 2,\n        top: (rect.top + rect.bottom) / 2,\n    };\n}\n// Subtracts point2's coordinates from point1's coordinates, returning a delta\nfunction diffPoints(point1, point2) {\n    return {\n        left: point1.left - point2.left,\n        top: point1.top - point2.top,\n    };\n}\n\nconst EMPTY_EVENT_STORE = createEmptyEventStore(); // for purecomponents. TODO: keep elsewhere\nclass Splitter {\n    constructor() {\n        this.getKeysForEventDefs = memoize(this._getKeysForEventDefs);\n        this.splitDateSelection = memoize(this._splitDateSpan);\n        this.splitEventStore = memoize(this._splitEventStore);\n        this.splitIndividualUi = memoize(this._splitIndividualUi);\n        this.splitEventDrag = memoize(this._splitInteraction);\n        this.splitEventResize = memoize(this._splitInteraction);\n        this.eventUiBuilders = {}; // TODO: typescript protection\n    }\n    splitProps(props) {\n        let keyInfos = this.getKeyInfo(props);\n        let defKeys = this.getKeysForEventDefs(props.eventStore);\n        let dateSelections = this.splitDateSelection(props.dateSelection);\n        let individualUi = this.splitIndividualUi(props.eventUiBases, defKeys); // the individual *bases*\n        let eventStores = this.splitEventStore(props.eventStore, defKeys);\n        let eventDrags = this.splitEventDrag(props.eventDrag);\n        let eventResizes = this.splitEventResize(props.eventResize);\n        let splitProps = {};\n        this.eventUiBuilders = mapHash(keyInfos, (info, key) => this.eventUiBuilders[key] || memoize(buildEventUiForKey));\n        for (let key in keyInfos) {\n            let keyInfo = keyInfos[key];\n            let eventStore = eventStores[key] || EMPTY_EVENT_STORE;\n            let buildEventUi = this.eventUiBuilders[key];\n            splitProps[key] = {\n                businessHours: keyInfo.businessHours || props.businessHours,\n                dateSelection: dateSelections[key] || null,\n                eventStore,\n                eventUiBases: buildEventUi(props.eventUiBases[''], keyInfo.ui, individualUi[key]),\n                eventSelection: eventStore.instances[props.eventSelection] ? props.eventSelection : '',\n                eventDrag: eventDrags[key] || null,\n                eventResize: eventResizes[key] || null,\n            };\n        }\n        return splitProps;\n    }\n    _splitDateSpan(dateSpan) {\n        let dateSpans = {};\n        if (dateSpan) {\n            let keys = this.getKeysForDateSpan(dateSpan);\n            for (let key of keys) {\n                dateSpans[key] = dateSpan;\n            }\n        }\n        return dateSpans;\n    }\n    _getKeysForEventDefs(eventStore) {\n        return mapHash(eventStore.defs, (eventDef) => this.getKeysForEventDef(eventDef));\n    }\n    _splitEventStore(eventStore, defKeys) {\n        let { defs, instances } = eventStore;\n        let splitStores = {};\n        for (let defId in defs) {\n            for (let key of defKeys[defId]) {\n                if (!splitStores[key]) {\n                    splitStores[key] = createEmptyEventStore();\n                }\n                splitStores[key].defs[defId] = defs[defId];\n            }\n        }\n        for (let instanceId in instances) {\n            let instance = instances[instanceId];\n            for (let key of defKeys[instance.defId]) {\n                if (splitStores[key]) { // must have already been created\n                    splitStores[key].instances[instanceId] = instance;\n                }\n            }\n        }\n        return splitStores;\n    }\n    _splitIndividualUi(eventUiBases, defKeys) {\n        let splitHashes = {};\n        for (let defId in eventUiBases) {\n            if (defId) { // not the '' key\n                for (let key of defKeys[defId]) {\n                    if (!splitHashes[key]) {\n                        splitHashes[key] = {};\n                    }\n                    splitHashes[key][defId] = eventUiBases[defId];\n                }\n            }\n        }\n        return splitHashes;\n    }\n    _splitInteraction(interaction) {\n        let splitStates = {};\n        if (interaction) {\n            let affectedStores = this._splitEventStore(interaction.affectedEvents, this._getKeysForEventDefs(interaction.affectedEvents));\n            // can't rely on defKeys because event data is mutated\n            let mutatedKeysByDefId = this._getKeysForEventDefs(interaction.mutatedEvents);\n            let mutatedStores = this._splitEventStore(interaction.mutatedEvents, mutatedKeysByDefId);\n            let populate = (key) => {\n                if (!splitStates[key]) {\n                    splitStates[key] = {\n                        affectedEvents: affectedStores[key] || EMPTY_EVENT_STORE,\n                        mutatedEvents: mutatedStores[key] || EMPTY_EVENT_STORE,\n                        isEvent: interaction.isEvent,\n                    };\n                }\n            };\n            for (let key in affectedStores) {\n                populate(key);\n            }\n            for (let key in mutatedStores) {\n                populate(key);\n            }\n        }\n        return splitStates;\n    }\n}\nfunction buildEventUiForKey(allUi, eventUiForKey, individualUi) {\n    let baseParts = [];\n    if (allUi) {\n        baseParts.push(allUi);\n    }\n    if (eventUiForKey) {\n        baseParts.push(eventUiForKey);\n    }\n    let stuff = {\n        '': combineEventUis(baseParts),\n    };\n    if (individualUi) {\n        Object.assign(stuff, individualUi);\n    }\n    return stuff;\n}\n\nfunction getDateMeta(date, todayRange, nowDate, dateProfile) {\n    return {\n        dow: date.getUTCDay(),\n        isDisabled: Boolean(dateProfile && !rangeContainsMarker(dateProfile.activeRange, date)),\n        isOther: Boolean(dateProfile && !rangeContainsMarker(dateProfile.currentRange, date)),\n        isToday: Boolean(todayRange && rangeContainsMarker(todayRange, date)),\n        isPast: Boolean(nowDate ? (date < nowDate) : todayRange ? (date < todayRange.start) : false),\n        isFuture: Boolean(nowDate ? (date > nowDate) : todayRange ? (date >= todayRange.end) : false),\n    };\n}\nfunction getDayClassNames(meta, theme) {\n    let classNames = [\n        'fc-day',\n        `fc-day-${DAY_IDS[meta.dow]}`,\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-day-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-day-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-day-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-day-future');\n        }\n        if (meta.isOther) {\n            classNames.push('fc-day-other');\n        }\n    }\n    return classNames;\n}\nfunction getSlotClassNames(meta, theme) {\n    let classNames = [\n        'fc-slot',\n        `fc-slot-${DAY_IDS[meta.dow]}`,\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-slot-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-slot-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-slot-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-slot-future');\n        }\n    }\n    return classNames;\n}\n\nconst DAY_FORMAT = createFormatter({ year: 'numeric', month: 'long', day: 'numeric' });\nconst WEEK_FORMAT = createFormatter({ week: 'long' });\nfunction buildNavLinkAttrs(context, dateMarker, viewType = 'day', isTabbable = true) {\n    const { dateEnv, options, calendarApi } = context;\n    let dateStr = dateEnv.format(dateMarker, viewType === 'week' ? WEEK_FORMAT : DAY_FORMAT);\n    if (options.navLinks) {\n        let zonedDate = dateEnv.toDate(dateMarker);\n        const handleInteraction = (ev) => {\n            let customAction = viewType === 'day' ? options.navLinkDayClick :\n                viewType === 'week' ? options.navLinkWeekClick : null;\n            if (typeof customAction === 'function') {\n                customAction.call(calendarApi, dateEnv.toDate(dateMarker), ev);\n            }\n            else {\n                if (typeof customAction === 'string') {\n                    viewType = customAction;\n                }\n                calendarApi.zoomTo(dateMarker, viewType);\n            }\n        };\n        return Object.assign({ title: formatWithOrdinals(options.navLinkHint, [dateStr, zonedDate], dateStr), 'data-navlink': '' }, (isTabbable\n            ? createAriaClickAttrs(handleInteraction)\n            : { onClick: handleInteraction }));\n    }\n    return { 'aria-label': dateStr };\n}\n\nlet _isRtlScrollbarOnLeft = null;\nfunction getIsRtlScrollbarOnLeft() {\n    if (_isRtlScrollbarOnLeft === null) {\n        _isRtlScrollbarOnLeft = computeIsRtlScrollbarOnLeft();\n    }\n    return _isRtlScrollbarOnLeft;\n}\nfunction computeIsRtlScrollbarOnLeft() {\n    let outerEl = document.createElement('div');\n    applyStyle(outerEl, {\n        position: 'absolute',\n        top: -1000,\n        left: 0,\n        border: 0,\n        padding: 0,\n        overflow: 'scroll',\n        direction: 'rtl',\n    });\n    outerEl.innerHTML = '<div></div>';\n    document.body.appendChild(outerEl);\n    let innerEl = outerEl.firstChild;\n    let res = innerEl.getBoundingClientRect().left > outerEl.getBoundingClientRect().left;\n    removeElement(outerEl);\n    return res;\n}\n\nlet _scrollbarWidths;\nfunction getScrollbarWidths() {\n    if (!_scrollbarWidths) {\n        _scrollbarWidths = computeScrollbarWidths();\n    }\n    return _scrollbarWidths;\n}\nfunction computeScrollbarWidths() {\n    let el = document.createElement('div');\n    el.style.overflow = 'scroll';\n    el.style.position = 'absolute';\n    el.style.top = '-9999px';\n    el.style.left = '-9999px';\n    document.body.appendChild(el);\n    let res = computeScrollbarWidthsForEl(el);\n    document.body.removeChild(el);\n    return res;\n}\n// WARNING: will include border\nfunction computeScrollbarWidthsForEl(el) {\n    return {\n        x: el.offsetHeight - el.clientHeight,\n        y: el.offsetWidth - el.clientWidth,\n    };\n}\n\nfunction computeEdges(el, getPadding = false) {\n    let computedStyle = window.getComputedStyle(el);\n    let borderLeft = parseInt(computedStyle.borderLeftWidth, 10) || 0;\n    let borderRight = parseInt(computedStyle.borderRightWidth, 10) || 0;\n    let borderTop = parseInt(computedStyle.borderTopWidth, 10) || 0;\n    let borderBottom = parseInt(computedStyle.borderBottomWidth, 10) || 0;\n    let badScrollbarWidths = computeScrollbarWidthsForEl(el); // includes border!\n    let scrollbarLeftRight = badScrollbarWidths.y - borderLeft - borderRight;\n    let scrollbarBottom = badScrollbarWidths.x - borderTop - borderBottom;\n    let res = {\n        borderLeft,\n        borderRight,\n        borderTop,\n        borderBottom,\n        scrollbarBottom,\n        scrollbarLeft: 0,\n        scrollbarRight: 0,\n    };\n    if (getIsRtlScrollbarOnLeft() && computedStyle.direction === 'rtl') { // is the scrollbar on the left side?\n        res.scrollbarLeft = scrollbarLeftRight;\n    }\n    else {\n        res.scrollbarRight = scrollbarLeftRight;\n    }\n    if (getPadding) {\n        res.paddingLeft = parseInt(computedStyle.paddingLeft, 10) || 0;\n        res.paddingRight = parseInt(computedStyle.paddingRight, 10) || 0;\n        res.paddingTop = parseInt(computedStyle.paddingTop, 10) || 0;\n        res.paddingBottom = parseInt(computedStyle.paddingBottom, 10) || 0;\n    }\n    return res;\n}\nfunction computeInnerRect(el, goWithinPadding = false, doFromWindowViewport) {\n    let outerRect = doFromWindowViewport ? el.getBoundingClientRect() : computeRect(el);\n    let edges = computeEdges(el, goWithinPadding);\n    let res = {\n        left: outerRect.left + edges.borderLeft + edges.scrollbarLeft,\n        right: outerRect.right - edges.borderRight - edges.scrollbarRight,\n        top: outerRect.top + edges.borderTop,\n        bottom: outerRect.bottom - edges.borderBottom - edges.scrollbarBottom,\n    };\n    if (goWithinPadding) {\n        res.left += edges.paddingLeft;\n        res.right -= edges.paddingRight;\n        res.top += edges.paddingTop;\n        res.bottom -= edges.paddingBottom;\n    }\n    return res;\n}\nfunction computeRect(el) {\n    let rect = el.getBoundingClientRect();\n    return {\n        left: rect.left + window.pageXOffset,\n        top: rect.top + window.pageYOffset,\n        right: rect.right + window.pageXOffset,\n        bottom: rect.bottom + window.pageYOffset,\n    };\n}\nfunction computeClippedClientRect(el) {\n    let clippingParents = getClippingParents(el);\n    let rect = el.getBoundingClientRect();\n    for (let clippingParent of clippingParents) {\n        let intersection = intersectRects(rect, clippingParent.getBoundingClientRect());\n        if (intersection) {\n            rect = intersection;\n        }\n        else {\n            return null;\n        }\n    }\n    return rect;\n}\n// does not return window\nfunction getClippingParents(el) {\n    let parents = [];\n    while (el instanceof HTMLElement) { // will stop when gets to document or null\n        let computedStyle = window.getComputedStyle(el);\n        if (computedStyle.position === 'fixed') {\n            break;\n        }\n        if ((/(auto|scroll)/).test(computedStyle.overflow + computedStyle.overflowY + computedStyle.overflowX)) {\n            parents.push(el);\n        }\n        el = el.parentNode;\n    }\n    return parents;\n}\n\n/*\nRecords offset information for a set of elements, relative to an origin element.\nCan record the left/right OR the top/bottom OR both.\nProvides methods for querying the cache by position.\n*/\nclass PositionCache {\n    constructor(originEl, els, isHorizontal, isVertical) {\n        this.els = els;\n        let originClientRect = this.originClientRect = originEl.getBoundingClientRect(); // relative to viewport top-left\n        if (isHorizontal) {\n            this.buildElHorizontals(originClientRect.left);\n        }\n        if (isVertical) {\n            this.buildElVerticals(originClientRect.top);\n        }\n    }\n    // Populates the left/right internal coordinate arrays\n    buildElHorizontals(originClientLeft) {\n        let lefts = [];\n        let rights = [];\n        for (let el of this.els) {\n            let rect = el.getBoundingClientRect();\n            lefts.push(rect.left - originClientLeft);\n            rights.push(rect.right - originClientLeft);\n        }\n        this.lefts = lefts;\n        this.rights = rights;\n    }\n    // Populates the top/bottom internal coordinate arrays\n    buildElVerticals(originClientTop) {\n        let tops = [];\n        let bottoms = [];\n        for (let el of this.els) {\n            let rect = el.getBoundingClientRect();\n            tops.push(rect.top - originClientTop);\n            bottoms.push(rect.bottom - originClientTop);\n        }\n        this.tops = tops;\n        this.bottoms = bottoms;\n    }\n    // Given a left offset (from document left), returns the index of the el that it horizontally intersects.\n    // If no intersection is made, returns undefined.\n    leftToIndex(leftPosition) {\n        let { lefts, rights } = this;\n        let len = lefts.length;\n        let i;\n        for (i = 0; i < len; i += 1) {\n            if (leftPosition >= lefts[i] && leftPosition < rights[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    }\n    // Given a top offset (from document top), returns the index of the el that it vertically intersects.\n    // If no intersection is made, returns undefined.\n    topToIndex(topPosition) {\n        let { tops, bottoms } = this;\n        let len = tops.length;\n        let i;\n        for (i = 0; i < len; i += 1) {\n            if (topPosition >= tops[i] && topPosition < bottoms[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    }\n    // Gets the width of the element at the given index\n    getWidth(leftIndex) {\n        return this.rights[leftIndex] - this.lefts[leftIndex];\n    }\n    // Gets the height of the element at the given index\n    getHeight(topIndex) {\n        return this.bottoms[topIndex] - this.tops[topIndex];\n    }\n    similarTo(otherCache) {\n        return similarNumArrays(this.tops || [], otherCache.tops || []) &&\n            similarNumArrays(this.bottoms || [], otherCache.bottoms || []) &&\n            similarNumArrays(this.lefts || [], otherCache.lefts || []) &&\n            similarNumArrays(this.rights || [], otherCache.rights || []);\n    }\n}\nfunction similarNumArrays(a, b) {\n    const len = a.length;\n    if (len !== b.length) {\n        return false;\n    }\n    for (let i = 0; i < len; i++) {\n        if (Math.round(a[i]) !== Math.round(b[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\n/* eslint max-classes-per-file: \"off\" */\n/*\nAn object for getting/setting scroll-related information for an element.\nInternally, this is done very differently for window versus DOM element,\nso this object serves as a common interface.\n*/\nclass ScrollController {\n    getMaxScrollTop() {\n        return this.getScrollHeight() - this.getClientHeight();\n    }\n    getMaxScrollLeft() {\n        return this.getScrollWidth() - this.getClientWidth();\n    }\n    canScrollVertically() {\n        return this.getMaxScrollTop() > 0;\n    }\n    canScrollHorizontally() {\n        return this.getMaxScrollLeft() > 0;\n    }\n    canScrollUp() {\n        return this.getScrollTop() > 0;\n    }\n    canScrollDown() {\n        return this.getScrollTop() < this.getMaxScrollTop();\n    }\n    canScrollLeft() {\n        return this.getScrollLeft() > 0;\n    }\n    canScrollRight() {\n        return this.getScrollLeft() < this.getMaxScrollLeft();\n    }\n}\nclass ElementScrollController extends ScrollController {\n    constructor(el) {\n        super();\n        this.el = el;\n    }\n    getScrollTop() {\n        return this.el.scrollTop;\n    }\n    getScrollLeft() {\n        return this.el.scrollLeft;\n    }\n    setScrollTop(top) {\n        this.el.scrollTop = top;\n    }\n    setScrollLeft(left) {\n        this.el.scrollLeft = left;\n    }\n    getScrollWidth() {\n        return this.el.scrollWidth;\n    }\n    getScrollHeight() {\n        return this.el.scrollHeight;\n    }\n    getClientHeight() {\n        return this.el.clientHeight;\n    }\n    getClientWidth() {\n        return this.el.clientWidth;\n    }\n}\nclass WindowScrollController extends ScrollController {\n    getScrollTop() {\n        return window.pageYOffset;\n    }\n    getScrollLeft() {\n        return window.pageXOffset;\n    }\n    setScrollTop(n) {\n        window.scroll(window.pageXOffset, n);\n    }\n    setScrollLeft(n) {\n        window.scroll(n, window.pageYOffset);\n    }\n    getScrollWidth() {\n        return document.documentElement.scrollWidth;\n    }\n    getScrollHeight() {\n        return document.documentElement.scrollHeight;\n    }\n    getClientHeight() {\n        return document.documentElement.clientHeight;\n    }\n    getClientWidth() {\n        return document.documentElement.clientWidth;\n    }\n}\n\n/*\nan INTERACTABLE date component\n\nPURPOSES:\n- hook up to fg, fill, and mirror renderers\n- interface for dragging and hits\n*/\nclass DateComponent extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.uid = guid();\n    }\n    // Hit System\n    // -----------------------------------------------------------------------------------------------------------------\n    prepareHits() {\n    }\n    queryHit(positionLeft, positionTop, elWidth, elHeight) {\n        return null; // this should be abstract\n    }\n    // Pointer Interaction Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    isValidSegDownEl(el) {\n        return !this.props.eventDrag && // HACK\n            !this.props.eventResize && // HACK\n            !elementClosest(el, '.fc-event-mirror');\n    }\n    isValidDateDownEl(el) {\n        return !elementClosest(el, '.fc-event:not(.fc-bg-event)') &&\n            !elementClosest(el, '.fc-more-link') && // a \"more..\" link\n            !elementClosest(el, 'a[data-navlink]') && // a clickable nav link\n            !elementClosest(el, '.fc-popover'); // hack\n    }\n}\n\nclass NamedTimeZoneImpl {\n    constructor(timeZoneName) {\n        this.timeZoneName = timeZoneName;\n    }\n}\n\nclass SegHierarchy {\n    constructor(getEntryThickness = (entry) => {\n        // if no thickness known, assume 1 (if 0, so small it always fits)\n        return entry.thickness || 1;\n    }) {\n        this.getEntryThickness = getEntryThickness;\n        // settings\n        this.strictOrder = false;\n        this.allowReslicing = false;\n        this.maxCoord = -1; // -1 means no max\n        this.maxStackCnt = -1; // -1 means no max\n        this.levelCoords = []; // ordered\n        this.entriesByLevel = []; // parallel with levelCoords\n        this.stackCnts = {}; // TODO: use better technique!?\n    }\n    addSegs(inputs) {\n        let hiddenEntries = [];\n        for (let input of inputs) {\n            this.insertEntry(input, hiddenEntries);\n        }\n        return hiddenEntries;\n    }\n    insertEntry(entry, hiddenEntries) {\n        let insertion = this.findInsertion(entry);\n        if (this.isInsertionValid(insertion, entry)) {\n            this.insertEntryAt(entry, insertion);\n        }\n        else {\n            this.handleInvalidInsertion(insertion, entry, hiddenEntries);\n        }\n    }\n    isInsertionValid(insertion, entry) {\n        return (this.maxCoord === -1 || insertion.levelCoord + this.getEntryThickness(entry) <= this.maxCoord) &&\n            (this.maxStackCnt === -1 || insertion.stackCnt < this.maxStackCnt);\n    }\n    handleInvalidInsertion(insertion, entry, hiddenEntries) {\n        if (this.allowReslicing && insertion.touchingEntry) {\n            const hiddenEntry = Object.assign(Object.assign({}, entry), { span: intersectSpans(entry.span, insertion.touchingEntry.span) });\n            hiddenEntries.push(hiddenEntry);\n            this.splitEntry(entry, insertion.touchingEntry, hiddenEntries);\n        }\n        else {\n            hiddenEntries.push(entry);\n        }\n    }\n    /*\n    Does NOT add what hit the `barrier` into hiddenEntries. Should already be done.\n    */\n    splitEntry(entry, barrier, hiddenEntries) {\n        let entrySpan = entry.span;\n        let barrierSpan = barrier.span;\n        if (entrySpan.start < barrierSpan.start) {\n            this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: entrySpan.start, end: barrierSpan.start },\n            }, hiddenEntries);\n        }\n        if (entrySpan.end > barrierSpan.end) {\n            this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: barrierSpan.end, end: entrySpan.end },\n            }, hiddenEntries);\n        }\n    }\n    insertEntryAt(entry, insertion) {\n        let { entriesByLevel, levelCoords } = this;\n        if (insertion.lateral === -1) {\n            // create a new level\n            insertAt(levelCoords, insertion.level, insertion.levelCoord);\n            insertAt(entriesByLevel, insertion.level, [entry]);\n        }\n        else {\n            // insert into existing level\n            insertAt(entriesByLevel[insertion.level], insertion.lateral, entry);\n        }\n        this.stackCnts[buildEntryKey(entry)] = insertion.stackCnt;\n    }\n    /*\n    does not care about limits\n    */\n    findInsertion(newEntry) {\n        let { levelCoords, entriesByLevel, strictOrder, stackCnts } = this;\n        let levelCnt = levelCoords.length;\n        let candidateCoord = 0;\n        let touchingLevel = -1;\n        let touchingLateral = -1;\n        let touchingEntry = null;\n        let stackCnt = 0;\n        for (let trackingLevel = 0; trackingLevel < levelCnt; trackingLevel += 1) {\n            const trackingCoord = levelCoords[trackingLevel];\n            // if the current level is past the placed entry, we have found a good empty space and can stop.\n            // if strictOrder, keep finding more lateral intersections.\n            if (!strictOrder && trackingCoord >= candidateCoord + this.getEntryThickness(newEntry)) {\n                break;\n            }\n            let trackingEntries = entriesByLevel[trackingLevel];\n            let trackingEntry;\n            let searchRes = binarySearch(trackingEntries, newEntry.span.start, getEntrySpanEnd); // find first entry after newEntry's end\n            let lateralIndex = searchRes[0] + searchRes[1]; // if exact match (which doesn't collide), go to next one\n            while ( // loop through entries that horizontally intersect\n            (trackingEntry = trackingEntries[lateralIndex]) && // but not past the whole entry list\n                trackingEntry.span.start < newEntry.span.end // and not entirely past newEntry\n            ) {\n                let trackingEntryBottom = trackingCoord + this.getEntryThickness(trackingEntry);\n                // intersects into the top of the candidate?\n                if (trackingEntryBottom > candidateCoord) {\n                    candidateCoord = trackingEntryBottom;\n                    touchingEntry = trackingEntry;\n                    touchingLevel = trackingLevel;\n                    touchingLateral = lateralIndex;\n                }\n                // butts up against top of candidate? (will happen if just intersected as well)\n                if (trackingEntryBottom === candidateCoord) {\n                    // accumulate the highest possible stackCnt of the trackingEntries that butt up\n                    stackCnt = Math.max(stackCnt, stackCnts[buildEntryKey(trackingEntry)] + 1);\n                }\n                lateralIndex += 1;\n            }\n        }\n        // the destination level will be after touchingEntry's level. find it\n        let destLevel = 0;\n        if (touchingEntry) {\n            destLevel = touchingLevel + 1;\n            while (destLevel < levelCnt && levelCoords[destLevel] < candidateCoord) {\n                destLevel += 1;\n            }\n        }\n        // if adding to an existing level, find where to insert\n        let destLateral = -1;\n        if (destLevel < levelCnt && levelCoords[destLevel] === candidateCoord) {\n            destLateral = binarySearch(entriesByLevel[destLevel], newEntry.span.end, getEntrySpanEnd)[0];\n        }\n        return {\n            touchingLevel,\n            touchingLateral,\n            touchingEntry,\n            stackCnt,\n            levelCoord: candidateCoord,\n            level: destLevel,\n            lateral: destLateral,\n        };\n    }\n    // sorted by levelCoord (lowest to highest)\n    toRects() {\n        let { entriesByLevel, levelCoords } = this;\n        let levelCnt = entriesByLevel.length;\n        let rects = [];\n        for (let level = 0; level < levelCnt; level += 1) {\n            let entries = entriesByLevel[level];\n            let levelCoord = levelCoords[level];\n            for (let entry of entries) {\n                rects.push(Object.assign(Object.assign({}, entry), { thickness: this.getEntryThickness(entry), levelCoord }));\n            }\n        }\n        return rects;\n    }\n}\nfunction getEntrySpanEnd(entry) {\n    return entry.span.end;\n}\nfunction buildEntryKey(entry) {\n    return entry.index + ':' + entry.span.start;\n}\n// returns groups with entries sorted by input order\nfunction groupIntersectingEntries(entries) {\n    let merges = [];\n    for (let entry of entries) {\n        let filteredMerges = [];\n        let hungryMerge = {\n            span: entry.span,\n            entries: [entry],\n        };\n        for (let merge of merges) {\n            if (intersectSpans(merge.span, hungryMerge.span)) {\n                hungryMerge = {\n                    entries: merge.entries.concat(hungryMerge.entries),\n                    span: joinSpans(merge.span, hungryMerge.span),\n                };\n            }\n            else {\n                filteredMerges.push(merge);\n            }\n        }\n        filteredMerges.push(hungryMerge);\n        merges = filteredMerges;\n    }\n    return merges;\n}\nfunction joinSpans(span0, span1) {\n    return {\n        start: Math.min(span0.start, span1.start),\n        end: Math.max(span0.end, span1.end),\n    };\n}\nfunction intersectSpans(span0, span1) {\n    let start = Math.max(span0.start, span1.start);\n    let end = Math.min(span0.end, span1.end);\n    if (start < end) {\n        return { start, end };\n    }\n    return null;\n}\n// general util\n// ---------------------------------------------------------------------------------------------------------------------\nfunction insertAt(arr, index, item) {\n    arr.splice(index, 0, item);\n}\nfunction binarySearch(a, searchVal, getItemVal) {\n    let startIndex = 0;\n    let endIndex = a.length; // exclusive\n    if (!endIndex || searchVal < getItemVal(a[startIndex])) { // no items OR before first item\n        return [0, 0];\n    }\n    if (searchVal > getItemVal(a[endIndex - 1])) { // after last item\n        return [endIndex, 0];\n    }\n    while (startIndex < endIndex) {\n        let middleIndex = Math.floor(startIndex + (endIndex - startIndex) / 2);\n        let middleVal = getItemVal(a[middleIndex]);\n        if (searchVal < middleVal) {\n            endIndex = middleIndex;\n        }\n        else if (searchVal > middleVal) {\n            startIndex = middleIndex + 1;\n        }\n        else { // equal!\n            return [middleIndex, 1];\n        }\n    }\n    return [startIndex, 0];\n}\n\n/*\nAn abstraction for a dragging interaction originating on an event.\nDoes higher-level things than PointerDragger, such as possibly:\n- a \"mirror\" that moves with the pointer\n- a minimum number of pixels or other criteria for a true drag to begin\n\nsubclasses must emit:\n- pointerdown\n- dragstart\n- dragmove\n- pointerup\n- dragend\n*/\nclass ElementDragging {\n    constructor(el, selector) {\n        this.emitter = new Emitter();\n    }\n    destroy() {\n    }\n    setMirrorIsVisible(bool) {\n        // optional if subclass doesn't want to support a mirror\n    }\n    setMirrorNeedsRevert(bool) {\n        // optional if subclass doesn't want to support a mirror\n    }\n    setAutoScrollEnabled(bool) {\n        // optional\n    }\n}\n\n// TODO: get rid of this in favor of options system,\n// tho it's really easy to access this globally rather than pass thru options.\nconst config = {};\n\n/*\nInformation about what will happen when an external element is dragged-and-dropped\nonto a calendar. Contains information for creating an event.\n*/\nconst DRAG_META_REFINERS = {\n    startTime: createDuration,\n    duration: createDuration,\n    create: Boolean,\n    sourceId: String,\n};\nfunction parseDragMeta(raw) {\n    let { refined, extra } = refineProps(raw, DRAG_META_REFINERS);\n    return {\n        startTime: refined.startTime || null,\n        duration: refined.duration || null,\n        create: refined.create != null ? refined.create : true,\n        sourceId: refined.sourceId,\n        leftoverProps: extra,\n    };\n}\n\n// Computes a default column header formatting string if `colFormat` is not explicitly defined\nfunction computeFallbackHeaderFormat(datesRepDistinctDays, dayCnt) {\n    // if more than one week row, or if there are a lot of columns with not much space,\n    // put just the day numbers will be in each cell\n    if (!datesRepDistinctDays || dayCnt > 10) {\n        return createFormatter({ weekday: 'short' }); // \"Sat\"\n    }\n    if (dayCnt > 1) {\n        return createFormatter({ weekday: 'short', month: 'numeric', day: 'numeric', omitCommas: true }); // \"Sat 11/12\"\n    }\n    return createFormatter({ weekday: 'long' }); // \"Saturday\"\n}\n\nconst CLASS_NAME = 'fc-col-header-cell'; // do the cushion too? no\nfunction renderInner$1(renderProps) {\n    return renderProps.text;\n}\n\n// BAD name for this class now. used in the Header\nclass TableDateCell extends BaseComponent {\n    render() {\n        let { dateEnv, options, theme, viewApi } = this.context;\n        let { props } = this;\n        let { date, dateProfile } = props;\n        let dayMeta = getDateMeta(date, props.todayRange, null, dateProfile);\n        let classNames = [CLASS_NAME].concat(getDayClassNames(dayMeta, theme));\n        let text = dateEnv.format(date, props.dayHeaderFormat);\n        // if colCnt is 1, we are already in a day-view and don't need a navlink\n        let navLinkAttrs = (!dayMeta.isDisabled && props.colCnt > 1)\n            ? buildNavLinkAttrs(this.context, date)\n            : {};\n        let renderProps = Object.assign(Object.assign(Object.assign({ date: dateEnv.toDate(date), view: viewApi }, props.extraRenderProps), { text }), dayMeta);\n        return (createElement(ContentContainer, { elTag: \"th\", elClasses: classNames, elAttrs: Object.assign({ role: 'columnheader', colSpan: props.colSpan, 'data-date': !dayMeta.isDisabled ? formatDayString(date) : undefined }, props.extraDataAttrs), renderProps: renderProps, generatorName: \"dayHeaderContent\", customGenerator: options.dayHeaderContent, defaultGenerator: renderInner$1, classNameGenerator: options.dayHeaderClassNames, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, (InnerContainer) => (createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" }, !dayMeta.isDisabled && (createElement(InnerContainer, { elTag: \"a\", elAttrs: navLinkAttrs, elClasses: [\n                'fc-col-header-cell-cushion',\n                props.isSticky && 'fc-sticky',\n            ] }))))));\n    }\n}\n\nconst WEEKDAY_FORMAT = createFormatter({ weekday: 'long' });\nclass TableDowCell extends BaseComponent {\n    render() {\n        let { props } = this;\n        let { dateEnv, theme, viewApi, options } = this.context;\n        let date = addDays(new Date(259200000), props.dow); // start with Sun, 04 Jan 1970 00:00:00 GMT\n        let dateMeta = {\n            dow: props.dow,\n            isDisabled: false,\n            isFuture: false,\n            isPast: false,\n            isToday: false,\n            isOther: false,\n        };\n        let text = dateEnv.format(date, props.dayHeaderFormat);\n        let renderProps = Object.assign(Object.assign(Object.assign(Object.assign({ // TODO: make this public?\n            date }, dateMeta), { view: viewApi }), props.extraRenderProps), { text });\n        return (createElement(ContentContainer, { elTag: \"th\", elClasses: [\n                CLASS_NAME,\n                ...getDayClassNames(dateMeta, theme),\n                ...(props.extraClassNames || []),\n            ], elAttrs: Object.assign({ role: 'columnheader', colSpan: props.colSpan }, props.extraDataAttrs), renderProps: renderProps, generatorName: \"dayHeaderContent\", customGenerator: options.dayHeaderContent, defaultGenerator: renderInner$1, classNameGenerator: options.dayHeaderClassNames, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, (InnerContent) => (createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" },\n            createElement(InnerContent, { elTag: \"a\", elClasses: [\n                    'fc-col-header-cell-cushion',\n                    props.isSticky && 'fc-sticky',\n                ], elAttrs: {\n                    'aria-label': dateEnv.format(date, WEEKDAY_FORMAT),\n                } })))));\n    }\n}\n\nclass NowTimer extends Component {\n    constructor(props, context) {\n        super(props, context);\n        this.initialNowDate = getNow(context.options.now, context.dateEnv);\n        this.initialNowQueriedMs = new Date().valueOf();\n        this.state = this.computeTiming().currentState;\n    }\n    render() {\n        let { props, state } = this;\n        return props.children(state.nowDate, state.todayRange);\n    }\n    componentDidMount() {\n        this.setTimeout();\n    }\n    componentDidUpdate(prevProps) {\n        if (prevProps.unit !== this.props.unit) {\n            this.clearTimeout();\n            this.setTimeout();\n        }\n    }\n    componentWillUnmount() {\n        this.clearTimeout();\n    }\n    computeTiming() {\n        let { props, context } = this;\n        let unroundedNow = addMs(this.initialNowDate, new Date().valueOf() - this.initialNowQueriedMs);\n        let currentUnitStart = context.dateEnv.startOf(unroundedNow, props.unit);\n        let nextUnitStart = context.dateEnv.add(currentUnitStart, createDuration(1, props.unit));\n        let waitMs = nextUnitStart.valueOf() - unroundedNow.valueOf();\n        // there is a max setTimeout ms value (https://stackoverflow.com/a/3468650/96342)\n        // ensure no longer than a day\n        waitMs = Math.min(1000 * 60 * 60 * 24, waitMs);\n        return {\n            currentState: { nowDate: currentUnitStart, todayRange: buildDayRange(currentUnitStart) },\n            nextState: { nowDate: nextUnitStart, todayRange: buildDayRange(nextUnitStart) },\n            waitMs,\n        };\n    }\n    setTimeout() {\n        let { nextState, waitMs } = this.computeTiming();\n        this.timeoutId = setTimeout(() => {\n            this.setState(nextState, () => {\n                this.setTimeout();\n            });\n        }, waitMs);\n    }\n    clearTimeout() {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n        }\n    }\n}\nNowTimer.contextType = ViewContextType;\nfunction buildDayRange(date) {\n    let start = startOfDay(date);\n    let end = addDays(start, 1);\n    return { start, end };\n}\n\nclass DayHeader extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.createDayHeaderFormatter = memoize(createDayHeaderFormatter);\n    }\n    render() {\n        let { context } = this;\n        let { dates, dateProfile, datesRepDistinctDays, renderIntro } = this.props;\n        let dayHeaderFormat = this.createDayHeaderFormatter(context.options.dayHeaderFormat, datesRepDistinctDays, dates.length);\n        return (createElement(NowTimer, { unit: \"day\" }, (nowDate, todayRange) => (createElement(\"tr\", { role: \"row\" },\n            renderIntro && renderIntro('day'),\n            dates.map((date) => (datesRepDistinctDays ? (createElement(TableDateCell, { key: date.toISOString(), date: date, dateProfile: dateProfile, todayRange: todayRange, colCnt: dates.length, dayHeaderFormat: dayHeaderFormat })) : (createElement(TableDowCell, { key: date.getUTCDay(), dow: date.getUTCDay(), dayHeaderFormat: dayHeaderFormat }))))))));\n    }\n}\nfunction createDayHeaderFormatter(explicitFormat, datesRepDistinctDays, dateCnt) {\n    return explicitFormat || computeFallbackHeaderFormat(datesRepDistinctDays, dateCnt);\n}\n\nclass DaySeriesModel {\n    constructor(range, dateProfileGenerator) {\n        let date = range.start;\n        let { end } = range;\n        let indices = [];\n        let dates = [];\n        let dayIndex = -1;\n        while (date < end) { // loop each day from start to end\n            if (dateProfileGenerator.isHiddenDay(date)) {\n                indices.push(dayIndex + 0.5); // mark that it's between indices\n            }\n            else {\n                dayIndex += 1;\n                indices.push(dayIndex);\n                dates.push(date);\n            }\n            date = addDays(date, 1);\n        }\n        this.dates = dates;\n        this.indices = indices;\n        this.cnt = dates.length;\n    }\n    sliceRange(range) {\n        let firstIndex = this.getDateDayIndex(range.start); // inclusive first index\n        let lastIndex = this.getDateDayIndex(addDays(range.end, -1)); // inclusive last index\n        let clippedFirstIndex = Math.max(0, firstIndex);\n        let clippedLastIndex = Math.min(this.cnt - 1, lastIndex);\n        // deal with in-between indices\n        clippedFirstIndex = Math.ceil(clippedFirstIndex); // in-between starts round to next cell\n        clippedLastIndex = Math.floor(clippedLastIndex); // in-between ends round to prev cell\n        if (clippedFirstIndex <= clippedLastIndex) {\n            return {\n                firstIndex: clippedFirstIndex,\n                lastIndex: clippedLastIndex,\n                isStart: firstIndex === clippedFirstIndex,\n                isEnd: lastIndex === clippedLastIndex,\n            };\n        }\n        return null;\n    }\n    // Given a date, returns its chronolocial cell-index from the first cell of the grid.\n    // If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.\n    // If before the first offset, returns a negative number.\n    // If after the last offset, returns an offset past the last cell offset.\n    // Only works for *start* dates of cells. Will not work for exclusive end dates for cells.\n    getDateDayIndex(date) {\n        let { indices } = this;\n        let dayOffset = Math.floor(diffDays(this.dates[0], date));\n        if (dayOffset < 0) {\n            return indices[0] - 1;\n        }\n        if (dayOffset >= indices.length) {\n            return indices[indices.length - 1] + 1;\n        }\n        return indices[dayOffset];\n    }\n}\n\nclass DayTableModel {\n    constructor(daySeries, breakOnWeeks) {\n        let { dates } = daySeries;\n        let daysPerRow;\n        let firstDay;\n        let rowCnt;\n        if (breakOnWeeks) {\n            // count columns until the day-of-week repeats\n            firstDay = dates[0].getUTCDay();\n            for (daysPerRow = 1; daysPerRow < dates.length; daysPerRow += 1) {\n                if (dates[daysPerRow].getUTCDay() === firstDay) {\n                    break;\n                }\n            }\n            rowCnt = Math.ceil(dates.length / daysPerRow);\n        }\n        else {\n            rowCnt = 1;\n            daysPerRow = dates.length;\n        }\n        this.rowCnt = rowCnt;\n        this.colCnt = daysPerRow;\n        this.daySeries = daySeries;\n        this.cells = this.buildCells();\n        this.headerDates = this.buildHeaderDates();\n    }\n    buildCells() {\n        let rows = [];\n        for (let row = 0; row < this.rowCnt; row += 1) {\n            let cells = [];\n            for (let col = 0; col < this.colCnt; col += 1) {\n                cells.push(this.buildCell(row, col));\n            }\n            rows.push(cells);\n        }\n        return rows;\n    }\n    buildCell(row, col) {\n        let date = this.daySeries.dates[row * this.colCnt + col];\n        return {\n            key: date.toISOString(),\n            date,\n        };\n    }\n    buildHeaderDates() {\n        let dates = [];\n        for (let col = 0; col < this.colCnt; col += 1) {\n            dates.push(this.cells[0][col].date);\n        }\n        return dates;\n    }\n    sliceRange(range) {\n        let { colCnt } = this;\n        let seriesSeg = this.daySeries.sliceRange(range);\n        let segs = [];\n        if (seriesSeg) {\n            let { firstIndex, lastIndex } = seriesSeg;\n            let index = firstIndex;\n            while (index <= lastIndex) {\n                let row = Math.floor(index / colCnt);\n                let nextIndex = Math.min((row + 1) * colCnt, lastIndex + 1);\n                segs.push({\n                    row,\n                    firstCol: index % colCnt,\n                    lastCol: (nextIndex - 1) % colCnt,\n                    isStart: seriesSeg.isStart && index === firstIndex,\n                    isEnd: seriesSeg.isEnd && (nextIndex - 1) === lastIndex,\n                });\n                index = nextIndex;\n            }\n        }\n        return segs;\n    }\n}\n\nclass Slicer {\n    constructor() {\n        this.sliceBusinessHours = memoize(this._sliceBusinessHours);\n        this.sliceDateSelection = memoize(this._sliceDateSpan);\n        this.sliceEventStore = memoize(this._sliceEventStore);\n        this.sliceEventDrag = memoize(this._sliceInteraction);\n        this.sliceEventResize = memoize(this._sliceInteraction);\n        this.forceDayIfListItem = false; // hack\n    }\n    sliceProps(props, dateProfile, nextDayThreshold, context, ...extraArgs) {\n        let { eventUiBases } = props;\n        let eventSegs = this.sliceEventStore(props.eventStore, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs);\n        return {\n            dateSelectionSegs: this.sliceDateSelection(props.dateSelection, dateProfile, nextDayThreshold, eventUiBases, context, ...extraArgs),\n            businessHourSegs: this.sliceBusinessHours(props.businessHours, dateProfile, nextDayThreshold, context, ...extraArgs),\n            fgEventSegs: eventSegs.fg,\n            bgEventSegs: eventSegs.bg,\n            eventDrag: this.sliceEventDrag(props.eventDrag, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs),\n            eventResize: this.sliceEventResize(props.eventResize, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs),\n            eventSelection: props.eventSelection,\n        }; // TODO: give interactionSegs?\n    }\n    sliceNowDate(// does not memoize\n    date, dateProfile, nextDayThreshold, context, ...extraArgs) {\n        return this._sliceDateSpan({ range: { start: date, end: addMs(date, 1) }, allDay: false }, // add 1 ms, protect against null range\n        dateProfile, nextDayThreshold, {}, context, ...extraArgs);\n    }\n    _sliceBusinessHours(businessHours, dateProfile, nextDayThreshold, context, ...extraArgs) {\n        if (!businessHours) {\n            return [];\n        }\n        return this._sliceEventStore(expandRecurring(businessHours, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), context), {}, dateProfile, nextDayThreshold, ...extraArgs).bg;\n    }\n    _sliceEventStore(eventStore, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs) {\n        if (eventStore) {\n            let rangeRes = sliceEventStore(eventStore, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n            return {\n                bg: this.sliceEventRanges(rangeRes.bg, extraArgs),\n                fg: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            };\n        }\n        return { bg: [], fg: [] };\n    }\n    _sliceInteraction(interaction, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs) {\n        if (!interaction) {\n            return null;\n        }\n        let rangeRes = sliceEventStore(interaction.mutatedEvents, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n        return {\n            segs: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            affectedInstances: interaction.affectedEvents.instances,\n            isEvent: interaction.isEvent,\n        };\n    }\n    _sliceDateSpan(dateSpan, dateProfile, nextDayThreshold, eventUiBases, context, ...extraArgs) {\n        if (!dateSpan) {\n            return [];\n        }\n        let activeRange = computeActiveRange(dateProfile, Boolean(nextDayThreshold));\n        let activeDateSpanRange = intersectRanges(dateSpan.range, activeRange);\n        if (activeDateSpanRange) {\n            dateSpan = Object.assign(Object.assign({}, dateSpan), { range: activeDateSpanRange });\n            let eventRange = fabricateEventRange(dateSpan, eventUiBases, context);\n            let segs = this.sliceRange(dateSpan.range, ...extraArgs);\n            for (let seg of segs) {\n                seg.eventRange = eventRange;\n            }\n            return segs;\n        }\n        return [];\n    }\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    sliceEventRanges(eventRanges, extraArgs) {\n        let segs = [];\n        for (let eventRange of eventRanges) {\n            segs.push(...this.sliceEventRange(eventRange, extraArgs));\n        }\n        return segs;\n    }\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    sliceEventRange(eventRange, extraArgs) {\n        let dateRange = eventRange.range;\n        // hack to make multi-day events that are being force-displayed as list-items to take up only one day\n        if (this.forceDayIfListItem && eventRange.ui.display === 'list-item') {\n            dateRange = {\n                start: dateRange.start,\n                end: addDays(dateRange.start, 1),\n            };\n        }\n        let segs = this.sliceRange(dateRange, ...extraArgs);\n        for (let seg of segs) {\n            seg.eventRange = eventRange;\n            seg.isStart = eventRange.isStart && seg.isStart;\n            seg.isEnd = eventRange.isEnd && seg.isEnd;\n        }\n        return segs;\n    }\n}\n/*\nfor incorporating slotMinTime/slotMaxTime if appropriate\nTODO: should be part of DateProfile!\nTimelineDateProfile already does this btw\n*/\nfunction computeActiveRange(dateProfile, isComponentAllDay) {\n    let range = dateProfile.activeRange;\n    if (isComponentAllDay) {\n        return range;\n    }\n    return {\n        start: addMs(range.start, dateProfile.slotMinTime.milliseconds),\n        end: addMs(range.end, dateProfile.slotMaxTime.milliseconds - 864e5), // 864e5 = ms in a day\n    };\n}\n\n// high-level segmenting-aware tester functions\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionValid(interaction, dateProfile, context) {\n    let { instances } = interaction.mutatedEvents;\n    for (let instanceId in instances) {\n        if (!rangeContainsRange(dateProfile.validRange, instances[instanceId].range)) {\n            return false;\n        }\n    }\n    return isNewPropsValid({ eventDrag: interaction }, context); // HACK: the eventDrag props is used for ALL interactions\n}\nfunction isDateSelectionValid(dateSelection, dateProfile, context) {\n    if (!rangeContainsRange(dateProfile.validRange, dateSelection.range)) {\n        return false;\n    }\n    return isNewPropsValid({ dateSelection }, context);\n}\nfunction isNewPropsValid(newProps, context) {\n    let calendarState = context.getCurrentData();\n    let props = Object.assign({ businessHours: calendarState.businessHours, dateSelection: '', eventStore: calendarState.eventStore, eventUiBases: calendarState.eventUiBases, eventSelection: '', eventDrag: null, eventResize: null }, newProps);\n    return (context.pluginHooks.isPropsValid || isPropsValid)(props, context);\n}\nfunction isPropsValid(state, context, dateSpanMeta = {}, filterConfig) {\n    if (state.eventDrag && !isInteractionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    if (state.dateSelection && !isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    return true;\n}\n// Moving Event Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    let currentState = context.getCurrentData();\n    let interaction = state.eventDrag; // HACK: the eventDrag props is used for ALL interactions\n    let subjectEventStore = interaction.mutatedEvents;\n    let subjectDefs = subjectEventStore.defs;\n    let subjectInstances = subjectEventStore.instances;\n    let subjectConfigs = compileEventUis(subjectDefs, interaction.isEvent ?\n        state.eventUiBases :\n        { '': currentState.selectionConfig });\n    if (filterConfig) {\n        subjectConfigs = mapHash(subjectConfigs, filterConfig);\n    }\n    // exclude the subject events. TODO: exclude defs too?\n    let otherEventStore = excludeInstances(state.eventStore, interaction.affectedEvents.instances);\n    let otherDefs = otherEventStore.defs;\n    let otherInstances = otherEventStore.instances;\n    let otherConfigs = compileEventUis(otherDefs, state.eventUiBases);\n    for (let subjectInstanceId in subjectInstances) {\n        let subjectInstance = subjectInstances[subjectInstanceId];\n        let subjectRange = subjectInstance.range;\n        let subjectConfig = subjectConfigs[subjectInstance.defId];\n        let subjectDef = subjectDefs[subjectInstance.defId];\n        // constraint\n        if (!allConstraintsPass(subjectConfig.constraints, subjectRange, otherEventStore, state.businessHours, context)) {\n            return false;\n        }\n        // overlap\n        let { eventOverlap } = context.options;\n        let eventOverlapFunc = typeof eventOverlap === 'function' ? eventOverlap : null;\n        for (let otherInstanceId in otherInstances) {\n            let otherInstance = otherInstances[otherInstanceId];\n            // intersect! evaluate\n            if (rangesIntersect(subjectRange, otherInstance.range)) {\n                let otherOverlap = otherConfigs[otherInstance.defId].overlap;\n                // consider the other event's overlap. only do this if the subject event is a \"real\" event\n                if (otherOverlap === false && interaction.isEvent) {\n                    return false;\n                }\n                if (subjectConfig.overlap === false) {\n                    return false;\n                }\n                if (eventOverlapFunc && !eventOverlapFunc(new EventImpl(context, otherDefs[otherInstance.defId], otherInstance), // still event\n                new EventImpl(context, subjectDef, subjectInstance))) {\n                    return false;\n                }\n            }\n        }\n        // allow (a function)\n        let calendarEventStore = currentState.eventStore; // need global-to-calendar, not local to component (splittable)state\n        for (let subjectAllow of subjectConfig.allows) {\n            let subjectDateSpan = Object.assign(Object.assign({}, dateSpanMeta), { range: subjectInstance.range, allDay: subjectDef.allDay });\n            let origDef = calendarEventStore.defs[subjectDef.defId];\n            let origInstance = calendarEventStore.instances[subjectInstanceId];\n            let eventApi;\n            if (origDef) { // was previously in the calendar\n                eventApi = new EventImpl(context, origDef, origInstance);\n            }\n            else { // was an external event\n                eventApi = new EventImpl(context, subjectDef); // no instance, because had no dates\n            }\n            if (!subjectAllow(buildDateSpanApiWithContext(subjectDateSpan, context), eventApi)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n// Date Selection Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    let relevantEventStore = state.eventStore;\n    let relevantDefs = relevantEventStore.defs;\n    let relevantInstances = relevantEventStore.instances;\n    let selection = state.dateSelection;\n    let selectionRange = selection.range;\n    let { selectionConfig } = context.getCurrentData();\n    if (filterConfig) {\n        selectionConfig = filterConfig(selectionConfig);\n    }\n    // constraint\n    if (!allConstraintsPass(selectionConfig.constraints, selectionRange, relevantEventStore, state.businessHours, context)) {\n        return false;\n    }\n    // overlap\n    let { selectOverlap } = context.options;\n    let selectOverlapFunc = typeof selectOverlap === 'function' ? selectOverlap : null;\n    for (let relevantInstanceId in relevantInstances) {\n        let relevantInstance = relevantInstances[relevantInstanceId];\n        // intersect! evaluate\n        if (rangesIntersect(selectionRange, relevantInstance.range)) {\n            if (selectionConfig.overlap === false) {\n                return false;\n            }\n            if (selectOverlapFunc && !selectOverlapFunc(new EventImpl(context, relevantDefs[relevantInstance.defId], relevantInstance), null)) {\n                return false;\n            }\n        }\n    }\n    // allow (a function)\n    for (let selectionAllow of selectionConfig.allows) {\n        let fullDateSpan = Object.assign(Object.assign({}, dateSpanMeta), selection);\n        if (!selectionAllow(buildDateSpanApiWithContext(fullDateSpan, context), null)) {\n            return false;\n        }\n    }\n    return true;\n}\n// Constraint Utils\n// ------------------------------------------------------------------------------------------------------------------------\nfunction allConstraintsPass(constraints, subjectRange, otherEventStore, businessHoursUnexpanded, context) {\n    for (let constraint of constraints) {\n        if (!anyRangesContainRange(constraintToRanges(constraint, subjectRange, otherEventStore, businessHoursUnexpanded, context), subjectRange)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction constraintToRanges(constraint, subjectRange, // for expanding a recurring constraint, or expanding business hours\notherEventStore, // for if constraint is an even group ID\nbusinessHoursUnexpanded, // for if constraint is 'businessHours'\ncontext) {\n    if (constraint === 'businessHours') {\n        return eventStoreToRanges(expandRecurring(businessHoursUnexpanded, subjectRange, context));\n    }\n    if (typeof constraint === 'string') { // an group ID\n        return eventStoreToRanges(filterEventStoreDefs(otherEventStore, (eventDef) => eventDef.groupId === constraint));\n    }\n    if (typeof constraint === 'object' && constraint) { // non-null object\n        return eventStoreToRanges(expandRecurring(constraint, subjectRange, context));\n    }\n    return []; // if it's false\n}\n// TODO: move to event-store file?\nfunction eventStoreToRanges(eventStore) {\n    let { instances } = eventStore;\n    let ranges = [];\n    for (let instanceId in instances) {\n        ranges.push(instances[instanceId].range);\n    }\n    return ranges;\n}\n// TODO: move to geom file?\nfunction anyRangesContainRange(outerRanges, innerRange) {\n    for (let outerRange of outerRanges) {\n        if (rangeContainsRange(outerRange, innerRange)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nconst VISIBLE_HIDDEN_RE = /^(visible|hidden)$/;\nclass Scroller extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.handleEl = (el) => {\n            this.el = el;\n            setRef(this.props.elRef, el);\n        };\n    }\n    render() {\n        let { props } = this;\n        let { liquid, liquidIsAbsolute } = props;\n        let isAbsolute = liquid && liquidIsAbsolute;\n        let className = ['fc-scroller'];\n        if (liquid) {\n            if (liquidIsAbsolute) {\n                className.push('fc-scroller-liquid-absolute');\n            }\n            else {\n                className.push('fc-scroller-liquid');\n            }\n        }\n        return (createElement(\"div\", { ref: this.handleEl, className: className.join(' '), style: {\n                overflowX: props.overflowX,\n                overflowY: props.overflowY,\n                left: (isAbsolute && -(props.overcomeLeft || 0)) || '',\n                right: (isAbsolute && -(props.overcomeRight || 0)) || '',\n                bottom: (isAbsolute && -(props.overcomeBottom || 0)) || '',\n                marginLeft: (!isAbsolute && -(props.overcomeLeft || 0)) || '',\n                marginRight: (!isAbsolute && -(props.overcomeRight || 0)) || '',\n                marginBottom: (!isAbsolute && -(props.overcomeBottom || 0)) || '',\n                maxHeight: props.maxHeight || '',\n            } }, props.children));\n    }\n    needsXScrolling() {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return false;\n        }\n        // testing scrollWidth>clientWidth is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        let { el } = this;\n        let realClientWidth = this.el.getBoundingClientRect().width - this.getYScrollbarWidth();\n        let { children } = el;\n        for (let i = 0; i < children.length; i += 1) {\n            let childEl = children[i];\n            if (childEl.getBoundingClientRect().width > realClientWidth) {\n                return true;\n            }\n        }\n        return false;\n    }\n    needsYScrolling() {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return false;\n        }\n        // testing scrollHeight>clientHeight is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        let { el } = this;\n        let realClientHeight = this.el.getBoundingClientRect().height - this.getXScrollbarWidth();\n        let { children } = el;\n        for (let i = 0; i < children.length; i += 1) {\n            let childEl = children[i];\n            if (childEl.getBoundingClientRect().height > realClientHeight) {\n                return true;\n            }\n        }\n        return false;\n    }\n    getXScrollbarWidth() {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return 0;\n        }\n        return this.el.offsetHeight - this.el.clientHeight; // only works because we guarantee no borders. TODO: add to CSS with important?\n    }\n    getYScrollbarWidth() {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return 0;\n        }\n        return this.el.offsetWidth - this.el.clientWidth; // only works because we guarantee no borders. TODO: add to CSS with important?\n    }\n}\n\n/*\nTODO: somehow infer OtherArgs from masterCallback?\nTODO: infer RefType from masterCallback if provided\n*/\nclass RefMap {\n    constructor(masterCallback) {\n        this.masterCallback = masterCallback;\n        this.currentMap = {};\n        this.depths = {};\n        this.callbackMap = {};\n        this.handleValue = (val, key) => {\n            let { depths, currentMap } = this;\n            let removed = false;\n            let added = false;\n            if (val !== null) {\n                // for bug... ACTUALLY: can probably do away with this now that callers don't share numeric indices anymore\n                removed = (key in currentMap);\n                currentMap[key] = val;\n                depths[key] = (depths[key] || 0) + 1;\n                added = true;\n            }\n            else {\n                depths[key] -= 1;\n                if (!depths[key]) {\n                    delete currentMap[key];\n                    delete this.callbackMap[key];\n                    removed = true;\n                }\n            }\n            if (this.masterCallback) {\n                if (removed) {\n                    this.masterCallback(null, String(key));\n                }\n                if (added) {\n                    this.masterCallback(val, String(key));\n                }\n            }\n        };\n    }\n    createRef(key) {\n        let refCallback = this.callbackMap[key];\n        if (!refCallback) {\n            refCallback = this.callbackMap[key] = (val) => {\n                this.handleValue(val, String(key));\n            };\n        }\n        return refCallback;\n    }\n    // TODO: check callers that don't care about order. should use getAll instead\n    // NOTE: this method has become less valuable now that we are encouraged to map order by some other index\n    // TODO: provide ONE array-export function, buildArray, which fails on non-numeric indexes. caller can manipulate and \"collect\"\n    collect(startIndex, endIndex, step) {\n        return collectFromHash(this.currentMap, startIndex, endIndex, step);\n    }\n    getAll() {\n        return hashValuesToArray(this.currentMap);\n    }\n}\n\nfunction computeShrinkWidth(chunkEls) {\n    let shrinkCells = findElements(chunkEls, '.fc-scrollgrid-shrink');\n    let largestWidth = 0;\n    for (let shrinkCell of shrinkCells) {\n        largestWidth = Math.max(largestWidth, computeSmallestCellWidth(shrinkCell));\n    }\n    return Math.ceil(largestWidth); // <table> elements work best with integers. round up to ensure contents fits\n}\nfunction getSectionHasLiquidHeight(props, sectionConfig) {\n    return props.liquid && sectionConfig.liquid; // does the section do liquid-height? (need to have whole scrollgrid liquid-height as well)\n}\nfunction getAllowYScrolling(props, sectionConfig) {\n    return sectionConfig.maxHeight != null || // if its possible for the height to max out, we might need scrollbars\n        getSectionHasLiquidHeight(props, sectionConfig); // if the section is liquid height, it might condense enough to require scrollbars\n}\n// TODO: ONLY use `arg`. force out internal function to use same API\nfunction renderChunkContent(sectionConfig, chunkConfig, arg, isHeader) {\n    let { expandRows } = arg;\n    let content = typeof chunkConfig.content === 'function' ?\n        chunkConfig.content(arg) :\n        createElement('table', {\n            role: 'presentation',\n            className: [\n                chunkConfig.tableClassName,\n                sectionConfig.syncRowHeights ? 'fc-scrollgrid-sync-table' : '',\n            ].join(' '),\n            style: {\n                minWidth: arg.tableMinWidth,\n                width: arg.clientWidth,\n                height: expandRows ? arg.clientHeight : '', // css `height` on a <table> serves as a min-height\n            },\n        }, arg.tableColGroupNode, createElement(isHeader ? 'thead' : 'tbody', {\n            role: 'presentation',\n        }, typeof chunkConfig.rowContent === 'function'\n            ? chunkConfig.rowContent(arg)\n            : chunkConfig.rowContent));\n    return content;\n}\nfunction isColPropsEqual(cols0, cols1) {\n    return isArraysEqual(cols0, cols1, isPropsEqual);\n}\nfunction renderMicroColGroup(cols, shrinkWidth) {\n    let colNodes = [];\n    /*\n    for ColProps with spans, it would have been great to make a single <col span=\"\">\n    HOWEVER, Chrome was getting messing up distributing the width to <td>/<th> elements with colspans.\n    SOLUTION: making individual <col> elements makes Chrome behave.\n    */\n    for (let colProps of cols) {\n        let span = colProps.span || 1;\n        for (let i = 0; i < span; i += 1) {\n            colNodes.push(createElement(\"col\", { style: {\n                    width: colProps.width === 'shrink' ? sanitizeShrinkWidth(shrinkWidth) : (colProps.width || ''),\n                    minWidth: colProps.minWidth || '',\n                } }));\n        }\n    }\n    return createElement('colgroup', {}, ...colNodes);\n}\nfunction sanitizeShrinkWidth(shrinkWidth) {\n    /* why 4? if we do 0, it will kill any border, which are needed for computeSmallestCellWidth\n    4 accounts for 2 2-pixel borders. TODO: better solution? */\n    return shrinkWidth == null ? 4 : shrinkWidth;\n}\nfunction hasShrinkWidth(cols) {\n    for (let col of cols) {\n        if (col.width === 'shrink') {\n            return true;\n        }\n    }\n    return false;\n}\nfunction getScrollGridClassNames(liquid, context) {\n    let classNames = [\n        'fc-scrollgrid',\n        context.theme.getClass('table'),\n    ];\n    if (liquid) {\n        classNames.push('fc-scrollgrid-liquid');\n    }\n    return classNames;\n}\nfunction getSectionClassNames(sectionConfig, wholeTableVGrow) {\n    let classNames = [\n        'fc-scrollgrid-section',\n        `fc-scrollgrid-section-${sectionConfig.type}`,\n        sectionConfig.className, // used?\n    ];\n    if (wholeTableVGrow && sectionConfig.liquid && sectionConfig.maxHeight == null) {\n        classNames.push('fc-scrollgrid-section-liquid');\n    }\n    if (sectionConfig.isSticky) {\n        classNames.push('fc-scrollgrid-section-sticky');\n    }\n    return classNames;\n}\nfunction renderScrollShim(arg) {\n    return (createElement(\"div\", { className: \"fc-scrollgrid-sticky-shim\", style: {\n            width: arg.clientWidth,\n            minWidth: arg.tableMinWidth,\n        } }));\n}\nfunction getStickyHeaderDates(options) {\n    let { stickyHeaderDates } = options;\n    if (stickyHeaderDates == null || stickyHeaderDates === 'auto') {\n        stickyHeaderDates = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyHeaderDates;\n}\nfunction getStickyFooterScrollbar(options) {\n    let { stickyFooterScrollbar } = options;\n    if (stickyFooterScrollbar == null || stickyFooterScrollbar === 'auto') {\n        stickyFooterScrollbar = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyFooterScrollbar;\n}\n\nclass SimpleScrollGrid extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.processCols = memoize((a) => a, isColPropsEqual); // so we get same `cols` props every time\n        // yucky to memoize VNodes, but much more efficient for consumers\n        this.renderMicroColGroup = memoize(renderMicroColGroup);\n        this.scrollerRefs = new RefMap();\n        this.scrollerElRefs = new RefMap(this._handleScrollerEl.bind(this));\n        this.state = {\n            shrinkWidth: null,\n            forceYScrollbars: false,\n            scrollerClientWidths: {},\n            scrollerClientHeights: {},\n        };\n        // TODO: can do a really simple print-view. dont need to join rows\n        this.handleSizing = () => {\n            this.safeSetState(Object.assign({ shrinkWidth: this.computeShrinkWidth() }, this.computeScrollerDims()));\n        };\n    }\n    render() {\n        let { props, state, context } = this;\n        let sectionConfigs = props.sections || [];\n        let cols = this.processCols(props.cols);\n        let microColGroupNode = this.renderMicroColGroup(cols, state.shrinkWidth);\n        let classNames = getScrollGridClassNames(props.liquid, context);\n        if (props.collapsibleWidth) {\n            classNames.push('fc-scrollgrid-collapsible');\n        }\n        // TODO: make DRY\n        let configCnt = sectionConfigs.length;\n        let configI = 0;\n        let currentConfig;\n        let headSectionNodes = [];\n        let bodySectionNodes = [];\n        let footSectionNodes = [];\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'header') {\n            headSectionNodes.push(this.renderSection(currentConfig, microColGroupNode, true));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'body') {\n            bodySectionNodes.push(this.renderSection(currentConfig, microColGroupNode, false));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'footer') {\n            footSectionNodes.push(this.renderSection(currentConfig, microColGroupNode, true));\n            configI += 1;\n        }\n        // firefox bug: when setting height on table and there is a thead or tfoot,\n        // the necessary height:100% on the liquid-height body section forces the *whole* table to be taller. (bug #5524)\n        // use getCanVGrowWithinCell as a way to detect table-stupid firefox.\n        // if so, use a simpler dom structure, jam everything into a lone tbody.\n        let isBuggy = !getCanVGrowWithinCell();\n        const roleAttrs = { role: 'rowgroup' };\n        return createElement('table', {\n            role: 'grid',\n            className: classNames.join(' '),\n            style: { height: props.height },\n        }, Boolean(!isBuggy && headSectionNodes.length) && createElement('thead', roleAttrs, ...headSectionNodes), Boolean(!isBuggy && bodySectionNodes.length) && createElement('tbody', roleAttrs, ...bodySectionNodes), Boolean(!isBuggy && footSectionNodes.length) && createElement('tfoot', roleAttrs, ...footSectionNodes), isBuggy && createElement('tbody', roleAttrs, ...headSectionNodes, ...bodySectionNodes, ...footSectionNodes));\n    }\n    renderSection(sectionConfig, microColGroupNode, isHeader) {\n        if ('outerContent' in sectionConfig) {\n            return (createElement(Fragment, { key: sectionConfig.key }, sectionConfig.outerContent));\n        }\n        return (createElement(\"tr\", { key: sectionConfig.key, role: \"presentation\", className: getSectionClassNames(sectionConfig, this.props.liquid).join(' ') }, this.renderChunkTd(sectionConfig, microColGroupNode, sectionConfig.chunk, isHeader)));\n    }\n    renderChunkTd(sectionConfig, microColGroupNode, chunkConfig, isHeader) {\n        if ('outerContent' in chunkConfig) {\n            return chunkConfig.outerContent;\n        }\n        let { props } = this;\n        let { forceYScrollbars, scrollerClientWidths, scrollerClientHeights } = this.state;\n        let needsYScrolling = getAllowYScrolling(props, sectionConfig); // TODO: do lazily. do in section config?\n        let isLiquid = getSectionHasLiquidHeight(props, sectionConfig);\n        // for `!props.liquid` - is WHOLE scrollgrid natural height?\n        // TODO: do same thing in advanced scrollgrid? prolly not b/c always has horizontal scrollbars\n        let overflowY = !props.liquid ? 'visible' :\n            forceYScrollbars ? 'scroll' :\n                !needsYScrolling ? 'hidden' :\n                    'auto';\n        let sectionKey = sectionConfig.key;\n        let content = renderChunkContent(sectionConfig, chunkConfig, {\n            tableColGroupNode: microColGroupNode,\n            tableMinWidth: '',\n            clientWidth: (!props.collapsibleWidth && scrollerClientWidths[sectionKey] !== undefined) ? scrollerClientWidths[sectionKey] : null,\n            clientHeight: scrollerClientHeights[sectionKey] !== undefined ? scrollerClientHeights[sectionKey] : null,\n            expandRows: sectionConfig.expandRows,\n            syncRowHeights: false,\n            rowSyncHeights: [],\n            reportRowHeightChange: () => { },\n        }, isHeader);\n        return createElement(isHeader ? 'th' : 'td', {\n            ref: chunkConfig.elRef,\n            role: 'presentation',\n        }, createElement(\"div\", { className: `fc-scroller-harness${isLiquid ? ' fc-scroller-harness-liquid' : ''}` },\n            createElement(Scroller, { ref: this.scrollerRefs.createRef(sectionKey), elRef: this.scrollerElRefs.createRef(sectionKey), overflowY: overflowY, overflowX: !props.liquid ? 'visible' : 'hidden' /* natural height? */, maxHeight: sectionConfig.maxHeight, liquid: isLiquid, liquidIsAbsolute // because its within a harness\n                : true }, content)));\n    }\n    _handleScrollerEl(scrollerEl, key) {\n        let section = getSectionByKey(this.props.sections, key);\n        if (section) {\n            setRef(section.chunk.scrollerElRef, scrollerEl);\n        }\n    }\n    componentDidMount() {\n        this.handleSizing();\n        this.context.addResizeHandler(this.handleSizing);\n    }\n    componentDidUpdate() {\n        // TODO: need better solution when state contains non-sizing things\n        this.handleSizing();\n    }\n    componentWillUnmount() {\n        this.context.removeResizeHandler(this.handleSizing);\n    }\n    computeShrinkWidth() {\n        return hasShrinkWidth(this.props.cols)\n            ? computeShrinkWidth(this.scrollerElRefs.getAll())\n            : 0;\n    }\n    computeScrollerDims() {\n        let scrollbarWidth = getScrollbarWidths();\n        let { scrollerRefs, scrollerElRefs } = this;\n        let forceYScrollbars = false;\n        let scrollerClientWidths = {};\n        let scrollerClientHeights = {};\n        for (let sectionKey in scrollerRefs.currentMap) {\n            let scroller = scrollerRefs.currentMap[sectionKey];\n            if (scroller && scroller.needsYScrolling()) {\n                forceYScrollbars = true;\n                break;\n            }\n        }\n        for (let section of this.props.sections) {\n            let sectionKey = section.key;\n            let scrollerEl = scrollerElRefs.currentMap[sectionKey];\n            if (scrollerEl) {\n                let harnessEl = scrollerEl.parentNode; // TODO: weird way to get this. need harness b/c doesn't include table borders\n                scrollerClientWidths[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().width - (forceYScrollbars\n                    ? scrollbarWidth.y // use global because scroller might not have scrollbars yet but will need them in future\n                    : 0));\n                scrollerClientHeights[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().height);\n            }\n        }\n        return { forceYScrollbars, scrollerClientWidths, scrollerClientHeights };\n    }\n}\nSimpleScrollGrid.addStateEquality({\n    scrollerClientWidths: isPropsEqual,\n    scrollerClientHeights: isPropsEqual,\n});\nfunction getSectionByKey(sections, key) {\n    for (let section of sections) {\n        if (section.key === key) {\n            return section;\n        }\n    }\n    return null;\n}\n\nclass EventContainer extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.handleEl = (el) => {\n            this.el = el;\n            if (el) {\n                setElSeg(el, this.props.seg);\n            }\n        };\n    }\n    render() {\n        const { props, context } = this;\n        const { options } = context;\n        const { seg } = props;\n        const { eventRange } = seg;\n        const { ui } = eventRange;\n        const renderProps = {\n            event: new EventImpl(context, eventRange.def, eventRange.instance),\n            view: context.viewApi,\n            timeText: props.timeText,\n            textColor: ui.textColor,\n            backgroundColor: ui.backgroundColor,\n            borderColor: ui.borderColor,\n            isDraggable: !props.disableDragging && computeSegDraggable(seg, context),\n            isStartResizable: !props.disableResizing && computeSegStartResizable(seg, context),\n            isEndResizable: !props.disableResizing && computeSegEndResizable(seg),\n            isMirror: Boolean(props.isDragging || props.isResizing || props.isDateSelecting),\n            isStart: Boolean(seg.isStart),\n            isEnd: Boolean(seg.isEnd),\n            isPast: Boolean(props.isPast),\n            isFuture: Boolean(props.isFuture),\n            isToday: Boolean(props.isToday),\n            isSelected: Boolean(props.isSelected),\n            isDragging: Boolean(props.isDragging),\n            isResizing: Boolean(props.isResizing),\n        };\n        return (createElement(ContentContainer, Object.assign({}, props /* contains children */, { elRef: this.handleEl, elClasses: [\n                ...getEventClassNames(renderProps),\n                ...seg.eventRange.ui.classNames,\n                ...(props.elClasses || []),\n            ], renderProps: renderProps, generatorName: \"eventContent\", customGenerator: options.eventContent, defaultGenerator: props.defaultGenerator, classNameGenerator: options.eventClassNames, didMount: options.eventDidMount, willUnmount: options.eventWillUnmount })));\n    }\n    componentDidUpdate(prevProps) {\n        if (this.el && this.props.seg !== prevProps.seg) {\n            setElSeg(this.el, this.props.seg);\n        }\n    }\n}\n\n// should not be a purecomponent\nclass StandardEvent extends BaseComponent {\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let { seg } = props;\n        let { ui } = seg.eventRange;\n        let timeFormat = options.eventTimeFormat || props.defaultTimeFormat;\n        let timeText = buildSegTimeText(seg, timeFormat, context, props.defaultDisplayEventTime, props.defaultDisplayEventEnd);\n        return (createElement(EventContainer, Object.assign({}, props /* includes elRef */, { elTag: \"a\", elStyle: {\n                borderColor: ui.borderColor,\n                backgroundColor: ui.backgroundColor,\n            }, elAttrs: getSegAnchorAttrs(seg, context), defaultGenerator: renderInnerContent$1, timeText: timeText }), (InnerContent, eventContentArg) => (createElement(Fragment, null,\n            createElement(InnerContent, { elTag: \"div\", elClasses: ['fc-event-main'], elStyle: { color: eventContentArg.textColor } }),\n            Boolean(eventContentArg.isStartResizable) && (createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-start\" })),\n            Boolean(eventContentArg.isEndResizable) && (createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-end\" }))))));\n    }\n}\nfunction renderInnerContent$1(innerProps) {\n    return (createElement(\"div\", { className: \"fc-event-main-frame\" },\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title-container\" },\n            createElement(\"div\", { className: \"fc-event-title fc-sticky\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\")))));\n}\n\nconst NowIndicatorContainer = (props) => (createElement(ViewContextType.Consumer, null, (context) => {\n    let { options } = context;\n    let renderProps = {\n        isAxis: props.isAxis,\n        date: context.dateEnv.toDate(props.date),\n        view: context.viewApi,\n    };\n    return (createElement(ContentContainer, Object.assign({}, props /* includes children */, { elTag: props.elTag || 'div', renderProps: renderProps, generatorName: \"nowIndicatorContent\", customGenerator: options.nowIndicatorContent, classNameGenerator: options.nowIndicatorClassNames, didMount: options.nowIndicatorDidMount, willUnmount: options.nowIndicatorWillUnmount })));\n}));\n\nconst DAY_NUM_FORMAT = createFormatter({ day: 'numeric' });\nclass DayCellContainer extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.refineRenderProps = memoizeObjArg(refineRenderProps);\n    }\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let renderProps = this.refineRenderProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            isMonthStart: props.isMonthStart || false,\n            showDayNumber: props.showDayNumber,\n            extraRenderProps: props.extraRenderProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n            monthStartFormat: options.monthStartFormat,\n        });\n        return (createElement(ContentContainer, Object.assign({}, props /* includes children */, { elClasses: [\n                ...getDayClassNames(renderProps, context.theme),\n                ...(props.elClasses || []),\n            ], elAttrs: Object.assign(Object.assign({}, props.elAttrs), (renderProps.isDisabled ? {} : { 'data-date': formatDayString(props.date) })), renderProps: renderProps, generatorName: \"dayCellContent\", customGenerator: options.dayCellContent, defaultGenerator: props.defaultGenerator, classNameGenerator: \n            // don't use custom classNames if disabled\n            renderProps.isDisabled ? undefined : options.dayCellClassNames, didMount: options.dayCellDidMount, willUnmount: options.dayCellWillUnmount })));\n    }\n}\nfunction hasCustomDayCellContent(options) {\n    return Boolean(options.dayCellContent || hasCustomRenderingHandler('dayCellContent', options));\n}\nfunction refineRenderProps(raw) {\n    let { date, dateEnv, dateProfile, isMonthStart } = raw;\n    let dayMeta = getDateMeta(date, raw.todayRange, null, dateProfile);\n    let dayNumberText = raw.showDayNumber ? (dateEnv.format(date, isMonthStart ? raw.monthStartFormat : DAY_NUM_FORMAT)) : '';\n    return Object.assign(Object.assign(Object.assign({ date: dateEnv.toDate(date), view: raw.viewApi }, dayMeta), { isMonthStart,\n        dayNumberText }), raw.extraRenderProps);\n}\n\nclass BgEvent extends BaseComponent {\n    render() {\n        let { props } = this;\n        let { seg } = props;\n        return (createElement(EventContainer, { elTag: \"div\", elClasses: ['fc-bg-event'], elStyle: { backgroundColor: seg.eventRange.ui.backgroundColor }, defaultGenerator: renderInnerContent, seg: seg, timeText: \"\", isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday, disableDragging: true, disableResizing: true }));\n    }\n}\nfunction renderInnerContent(props) {\n    let { title } = props.event;\n    return title && (createElement(\"div\", { className: \"fc-event-title\" }, props.event.title));\n}\nfunction renderFill(fillType) {\n    return (createElement(\"div\", { className: `fc-${fillType}` }));\n}\n\nconst WeekNumberContainer = (props) => (createElement(ViewContextType.Consumer, null, (context) => {\n    let { dateEnv, options } = context;\n    let { date } = props;\n    let format = options.weekNumberFormat || props.defaultFormat;\n    let num = dateEnv.computeWeekNumber(date); // TODO: somehow use for formatting as well?\n    let text = dateEnv.format(date, format);\n    let renderProps = { num, text, date };\n    return (createElement(ContentContainer // why isn't WeekNumberContentArg being auto-detected?\n    , Object.assign({}, props /* includes children */, { renderProps: renderProps, generatorName: \"weekNumberContent\", customGenerator: options.weekNumberContent, defaultGenerator: renderInner, classNameGenerator: options.weekNumberClassNames, didMount: options.weekNumberDidMount, willUnmount: options.weekNumberWillUnmount })));\n}));\nfunction renderInner(innerProps) {\n    return innerProps.text;\n}\n\nconst PADDING_FROM_VIEWPORT = 10;\nclass Popover extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            titleId: getUniqueDomId(),\n        };\n        this.handleRootEl = (el) => {\n            this.rootEl = el;\n            if (this.props.elRef) {\n                setRef(this.props.elRef, el);\n            }\n        };\n        // Triggered when the user clicks *anywhere* in the document, for the autoHide feature\n        this.handleDocumentMouseDown = (ev) => {\n            // only hide the popover if the click happened outside the popover\n            const target = getEventTargetViaRoot(ev);\n            if (!this.rootEl.contains(target)) {\n                this.handleCloseClick();\n            }\n        };\n        this.handleDocumentKeyDown = (ev) => {\n            if (ev.key === 'Escape') {\n                this.handleCloseClick();\n            }\n        };\n        this.handleCloseClick = () => {\n            let { onClose } = this.props;\n            if (onClose) {\n                onClose();\n            }\n        };\n    }\n    render() {\n        let { theme, options } = this.context;\n        let { props, state } = this;\n        let classNames = [\n            'fc-popover',\n            theme.getClass('popover'),\n        ].concat(props.extraClassNames || []);\n        return createPortal(createElement(\"div\", Object.assign({}, props.extraAttrs, { id: props.id, className: classNames.join(' '), \"aria-labelledby\": state.titleId, ref: this.handleRootEl }),\n            createElement(\"div\", { className: 'fc-popover-header ' + theme.getClass('popoverHeader') },\n                createElement(\"span\", { className: \"fc-popover-title\", id: state.titleId }, props.title),\n                createElement(\"span\", { className: 'fc-popover-close ' + theme.getIconClass('close'), title: options.closeHint, onClick: this.handleCloseClick })),\n            createElement(\"div\", { className: 'fc-popover-body ' + theme.getClass('popoverContent') }, props.children)), props.parentEl);\n    }\n    componentDidMount() {\n        document.addEventListener('mousedown', this.handleDocumentMouseDown);\n        document.addEventListener('keydown', this.handleDocumentKeyDown);\n        this.updateSize();\n    }\n    componentWillUnmount() {\n        document.removeEventListener('mousedown', this.handleDocumentMouseDown);\n        document.removeEventListener('keydown', this.handleDocumentKeyDown);\n    }\n    updateSize() {\n        let { isRtl } = this.context;\n        let { alignmentEl, alignGridTop } = this.props;\n        let { rootEl } = this;\n        let alignmentRect = computeClippedClientRect(alignmentEl);\n        if (alignmentRect) {\n            let popoverDims = rootEl.getBoundingClientRect();\n            // position relative to viewport\n            let popoverTop = alignGridTop\n                ? elementClosest(alignmentEl, '.fc-scrollgrid').getBoundingClientRect().top\n                : alignmentRect.top;\n            let popoverLeft = isRtl ? alignmentRect.right - popoverDims.width : alignmentRect.left;\n            // constrain\n            popoverTop = Math.max(popoverTop, PADDING_FROM_VIEWPORT);\n            popoverLeft = Math.min(popoverLeft, document.documentElement.clientWidth - PADDING_FROM_VIEWPORT - popoverDims.width);\n            popoverLeft = Math.max(popoverLeft, PADDING_FROM_VIEWPORT);\n            let origin = rootEl.offsetParent.getBoundingClientRect();\n            applyStyle(rootEl, {\n                top: popoverTop - origin.top,\n                left: popoverLeft - origin.left,\n            });\n        }\n    }\n}\n\nclass MorePopover extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.handleRootEl = (rootEl) => {\n            this.rootEl = rootEl;\n            if (rootEl) {\n                this.context.registerInteractiveComponent(this, {\n                    el: rootEl,\n                    useEventCenter: false,\n                });\n            }\n            else {\n                this.context.unregisterInteractiveComponent(this);\n            }\n        };\n    }\n    render() {\n        let { options, dateEnv } = this.context;\n        let { props } = this;\n        let { startDate, todayRange, dateProfile } = props;\n        let title = dateEnv.format(startDate, options.dayPopoverFormat);\n        return (createElement(DayCellContainer, { elRef: this.handleRootEl, date: startDate, dateProfile: dateProfile, todayRange: todayRange }, (InnerContent, renderProps, elAttrs) => (createElement(Popover, { elRef: elAttrs.ref, id: props.id, title: title, extraClassNames: ['fc-more-popover'].concat(elAttrs.className || []), extraAttrs: elAttrs /* TODO: make these time-based when not whole-day? */, parentEl: props.parentEl, alignmentEl: props.alignmentEl, alignGridTop: props.alignGridTop, onClose: props.onClose },\n            hasCustomDayCellContent(options) && (createElement(InnerContent, { elTag: \"div\", elClasses: ['fc-more-popover-misc'] })),\n            props.children))));\n    }\n    queryHit(positionLeft, positionTop, elWidth, elHeight) {\n        let { rootEl, props } = this;\n        if (positionLeft >= 0 && positionLeft < elWidth &&\n            positionTop >= 0 && positionTop < elHeight) {\n            return {\n                dateProfile: props.dateProfile,\n                dateSpan: Object.assign({ allDay: !props.forceTimed, range: {\n                        start: props.startDate,\n                        end: props.endDate,\n                    } }, props.extraDateSpan),\n                dayEl: rootEl,\n                rect: {\n                    left: 0,\n                    top: 0,\n                    right: elWidth,\n                    bottom: elHeight,\n                },\n                layer: 1, // important when comparing with hits from other components\n            };\n        }\n        return null;\n    }\n}\n\nclass MoreLinkContainer extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            isPopoverOpen: false,\n            popoverId: getUniqueDomId(),\n        };\n        this.handleLinkEl = (linkEl) => {\n            this.linkEl = linkEl;\n            if (this.props.elRef) {\n                setRef(this.props.elRef, linkEl);\n            }\n        };\n        this.handleClick = (ev) => {\n            let { props, context } = this;\n            let { moreLinkClick } = context.options;\n            let date = computeRange(props).start;\n            function buildPublicSeg(seg) {\n                let { def, instance, range } = seg.eventRange;\n                return {\n                    event: new EventImpl(context, def, instance),\n                    start: context.dateEnv.toDate(range.start),\n                    end: context.dateEnv.toDate(range.end),\n                    isStart: seg.isStart,\n                    isEnd: seg.isEnd,\n                };\n            }\n            if (typeof moreLinkClick === 'function') {\n                moreLinkClick = moreLinkClick({\n                    date,\n                    allDay: Boolean(props.allDayDate),\n                    allSegs: props.allSegs.map(buildPublicSeg),\n                    hiddenSegs: props.hiddenSegs.map(buildPublicSeg),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n            }\n            if (!moreLinkClick || moreLinkClick === 'popover') {\n                this.setState({ isPopoverOpen: true });\n            }\n            else if (typeof moreLinkClick === 'string') { // a view name\n                context.calendarApi.zoomTo(date, moreLinkClick);\n            }\n        };\n        this.handlePopoverClose = () => {\n            this.setState({ isPopoverOpen: false });\n        };\n    }\n    render() {\n        let { props, state } = this;\n        return (createElement(ViewContextType.Consumer, null, (context) => {\n            let { viewApi, options, calendarApi } = context;\n            let { moreLinkText } = options;\n            let { moreCnt } = props;\n            let range = computeRange(props);\n            let text = typeof moreLinkText === 'function' // TODO: eventually use formatWithOrdinals\n                ? moreLinkText.call(calendarApi, moreCnt)\n                : `+${moreCnt} ${moreLinkText}`;\n            let hint = formatWithOrdinals(options.moreLinkHint, [moreCnt], text);\n            let renderProps = {\n                num: moreCnt,\n                shortText: `+${moreCnt}`,\n                text,\n                view: viewApi,\n            };\n            return (createElement(Fragment, null,\n                Boolean(props.moreCnt) && (createElement(ContentContainer, { elTag: props.elTag || 'a', elRef: this.handleLinkEl, elClasses: [\n                        ...(props.elClasses || []),\n                        'fc-more-link',\n                    ], elStyle: props.elStyle, elAttrs: Object.assign(Object.assign(Object.assign({}, props.elAttrs), createAriaClickAttrs(this.handleClick)), { title: hint, 'aria-expanded': state.isPopoverOpen, 'aria-controls': state.isPopoverOpen ? state.popoverId : '' }), renderProps: renderProps, generatorName: \"moreLinkContent\", customGenerator: options.moreLinkContent, defaultGenerator: props.defaultGenerator || renderMoreLinkInner, classNameGenerator: options.moreLinkClassNames, didMount: options.moreLinkDidMount, willUnmount: options.moreLinkWillUnmount }, props.children)),\n                state.isPopoverOpen && (createElement(MorePopover, { id: state.popoverId, startDate: range.start, endDate: range.end, dateProfile: props.dateProfile, todayRange: props.todayRange, extraDateSpan: props.extraDateSpan, parentEl: this.parentEl, alignmentEl: props.alignmentElRef ?\n                        props.alignmentElRef.current :\n                        this.linkEl, alignGridTop: props.alignGridTop, forceTimed: props.forceTimed, onClose: this.handlePopoverClose }, props.popoverContent()))));\n        }));\n    }\n    componentDidMount() {\n        this.updateParentEl();\n    }\n    componentDidUpdate() {\n        this.updateParentEl();\n    }\n    updateParentEl() {\n        if (this.linkEl) {\n            this.parentEl = elementClosest(this.linkEl, '.fc-view-harness');\n        }\n    }\n}\nfunction renderMoreLinkInner(props) {\n    return props.text;\n}\nfunction computeRange(props) {\n    if (props.allDayDate) {\n        return {\n            start: props.allDayDate,\n            end: addDays(props.allDayDate, 1),\n        };\n    }\n    let { hiddenSegs } = props;\n    return {\n        start: computeEarliestSegStart(hiddenSegs),\n        end: computeLatestSegEnd(hiddenSegs),\n    };\n}\nfunction computeEarliestSegStart(segs) {\n    return segs.reduce(pickEarliestStart).eventRange.range.start;\n}\nfunction pickEarliestStart(seg0, seg1) {\n    return seg0.eventRange.range.start < seg1.eventRange.range.start ? seg0 : seg1;\n}\nfunction computeLatestSegEnd(segs) {\n    return segs.reduce(pickLatestEnd).eventRange.range.end;\n}\nfunction pickLatestEnd(seg0, seg1) {\n    return seg0.eventRange.range.end > seg1.eventRange.range.end ? seg0 : seg1;\n}\n\nclass Store {\n    constructor() {\n        this.handlers = [];\n    }\n    set(value) {\n        this.currentValue = value;\n        for (let handler of this.handlers) {\n            handler(value);\n        }\n    }\n    subscribe(handler) {\n        this.handlers.push(handler);\n        if (this.currentValue !== undefined) {\n            handler(this.currentValue);\n        }\n    }\n}\n\n/*\nSubscribers will get a LIST of CustomRenderings\n*/\nclass CustomRenderingStore extends Store {\n    constructor() {\n        super(...arguments);\n        this.map = new Map();\n    }\n    // for consistent order\n    handle(customRendering) {\n        const { map } = this;\n        let updated = false;\n        if (customRendering.isActive) {\n            map.set(customRendering.id, customRendering);\n            updated = true;\n        }\n        else if (map.has(customRendering.id)) {\n            map.delete(customRendering.id);\n            updated = true;\n        }\n        if (updated) {\n            this.set(map);\n        }\n    }\n}\n\nexport { elementClosest as $, memoizeObjArg as A, BaseComponent as B, ContentContainer as C, DelayedRunner as D, isPropsEqual as E, Emitter as F, getInitialDate as G, rangeContainsMarker as H, createEmptyEventStore as I, reduceCurrentDate as J, reduceEventStore as K, rezoneEventStoreDates as L, mergeRawOptions as M, BASE_OPTION_REFINERS as N, CALENDAR_LISTENER_REFINERS as O, CALENDAR_OPTION_REFINERS as P, COMPLEX_OPTION_COMPARATORS as Q, VIEW_OPTION_REFINERS as R, DateEnv as S, Theme as T, DateProfileGenerator as U, ViewContextType as V, createEventUi as W, parseBusinessHours as X, setRef as Y, Interaction as Z, getElSeg as _, mapHash as a, getSlotClassNames as a$, EventImpl as a0, listenBySelector as a1, listenToHoverBySelector as a2, PureComponent as a3, buildViewContext as a4, getUniqueDomId as a5, parseInteractionSettings as a6, interactionSettingsStore as a7, getNow as a8, CalendarImpl as a9, diffDates as aA, removeExact as aB, memoizeArraylike as aC, memoizeHashlike as aD, intersectRects as aE, pointInsideRect as aF, constrainPoint as aG, getRectCenter as aH, diffPoints as aI, translateRect as aJ, compareObjs as aK, collectFromHash as aL, findElements as aM, findDirectChildren as aN, removeElement as aO, applyStyle as aP, elementMatches as aQ, getEventTargetViaRoot as aR, parseClassNames as aS, getCanVGrowWithinCell as aT, mergeEventStores as aU, getRelevantEvents as aV, eventTupleToStore as aW, combineEventUis as aX, Splitter as aY, getDayClassNames as aZ, getDateMeta as a_, flushSync as aa, CalendarRoot as ab, RenderId as ac, ensureElHasStyles as ad, applyStyleProp as ae, sliceEventStore as af, JsonRequestError as ag, createContext as ah, refineProps as ai, createEventInstance as aj, parseEventDef as ak, refineEventDef as al, padStart as am, isInt as an, parseFieldSpecs as ao, compareByFieldSpecs as ap, flexibleCompare as aq, preventSelection as ar, allowSelection as as, preventContextMenu as at, allowContextMenu as au, compareNumbers as av, enableCursor as aw, disableCursor as ax, computeVisibleDayRange as ay, isMultiDayRange as az, buildViewClassNames as b, SimpleScrollGrid as b$, buildNavLinkAttrs as b0, preventDefault as b1, whenTransitionDone as b2, computeInnerRect as b3, computeEdges as b4, getClippingParents as b5, computeRect as b6, rangesEqual as b7, rangesIntersect as b8, rangeContainsRange as b9, SegHierarchy as bA, buildEntryKey as bB, getEntrySpanEnd as bC, binarySearch as bD, groupIntersectingEntries as bE, intersectSpans as bF, interactionSettingsToStore as bG, ElementDragging as bH, config as bI, parseDragMeta as bJ, DayHeader as bK, computeFallbackHeaderFormat as bL, TableDateCell as bM, TableDowCell as bN, DaySeriesModel as bO, hasBgRendering as bP, buildSegTimeText as bQ, sortEventSegs as bR, getSegMeta as bS, buildEventRangeKey as bT, getSegAnchorAttrs as bU, DayTableModel as bV, Slicer as bW, applyMutationToEventStore as bX, isPropsValid as bY, isInteractionValid as bZ, isDateSelectionValid as b_, PositionCache as ba, ScrollController as bb, ElementScrollController as bc, WindowScrollController as bd, DateComponent as be, isDateSpansEqual as bf, addMs as bg, addWeeks as bh, diffWeeks as bi, diffWholeWeeks as bj, diffDayAndTime as bk, diffDays as bl, isValidDate as bm, asCleanDays as bn, multiplyDuration as bo, addDurations as bp, asRoughMinutes as bq, asRoughSeconds as br, asRoughMs as bs, wholeDivideDurations as bt, formatIsoTimeString as bu, formatDayString as bv, buildIsoString as bw, formatIsoMonthStr as bx, NamedTimeZoneImpl as by, parse as bz, greatestDurationDenominator as c, hasShrinkWidth as c0, renderMicroColGroup as c1, getScrollGridClassNames as c2, getSectionClassNames as c3, getSectionHasLiquidHeight as c4, getAllowYScrolling as c5, renderChunkContent as c6, computeShrinkWidth as c7, sanitizeShrinkWidth as c8, isColPropsEqual as c9, renderScrollShim as ca, getStickyFooterScrollbar as cb, getStickyHeaderDates as cc, Scroller as cd, getScrollbarWidths as ce, RefMap as cf, getIsRtlScrollbarOnLeft as cg, NowTimer as ch, ScrollResponder as ci, StandardEvent as cj, NowIndicatorContainer as ck, DayCellContainer as cl, hasCustomDayCellContent as cm, EventContainer as cn, renderFill as co, BgEvent as cp, WeekNumberContainer as cq, MoreLinkContainer as cr, computeEarliestSegStart as cs, ViewContainer as ct, triggerDateSelect as cu, getDefaultEventEnd as cv, injectStyles as cw, buildElAttrs as cx, CustomRenderingStore as cy, createDuration as d, BASE_OPTION_DEFAULTS as e, arrayToHash as f, guid as g, filterHash as h, isArraysEqual as i, buildEventSourceRefiners as j, formatWithOrdinals as k, buildRangeApiWithTimeZone as l, mergeProps as m, identity as n, intersectRanges as o, parseEventSource as p, startOfDay as q, requestJson as r, subtractDurations as s, addDays as t, unpromisify as u, hashValuesToArray as v, buildEventApis as w, createFormatter as x, diffWholeDays as y, memoize as z };\n","import { m as mergeProps, g as guid, i as isArraysEqual, T as Theme, a as mapHash, B as BaseComponent, V as ViewContextType, C as ContentContainer, b as buildViewClassNames, c as greatestDurationDenominator, d as createDuration, e as BASE_OPTION_DEFAULTS, f as arrayToHash, h as filterHash, j as buildEventSourceRefiners, p as parseEventSource, k as formatWithOrdinals, u as unpromisify, l as buildRangeApiWithTimeZone, n as identity, r as requestJson, s as subtractDurations, o as intersectRanges, q as startOfDay, t as addDays, v as hashValuesToArray, w as buildEventApis, D as DelayedRunner, x as createFormatter, y as diffWholeDays, z as memoize, A as memoizeObjArg, E as isPropsEqual, F as Emitter, G as getInitialDate, H as rangeContainsMarker, I as createEmptyEventStore, J as reduceCurrentDate, K as reduceEventStore, L as rezoneEventStoreDates, M as mergeRawOptions, N as BASE_OPTION_REFINERS, O as CALENDAR_LISTENER_REFINERS, P as CALENDAR_OPTION_REFINERS, Q as COMPLEX_OPTION_COMPARATORS, R as VIEW_OPTION_REFINERS, S as DateEnv, U as DateProfileGenerator, W as createEventUi, X as parseBusinessHours, Y as setRef, Z as Interaction, _ as getElSeg, $ as elementClosest, a0 as EventImpl, a1 as listenBySelector, a2 as listenToHoverBySelector, a3 as PureComponent, a4 as buildViewContext, a5 as getUniqueDomId, a6 as parseInteractionSettings, a7 as interactionSettingsStore, a8 as getNow, a9 as CalendarImpl, aa as flushSync, ab as CalendarRoot, ac as RenderId, ad as ensureElHasStyles, ae as applyStyleProp, af as sliceEventStore } from './internal-common.js';\nexport { ag as JsonRequestError } from './internal-common.js';\nimport { createElement, createRef, Fragment, render } from 'preact';\nimport 'preact/compat';\n\nconst globalLocales = [];\n\nconst MINIMAL_RAW_EN_LOCALE = {\n    code: 'en',\n    week: {\n        dow: 0,\n        doy: 4, // 4 days need to be within the year to be considered the first week\n    },\n    direction: 'ltr',\n    buttonText: {\n        prev: 'prev',\n        next: 'next',\n        prevYear: 'prev year',\n        nextYear: 'next year',\n        year: 'year',\n        today: 'today',\n        month: 'month',\n        week: 'week',\n        day: 'day',\n        list: 'list',\n    },\n    weekText: 'W',\n    weekTextLong: 'Week',\n    closeHint: 'Close',\n    timeHint: 'Time',\n    eventHint: 'Event',\n    allDayText: 'all-day',\n    moreLinkText: 'more',\n    noEventsText: 'No events to display',\n};\nconst RAW_EN_LOCALE = Object.assign(Object.assign({}, MINIMAL_RAW_EN_LOCALE), { \n    // Includes things we don't want other locales to inherit,\n    // things that derive from other translatable strings.\n    buttonHints: {\n        prev: 'Previous $0',\n        next: 'Next $0',\n        today(buttonText, unit) {\n            return (unit === 'day')\n                ? 'Today'\n                : `This ${buttonText}`;\n        },\n    }, viewHint: '$0 view', navLinkHint: 'Go to $0', moreLinkHint(eventCnt) {\n        return `Show ${eventCnt} more event${eventCnt === 1 ? '' : 's'}`;\n    } });\nfunction organizeRawLocales(explicitRawLocales) {\n    let defaultCode = explicitRawLocales.length > 0 ? explicitRawLocales[0].code : 'en';\n    let allRawLocales = globalLocales.concat(explicitRawLocales);\n    let rawLocaleMap = {\n        en: RAW_EN_LOCALE,\n    };\n    for (let rawLocale of allRawLocales) {\n        rawLocaleMap[rawLocale.code] = rawLocale;\n    }\n    return {\n        map: rawLocaleMap,\n        defaultCode,\n    };\n}\nfunction buildLocale(inputSingular, available) {\n    if (typeof inputSingular === 'object' && !Array.isArray(inputSingular)) {\n        return parseLocale(inputSingular.code, [inputSingular.code], inputSingular);\n    }\n    return queryLocale(inputSingular, available);\n}\nfunction queryLocale(codeArg, available) {\n    let codes = [].concat(codeArg || []); // will convert to array\n    let raw = queryRawLocale(codes, available) || RAW_EN_LOCALE;\n    return parseLocale(codeArg, codes, raw);\n}\nfunction queryRawLocale(codes, available) {\n    for (let i = 0; i < codes.length; i += 1) {\n        let parts = codes[i].toLocaleLowerCase().split('-');\n        for (let j = parts.length; j > 0; j -= 1) {\n            let simpleId = parts.slice(0, j).join('-');\n            if (available[simpleId]) {\n                return available[simpleId];\n            }\n        }\n    }\n    return null;\n}\nfunction parseLocale(codeArg, codes, raw) {\n    let merged = mergeProps([MINIMAL_RAW_EN_LOCALE, raw], ['buttonText']);\n    delete merged.code; // don't want this part of the options\n    let { week } = merged;\n    delete merged.week;\n    return {\n        codeArg,\n        codes,\n        week,\n        simpleNumberFormat: new Intl.NumberFormat(codeArg),\n        options: merged,\n    };\n}\n\n// TODO: easier way to add new hooks? need to update a million things\nfunction createPlugin(input) {\n    return {\n        id: guid(),\n        name: input.name,\n        premiumReleaseDate: input.premiumReleaseDate ? new Date(input.premiumReleaseDate) : undefined,\n        deps: input.deps || [],\n        reducers: input.reducers || [],\n        isLoadingFuncs: input.isLoadingFuncs || [],\n        contextInit: [].concat(input.contextInit || []),\n        eventRefiners: input.eventRefiners || {},\n        eventDefMemberAdders: input.eventDefMemberAdders || [],\n        eventSourceRefiners: input.eventSourceRefiners || {},\n        isDraggableTransformers: input.isDraggableTransformers || [],\n        eventDragMutationMassagers: input.eventDragMutationMassagers || [],\n        eventDefMutationAppliers: input.eventDefMutationAppliers || [],\n        dateSelectionTransformers: input.dateSelectionTransformers || [],\n        datePointTransforms: input.datePointTransforms || [],\n        dateSpanTransforms: input.dateSpanTransforms || [],\n        views: input.views || {},\n        viewPropsTransformers: input.viewPropsTransformers || [],\n        isPropsValid: input.isPropsValid || null,\n        externalDefTransforms: input.externalDefTransforms || [],\n        viewContainerAppends: input.viewContainerAppends || [],\n        eventDropTransformers: input.eventDropTransformers || [],\n        componentInteractions: input.componentInteractions || [],\n        calendarInteractions: input.calendarInteractions || [],\n        themeClasses: input.themeClasses || {},\n        eventSourceDefs: input.eventSourceDefs || [],\n        cmdFormatter: input.cmdFormatter,\n        recurringTypes: input.recurringTypes || [],\n        namedTimeZonedImpl: input.namedTimeZonedImpl,\n        initialView: input.initialView || '',\n        elementDraggingImpl: input.elementDraggingImpl,\n        optionChangeHandlers: input.optionChangeHandlers || {},\n        scrollGridImpl: input.scrollGridImpl || null,\n        listenerRefiners: input.listenerRefiners || {},\n        optionRefiners: input.optionRefiners || {},\n        propSetHandlers: input.propSetHandlers || {},\n    };\n}\nfunction buildPluginHooks(pluginDefs, globalDefs) {\n    let currentPluginIds = {};\n    let hooks = {\n        premiumReleaseDate: undefined,\n        reducers: [],\n        isLoadingFuncs: [],\n        contextInit: [],\n        eventRefiners: {},\n        eventDefMemberAdders: [],\n        eventSourceRefiners: {},\n        isDraggableTransformers: [],\n        eventDragMutationMassagers: [],\n        eventDefMutationAppliers: [],\n        dateSelectionTransformers: [],\n        datePointTransforms: [],\n        dateSpanTransforms: [],\n        views: {},\n        viewPropsTransformers: [],\n        isPropsValid: null,\n        externalDefTransforms: [],\n        viewContainerAppends: [],\n        eventDropTransformers: [],\n        componentInteractions: [],\n        calendarInteractions: [],\n        themeClasses: {},\n        eventSourceDefs: [],\n        cmdFormatter: null,\n        recurringTypes: [],\n        namedTimeZonedImpl: null,\n        initialView: '',\n        elementDraggingImpl: null,\n        optionChangeHandlers: {},\n        scrollGridImpl: null,\n        listenerRefiners: {},\n        optionRefiners: {},\n        propSetHandlers: {},\n    };\n    function addDefs(defs) {\n        for (let def of defs) {\n            const pluginName = def.name;\n            const currentId = currentPluginIds[pluginName];\n            if (currentId === undefined) {\n                currentPluginIds[pluginName] = def.id;\n                addDefs(def.deps);\n                hooks = combineHooks(hooks, def);\n            }\n            else if (currentId !== def.id) {\n                // different ID than the one already added\n                console.warn(`Duplicate plugin '${pluginName}'`);\n            }\n        }\n    }\n    if (pluginDefs) {\n        addDefs(pluginDefs);\n    }\n    addDefs(globalDefs);\n    return hooks;\n}\nfunction buildBuildPluginHooks() {\n    let currentOverrideDefs = [];\n    let currentGlobalDefs = [];\n    let currentHooks;\n    return (overrideDefs, globalDefs) => {\n        if (!currentHooks || !isArraysEqual(overrideDefs, currentOverrideDefs) || !isArraysEqual(globalDefs, currentGlobalDefs)) {\n            currentHooks = buildPluginHooks(overrideDefs, globalDefs);\n        }\n        currentOverrideDefs = overrideDefs;\n        currentGlobalDefs = globalDefs;\n        return currentHooks;\n    };\n}\nfunction combineHooks(hooks0, hooks1) {\n    return {\n        premiumReleaseDate: compareOptionalDates(hooks0.premiumReleaseDate, hooks1.premiumReleaseDate),\n        reducers: hooks0.reducers.concat(hooks1.reducers),\n        isLoadingFuncs: hooks0.isLoadingFuncs.concat(hooks1.isLoadingFuncs),\n        contextInit: hooks0.contextInit.concat(hooks1.contextInit),\n        eventRefiners: Object.assign(Object.assign({}, hooks0.eventRefiners), hooks1.eventRefiners),\n        eventDefMemberAdders: hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),\n        eventSourceRefiners: Object.assign(Object.assign({}, hooks0.eventSourceRefiners), hooks1.eventSourceRefiners),\n        isDraggableTransformers: hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),\n        eventDragMutationMassagers: hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),\n        eventDefMutationAppliers: hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),\n        dateSelectionTransformers: hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),\n        datePointTransforms: hooks0.datePointTransforms.concat(hooks1.datePointTransforms),\n        dateSpanTransforms: hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),\n        views: Object.assign(Object.assign({}, hooks0.views), hooks1.views),\n        viewPropsTransformers: hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),\n        isPropsValid: hooks1.isPropsValid || hooks0.isPropsValid,\n        externalDefTransforms: hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),\n        viewContainerAppends: hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),\n        eventDropTransformers: hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),\n        calendarInteractions: hooks0.calendarInteractions.concat(hooks1.calendarInteractions),\n        componentInteractions: hooks0.componentInteractions.concat(hooks1.componentInteractions),\n        themeClasses: Object.assign(Object.assign({}, hooks0.themeClasses), hooks1.themeClasses),\n        eventSourceDefs: hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),\n        cmdFormatter: hooks1.cmdFormatter || hooks0.cmdFormatter,\n        recurringTypes: hooks0.recurringTypes.concat(hooks1.recurringTypes),\n        namedTimeZonedImpl: hooks1.namedTimeZonedImpl || hooks0.namedTimeZonedImpl,\n        initialView: hooks0.initialView || hooks1.initialView,\n        elementDraggingImpl: hooks0.elementDraggingImpl || hooks1.elementDraggingImpl,\n        optionChangeHandlers: Object.assign(Object.assign({}, hooks0.optionChangeHandlers), hooks1.optionChangeHandlers),\n        scrollGridImpl: hooks1.scrollGridImpl || hooks0.scrollGridImpl,\n        listenerRefiners: Object.assign(Object.assign({}, hooks0.listenerRefiners), hooks1.listenerRefiners),\n        optionRefiners: Object.assign(Object.assign({}, hooks0.optionRefiners), hooks1.optionRefiners),\n        propSetHandlers: Object.assign(Object.assign({}, hooks0.propSetHandlers), hooks1.propSetHandlers),\n    };\n}\nfunction compareOptionalDates(date0, date1) {\n    if (date0 === undefined) {\n        return date1;\n    }\n    if (date1 === undefined) {\n        return date0;\n    }\n    return new Date(Math.max(date0.valueOf(), date1.valueOf()));\n}\n\nclass StandardTheme extends Theme {\n}\nStandardTheme.prototype.classes = {\n    root: 'fc-theme-standard',\n    tableCellShaded: 'fc-cell-shaded',\n    buttonGroup: 'fc-button-group',\n    button: 'fc-button fc-button-primary',\n    buttonActive: 'fc-button-active',\n};\nStandardTheme.prototype.baseIconClass = 'fc-icon';\nStandardTheme.prototype.iconClasses = {\n    close: 'fc-icon-x',\n    prev: 'fc-icon-chevron-left',\n    next: 'fc-icon-chevron-right',\n    prevYear: 'fc-icon-chevrons-left',\n    nextYear: 'fc-icon-chevrons-right',\n};\nStandardTheme.prototype.rtlIconClasses = {\n    prev: 'fc-icon-chevron-right',\n    next: 'fc-icon-chevron-left',\n    prevYear: 'fc-icon-chevrons-right',\n    nextYear: 'fc-icon-chevrons-left',\n};\nStandardTheme.prototype.iconOverrideOption = 'buttonIcons'; // TODO: make TS-friendly\nStandardTheme.prototype.iconOverrideCustomButtonOption = 'icon';\nStandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\n\nfunction compileViewDefs(defaultConfigs, overrideConfigs) {\n    let hash = {};\n    let viewType;\n    for (viewType in defaultConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    for (viewType in overrideConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    return hash;\n}\nfunction ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    if (hash[viewType]) {\n        return hash[viewType];\n    }\n    let viewDef = buildViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    if (viewDef) {\n        hash[viewType] = viewDef;\n    }\n    return viewDef;\n}\nfunction buildViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    let defaultConfig = defaultConfigs[viewType];\n    let overrideConfig = overrideConfigs[viewType];\n    let queryProp = (name) => ((defaultConfig && defaultConfig[name] !== null) ? defaultConfig[name] :\n        ((overrideConfig && overrideConfig[name] !== null) ? overrideConfig[name] : null));\n    let theComponent = queryProp('component');\n    let superType = queryProp('superType');\n    let superDef = null;\n    if (superType) {\n        if (superType === viewType) {\n            throw new Error('Can\\'t have a custom view type that references itself');\n        }\n        superDef = ensureViewDef(superType, hash, defaultConfigs, overrideConfigs);\n    }\n    if (!theComponent && superDef) {\n        theComponent = superDef.component;\n    }\n    if (!theComponent) {\n        return null; // don't throw a warning, might be settings for a single-unit view\n    }\n    return {\n        type: viewType,\n        component: theComponent,\n        defaults: Object.assign(Object.assign({}, (superDef ? superDef.defaults : {})), (defaultConfig ? defaultConfig.rawOptions : {})),\n        overrides: Object.assign(Object.assign({}, (superDef ? superDef.overrides : {})), (overrideConfig ? overrideConfig.rawOptions : {})),\n    };\n}\n\nfunction parseViewConfigs(inputs) {\n    return mapHash(inputs, parseViewConfig);\n}\nfunction parseViewConfig(input) {\n    let rawOptions = typeof input === 'function' ?\n        { component: input } :\n        input;\n    let { component } = rawOptions;\n    if (rawOptions.content) {\n        // TODO: remove content/classNames/didMount/etc from options?\n        component = createViewHookComponent(rawOptions);\n    }\n    else if (component && !(component.prototype instanceof BaseComponent)) {\n        // WHY?: people were using `component` property for `content`\n        // TODO: converge on one setting name\n        component = createViewHookComponent(Object.assign(Object.assign({}, rawOptions), { content: component }));\n    }\n    return {\n        superType: rawOptions.type,\n        component: component,\n        rawOptions, // includes type and component too :(\n    };\n}\nfunction createViewHookComponent(options) {\n    return (viewProps) => (createElement(ViewContextType.Consumer, null, (context) => (createElement(ContentContainer, { elTag: \"div\", elClasses: buildViewClassNames(context.viewSpec), renderProps: Object.assign(Object.assign({}, viewProps), { nextDayThreshold: context.options.nextDayThreshold }), generatorName: undefined, customGenerator: options.content, classNameGenerator: options.classNames, didMount: options.didMount, willUnmount: options.willUnmount }))));\n}\n\nfunction buildViewSpecs(defaultInputs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    let defaultConfigs = parseViewConfigs(defaultInputs);\n    let overrideConfigs = parseViewConfigs(optionOverrides.views);\n    let viewDefs = compileViewDefs(defaultConfigs, overrideConfigs);\n    return mapHash(viewDefs, (viewDef) => buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults));\n}\nfunction buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    let durationInput = viewDef.overrides.duration ||\n        viewDef.defaults.duration ||\n        dynamicOptionOverrides.duration ||\n        optionOverrides.duration;\n    let duration = null;\n    let durationUnit = '';\n    let singleUnit = '';\n    let singleUnitOverrides = {};\n    if (durationInput) {\n        duration = createDurationCached(durationInput);\n        if (duration) { // valid?\n            let denom = greatestDurationDenominator(duration);\n            durationUnit = denom.unit;\n            if (denom.value === 1) {\n                singleUnit = durationUnit;\n                singleUnitOverrides = overrideConfigs[durationUnit] ? overrideConfigs[durationUnit].rawOptions : {};\n            }\n        }\n    }\n    let queryButtonText = (optionsSubset) => {\n        let buttonTextMap = optionsSubset.buttonText || {};\n        let buttonTextKey = viewDef.defaults.buttonTextKey;\n        if (buttonTextKey != null && buttonTextMap[buttonTextKey] != null) {\n            return buttonTextMap[buttonTextKey];\n        }\n        if (buttonTextMap[viewDef.type] != null) {\n            return buttonTextMap[viewDef.type];\n        }\n        if (buttonTextMap[singleUnit] != null) {\n            return buttonTextMap[singleUnit];\n        }\n        return null;\n    };\n    let queryButtonTitle = (optionsSubset) => {\n        let buttonHints = optionsSubset.buttonHints || {};\n        let buttonKey = viewDef.defaults.buttonTextKey; // use same key as text\n        if (buttonKey != null && buttonHints[buttonKey] != null) {\n            return buttonHints[buttonKey];\n        }\n        if (buttonHints[viewDef.type] != null) {\n            return buttonHints[viewDef.type];\n        }\n        if (buttonHints[singleUnit] != null) {\n            return buttonHints[singleUnit];\n        }\n        return null;\n    };\n    return {\n        type: viewDef.type,\n        component: viewDef.component,\n        duration,\n        durationUnit,\n        singleUnit,\n        optionDefaults: viewDef.defaults,\n        optionOverrides: Object.assign(Object.assign({}, singleUnitOverrides), viewDef.overrides),\n        buttonTextOverride: queryButtonText(dynamicOptionOverrides) ||\n            queryButtonText(optionOverrides) || // constructor-specified buttonText lookup hash takes precedence\n            viewDef.overrides.buttonText,\n        buttonTextDefault: queryButtonText(localeDefaults) ||\n            viewDef.defaults.buttonText ||\n            queryButtonText(BASE_OPTION_DEFAULTS) ||\n            viewDef.type,\n        // not DRY\n        buttonTitleOverride: queryButtonTitle(dynamicOptionOverrides) ||\n            queryButtonTitle(optionOverrides) ||\n            viewDef.overrides.buttonHint,\n        buttonTitleDefault: queryButtonTitle(localeDefaults) ||\n            viewDef.defaults.buttonHint ||\n            queryButtonTitle(BASE_OPTION_DEFAULTS),\n        // will eventually fall back to buttonText\n    };\n}\n// hack to get memoization working\nlet durationInputMap = {};\nfunction createDurationCached(durationInput) {\n    let json = JSON.stringify(durationInput);\n    let res = durationInputMap[json];\n    if (res === undefined) {\n        res = createDuration(durationInput);\n        durationInputMap[json] = res;\n    }\n    return res;\n}\n\nfunction reduceViewType(viewType, action) {\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            viewType = action.viewType;\n    }\n    return viewType;\n}\n\nfunction reduceDynamicOptionOverrides(dynamicOptionOverrides, action) {\n    switch (action.type) {\n        case 'SET_OPTION':\n            return Object.assign(Object.assign({}, dynamicOptionOverrides), { [action.optionName]: action.rawOptionValue });\n        default:\n            return dynamicOptionOverrides;\n    }\n}\n\nfunction reduceDateProfile(currentDateProfile, action, currentDate, dateProfileGenerator) {\n    let dp;\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            return dateProfileGenerator.build(action.dateMarker || currentDate);\n        case 'CHANGE_DATE':\n            return dateProfileGenerator.build(action.dateMarker);\n        case 'PREV':\n            dp = dateProfileGenerator.buildPrev(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n        case 'NEXT':\n            dp = dateProfileGenerator.buildNext(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n    }\n    return currentDateProfile;\n}\n\nfunction initEventSources(calendarOptions, dateProfile, context) {\n    let activeRange = dateProfile ? dateProfile.activeRange : null;\n    return addSources({}, parseInitialSources(calendarOptions, context), activeRange, context);\n}\nfunction reduceEventSources(eventSources, action, dateProfile, context) {\n    let activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    switch (action.type) {\n        case 'ADD_EVENT_SOURCES': // already parsed\n            return addSources(eventSources, action.sources, activeRange, context);\n        case 'REMOVE_EVENT_SOURCE':\n            return removeSource(eventSources, action.sourceId);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return fetchDirtySources(eventSources, activeRange, context);\n            }\n            return eventSources;\n        case 'FETCH_EVENT_SOURCES':\n            return fetchSourcesByIds(eventSources, action.sourceIds ? // why no type?\n                arrayToHash(action.sourceIds) :\n                excludeStaticSources(eventSources, context), activeRange, action.isRefetch || false, context);\n        case 'RECEIVE_EVENTS':\n        case 'RECEIVE_EVENT_ERROR':\n            return receiveResponse(eventSources, action.sourceId, action.fetchId, action.fetchRange);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return {};\n        default:\n            return eventSources;\n    }\n}\nfunction reduceEventSourcesNewTimeZone(eventSources, dateProfile, context) {\n    let activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    return fetchSourcesByIds(eventSources, excludeStaticSources(eventSources, context), activeRange, true, context);\n}\nfunction computeEventSourcesLoading(eventSources) {\n    for (let sourceId in eventSources) {\n        if (eventSources[sourceId].isFetching) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction addSources(eventSourceHash, sources, fetchRange, context) {\n    let hash = {};\n    for (let source of sources) {\n        hash[source.sourceId] = source;\n    }\n    if (fetchRange) {\n        hash = fetchDirtySources(hash, fetchRange, context);\n    }\n    return Object.assign(Object.assign({}, eventSourceHash), hash);\n}\nfunction removeSource(eventSourceHash, sourceId) {\n    return filterHash(eventSourceHash, (eventSource) => eventSource.sourceId !== sourceId);\n}\nfunction fetchDirtySources(sourceHash, fetchRange, context) {\n    return fetchSourcesByIds(sourceHash, filterHash(sourceHash, (eventSource) => isSourceDirty(eventSource, fetchRange, context)), fetchRange, false, context);\n}\nfunction isSourceDirty(eventSource, fetchRange, context) {\n    if (!doesSourceNeedRange(eventSource, context)) {\n        return !eventSource.latestFetchId;\n    }\n    return !context.options.lazyFetching ||\n        !eventSource.fetchRange ||\n        eventSource.isFetching || // always cancel outdated in-progress fetches\n        fetchRange.start < eventSource.fetchRange.start ||\n        fetchRange.end > eventSource.fetchRange.end;\n}\nfunction fetchSourcesByIds(prevSources, sourceIdHash, fetchRange, isRefetch, context) {\n    let nextSources = {};\n    for (let sourceId in prevSources) {\n        let source = prevSources[sourceId];\n        if (sourceIdHash[sourceId]) {\n            nextSources[sourceId] = fetchSource(source, fetchRange, isRefetch, context);\n        }\n        else {\n            nextSources[sourceId] = source;\n        }\n    }\n    return nextSources;\n}\nfunction fetchSource(eventSource, fetchRange, isRefetch, context) {\n    let { options, calendarApi } = context;\n    let sourceDef = context.pluginHooks.eventSourceDefs[eventSource.sourceDefId];\n    let fetchId = guid();\n    sourceDef.fetch({\n        eventSource,\n        range: fetchRange,\n        isRefetch,\n        context,\n    }, (res) => {\n        let { rawEvents } = res;\n        if (options.eventSourceSuccess) {\n            rawEvents = options.eventSourceSuccess.call(calendarApi, rawEvents, res.response) || rawEvents;\n        }\n        if (eventSource.success) {\n            rawEvents = eventSource.success.call(calendarApi, rawEvents, res.response) || rawEvents;\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENTS',\n            sourceId: eventSource.sourceId,\n            fetchId,\n            fetchRange,\n            rawEvents,\n        });\n    }, (error) => {\n        let errorHandled = false;\n        if (options.eventSourceFailure) {\n            options.eventSourceFailure.call(calendarApi, error);\n            errorHandled = true;\n        }\n        if (eventSource.failure) {\n            eventSource.failure(error);\n            errorHandled = true;\n        }\n        if (!errorHandled) {\n            console.warn(error.message, error);\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENT_ERROR',\n            sourceId: eventSource.sourceId,\n            fetchId,\n            fetchRange,\n            error,\n        });\n    });\n    return Object.assign(Object.assign({}, eventSource), { isFetching: true, latestFetchId: fetchId });\n}\nfunction receiveResponse(sourceHash, sourceId, fetchId, fetchRange) {\n    let eventSource = sourceHash[sourceId];\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId) {\n        return Object.assign(Object.assign({}, sourceHash), { [sourceId]: Object.assign(Object.assign({}, eventSource), { isFetching: false, fetchRange }) });\n    }\n    return sourceHash;\n}\nfunction excludeStaticSources(eventSources, context) {\n    return filterHash(eventSources, (eventSource) => doesSourceNeedRange(eventSource, context));\n}\nfunction parseInitialSources(rawOptions, context) {\n    let refiners = buildEventSourceRefiners(context);\n    let rawSources = [].concat(rawOptions.eventSources || []);\n    let sources = []; // parsed\n    if (rawOptions.initialEvents) {\n        rawSources.unshift(rawOptions.initialEvents);\n    }\n    if (rawOptions.events) {\n        rawSources.unshift(rawOptions.events);\n    }\n    for (let rawSource of rawSources) {\n        let source = parseEventSource(rawSource, context, refiners);\n        if (source) {\n            sources.push(source);\n        }\n    }\n    return sources;\n}\nfunction doesSourceNeedRange(eventSource, context) {\n    let defs = context.pluginHooks.eventSourceDefs;\n    return !defs[eventSource.sourceDefId].ignoreRange;\n}\n\nfunction reduceDateSelection(currentSelection, action) {\n    switch (action.type) {\n        case 'UNSELECT_DATES':\n            return null;\n        case 'SELECT_DATES':\n            return action.selection;\n        default:\n            return currentSelection;\n    }\n}\n\nfunction reduceSelectedEvent(currentInstanceId, action) {\n    switch (action.type) {\n        case 'UNSELECT_EVENT':\n            return '';\n        case 'SELECT_EVENT':\n            return action.eventInstanceId;\n        default:\n            return currentInstanceId;\n    }\n}\n\nfunction reduceEventDrag(currentDrag, action) {\n    let newDrag;\n    switch (action.type) {\n        case 'UNSET_EVENT_DRAG':\n            return null;\n        case 'SET_EVENT_DRAG':\n            newDrag = action.state;\n            return {\n                affectedEvents: newDrag.affectedEvents,\n                mutatedEvents: newDrag.mutatedEvents,\n                isEvent: newDrag.isEvent,\n            };\n        default:\n            return currentDrag;\n    }\n}\n\nfunction reduceEventResize(currentResize, action) {\n    let newResize;\n    switch (action.type) {\n        case 'UNSET_EVENT_RESIZE':\n            return null;\n        case 'SET_EVENT_RESIZE':\n            newResize = action.state;\n            return {\n                affectedEvents: newResize.affectedEvents,\n                mutatedEvents: newResize.mutatedEvents,\n                isEvent: newResize.isEvent,\n            };\n        default:\n            return currentResize;\n    }\n}\n\nfunction parseToolbars(calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    let header = calendarOptions.headerToolbar ? parseToolbar(calendarOptions.headerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n    let footer = calendarOptions.footerToolbar ? parseToolbar(calendarOptions.footerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n    return { header, footer };\n}\nfunction parseToolbar(sectionStrHash, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    let sectionWidgets = {};\n    let viewsWithButtons = [];\n    let hasTitle = false;\n    for (let sectionName in sectionStrHash) {\n        let sectionStr = sectionStrHash[sectionName];\n        let sectionRes = parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi);\n        sectionWidgets[sectionName] = sectionRes.widgets;\n        viewsWithButtons.push(...sectionRes.viewsWithButtons);\n        hasTitle = hasTitle || sectionRes.hasTitle;\n    }\n    return { sectionWidgets, viewsWithButtons, hasTitle };\n}\n/*\nBAD: querying icons and text here. should be done at render time\n*/\nfunction parseSection(sectionStr, calendarOptions, // defaults+overrides, then refined\ncalendarOptionOverrides, // overrides only!, unrefined :(\ntheme, viewSpecs, calendarApi) {\n    let isRtl = calendarOptions.direction === 'rtl';\n    let calendarCustomButtons = calendarOptions.customButtons || {};\n    let calendarButtonTextOverrides = calendarOptionOverrides.buttonText || {};\n    let calendarButtonText = calendarOptions.buttonText || {};\n    let calendarButtonHintOverrides = calendarOptionOverrides.buttonHints || {};\n    let calendarButtonHints = calendarOptions.buttonHints || {};\n    let sectionSubstrs = sectionStr ? sectionStr.split(' ') : [];\n    let viewsWithButtons = [];\n    let hasTitle = false;\n    let widgets = sectionSubstrs.map((buttonGroupStr) => (buttonGroupStr.split(',').map((buttonName) => {\n        if (buttonName === 'title') {\n            hasTitle = true;\n            return { buttonName };\n        }\n        let customButtonProps;\n        let viewSpec;\n        let buttonClick;\n        let buttonIcon; // only one of these will be set\n        let buttonText; // \"\n        let buttonHint;\n        // ^ for the title=\"\" attribute, for accessibility\n        if ((customButtonProps = calendarCustomButtons[buttonName])) {\n            buttonClick = (ev) => {\n                if (customButtonProps.click) {\n                    customButtonProps.click.call(ev.target, ev, ev.target); // TODO: use Calendar this context?\n                }\n            };\n            (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = customButtonProps.text);\n            buttonHint = customButtonProps.hint || customButtonProps.text;\n        }\n        else if ((viewSpec = viewSpecs[buttonName])) {\n            viewsWithButtons.push(buttonName);\n            buttonClick = () => {\n                calendarApi.changeView(buttonName);\n            };\n            (buttonText = viewSpec.buttonTextOverride) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = viewSpec.buttonTextDefault);\n            let textFallback = viewSpec.buttonTextOverride ||\n                viewSpec.buttonTextDefault;\n            buttonHint = formatWithOrdinals(viewSpec.buttonTitleOverride ||\n                viewSpec.buttonTitleDefault ||\n                calendarOptions.viewHint, [textFallback, buttonName], // view-name = buttonName\n            textFallback);\n        }\n        else if (calendarApi[buttonName]) { // a calendarApi method\n            buttonClick = () => {\n                calendarApi[buttonName]();\n            };\n            (buttonText = calendarButtonTextOverrides[buttonName]) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = calendarButtonText[buttonName]); // everything else is considered default\n            if (buttonName === 'prevYear' || buttonName === 'nextYear') {\n                let prevOrNext = buttonName === 'prevYear' ? 'prev' : 'next';\n                buttonHint = formatWithOrdinals(calendarButtonHintOverrides[prevOrNext] ||\n                    calendarButtonHints[prevOrNext], [\n                    calendarButtonText.year || 'year',\n                    'year',\n                ], calendarButtonText[buttonName]);\n            }\n            else {\n                buttonHint = (navUnit) => formatWithOrdinals(calendarButtonHintOverrides[buttonName] ||\n                    calendarButtonHints[buttonName], [\n                    calendarButtonText[navUnit] || navUnit,\n                    navUnit,\n                ], calendarButtonText[buttonName]);\n            }\n        }\n        return { buttonName, buttonClick, buttonIcon, buttonText, buttonHint };\n    })));\n    return { widgets, viewsWithButtons, hasTitle };\n}\n\n// always represents the current view. otherwise, it'd need to change value every time date changes\nclass ViewImpl {\n    constructor(type, getCurrentData, dateEnv) {\n        this.type = type;\n        this.getCurrentData = getCurrentData;\n        this.dateEnv = dateEnv;\n    }\n    get calendar() {\n        return this.getCurrentData().calendarApi;\n    }\n    get title() {\n        return this.getCurrentData().viewTitle;\n    }\n    get activeStart() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start);\n    }\n    get activeEnd() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end);\n    }\n    get currentStart() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start);\n    }\n    get currentEnd() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end);\n    }\n    getOption(name) {\n        return this.getCurrentData().options[name]; // are the view-specific options\n    }\n}\n\nlet eventSourceDef$2 = {\n    ignoreRange: true,\n    parseMeta(refined) {\n        if (Array.isArray(refined.events)) {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch(arg, successCallback) {\n        successCallback({\n            rawEvents: arg.eventSource.meta,\n        });\n    },\n};\nconst arrayEventSourcePlugin = createPlugin({\n    name: 'array-event-source',\n    eventSourceDefs: [eventSourceDef$2],\n});\n\nlet eventSourceDef$1 = {\n    parseMeta(refined) {\n        if (typeof refined.events === 'function') {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch(arg, successCallback, errorCallback) {\n        const { dateEnv } = arg.context;\n        const func = arg.eventSource.meta;\n        unpromisify(func.bind(null, buildRangeApiWithTimeZone(arg.range, dateEnv)), (rawEvents) => successCallback({ rawEvents }), errorCallback);\n    },\n};\nconst funcEventSourcePlugin = createPlugin({\n    name: 'func-event-source',\n    eventSourceDefs: [eventSourceDef$1],\n});\n\nconst JSON_FEED_EVENT_SOURCE_REFINERS = {\n    method: String,\n    extraParams: identity,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n};\n\nlet eventSourceDef = {\n    parseMeta(refined) {\n        if (refined.url && (refined.format === 'json' || !refined.format)) {\n            return {\n                url: refined.url,\n                format: 'json',\n                method: (refined.method || 'GET').toUpperCase(),\n                extraParams: refined.extraParams,\n                startParam: refined.startParam,\n                endParam: refined.endParam,\n                timeZoneParam: refined.timeZoneParam,\n            };\n        }\n        return null;\n    },\n    fetch(arg, successCallback, errorCallback) {\n        const { meta } = arg.eventSource;\n        const requestParams = buildRequestParams(meta, arg.range, arg.context);\n        requestJson(meta.method, meta.url, requestParams).then(([rawEvents, response]) => {\n            successCallback({ rawEvents, response });\n        }, errorCallback);\n    },\n};\nconst jsonFeedEventSourcePlugin = createPlugin({\n    name: 'json-event-source',\n    eventSourceRefiners: JSON_FEED_EVENT_SOURCE_REFINERS,\n    eventSourceDefs: [eventSourceDef],\n});\nfunction buildRequestParams(meta, range, context) {\n    let { dateEnv, options } = context;\n    let startParam;\n    let endParam;\n    let timeZoneParam;\n    let customRequestParams;\n    let params = {};\n    startParam = meta.startParam;\n    if (startParam == null) {\n        startParam = options.startParam;\n    }\n    endParam = meta.endParam;\n    if (endParam == null) {\n        endParam = options.endParam;\n    }\n    timeZoneParam = meta.timeZoneParam;\n    if (timeZoneParam == null) {\n        timeZoneParam = options.timeZoneParam;\n    }\n    // retrieve any outbound GET/POST data from the options\n    if (typeof meta.extraParams === 'function') {\n        // supplied as a function that returns a key/value object\n        customRequestParams = meta.extraParams();\n    }\n    else {\n        // probably supplied as a straight key/value object\n        customRequestParams = meta.extraParams || {};\n    }\n    Object.assign(params, customRequestParams);\n    params[startParam] = dateEnv.formatIso(range.start);\n    params[endParam] = dateEnv.formatIso(range.end);\n    if (dateEnv.timeZone !== 'local') {\n        params[timeZoneParam] = dateEnv.timeZone;\n    }\n    return params;\n}\n\nconst SIMPLE_RECURRING_REFINERS = {\n    daysOfWeek: identity,\n    startTime: createDuration,\n    endTime: createDuration,\n    duration: createDuration,\n    startRecur: identity,\n    endRecur: identity,\n};\n\nlet recurring = {\n    parse(refined, dateEnv) {\n        if (refined.daysOfWeek || refined.startTime || refined.endTime || refined.startRecur || refined.endRecur) {\n            let recurringData = {\n                daysOfWeek: refined.daysOfWeek || null,\n                startTime: refined.startTime || null,\n                endTime: refined.endTime || null,\n                startRecur: refined.startRecur ? dateEnv.createMarker(refined.startRecur) : null,\n                endRecur: refined.endRecur ? dateEnv.createMarker(refined.endRecur) : null,\n            };\n            let duration;\n            if (refined.duration) {\n                duration = refined.duration;\n            }\n            if (!duration && refined.startTime && refined.endTime) {\n                duration = subtractDurations(refined.endTime, refined.startTime);\n            }\n            return {\n                allDayGuess: Boolean(!refined.startTime && !refined.endTime),\n                duration,\n                typeData: recurringData, // doesn't need endTime anymore but oh well\n            };\n        }\n        return null;\n    },\n    expand(typeData, framingRange, dateEnv) {\n        let clippedFramingRange = intersectRanges(framingRange, { start: typeData.startRecur, end: typeData.endRecur });\n        if (clippedFramingRange) {\n            return expandRanges(typeData.daysOfWeek, typeData.startTime, clippedFramingRange, dateEnv);\n        }\n        return [];\n    },\n};\nconst simpleRecurringEventsPlugin = createPlugin({\n    name: 'simple-recurring-event',\n    recurringTypes: [recurring],\n    eventRefiners: SIMPLE_RECURRING_REFINERS,\n});\nfunction expandRanges(daysOfWeek, startTime, framingRange, dateEnv) {\n    let dowHash = daysOfWeek ? arrayToHash(daysOfWeek) : null;\n    let dayMarker = startOfDay(framingRange.start);\n    let endMarker = framingRange.end;\n    let instanceStarts = [];\n    while (dayMarker < endMarker) {\n        let instanceStart;\n        // if everyday, or this particular day-of-week\n        if (!dowHash || dowHash[dayMarker.getUTCDay()]) {\n            if (startTime) {\n                instanceStart = dateEnv.add(dayMarker, startTime);\n            }\n            else {\n                instanceStart = dayMarker;\n            }\n            instanceStarts.push(instanceStart);\n        }\n        dayMarker = addDays(dayMarker, 1);\n    }\n    return instanceStarts;\n}\n\nconst changeHandlerPlugin = createPlugin({\n    name: 'change-handler',\n    optionChangeHandlers: {\n        events(events, context) {\n            handleEventSources([events], context);\n        },\n        eventSources: handleEventSources,\n    },\n});\n/*\nBUG: if `event` was supplied, all previously-given `eventSources` will be wiped out\n*/\nfunction handleEventSources(inputs, context) {\n    let unfoundSources = hashValuesToArray(context.getCurrentData().eventSources);\n    if (unfoundSources.length === 1 &&\n        inputs.length === 1 &&\n        Array.isArray(unfoundSources[0]._raw) &&\n        Array.isArray(inputs[0])) {\n        context.dispatch({\n            type: 'RESET_RAW_EVENTS',\n            sourceId: unfoundSources[0].sourceId,\n            rawEvents: inputs[0],\n        });\n        return;\n    }\n    let newInputs = [];\n    for (let input of inputs) {\n        let inputFound = false;\n        for (let i = 0; i < unfoundSources.length; i += 1) {\n            if (unfoundSources[i]._raw === input) {\n                unfoundSources.splice(i, 1); // delete\n                inputFound = true;\n                break;\n            }\n        }\n        if (!inputFound) {\n            newInputs.push(input);\n        }\n    }\n    for (let unfoundSource of unfoundSources) {\n        context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: unfoundSource.sourceId,\n        });\n    }\n    for (let newInput of newInputs) {\n        context.calendarApi.addEventSource(newInput);\n    }\n}\n\nfunction handleDateProfile(dateProfile, context) {\n    context.emitter.trigger('datesSet', Object.assign(Object.assign({}, buildRangeApiWithTimeZone(dateProfile.activeRange, context.dateEnv)), { view: context.viewApi }));\n}\n\nfunction handleEventStore(eventStore, context) {\n    let { emitter } = context;\n    if (emitter.hasHandlers('eventsSet')) {\n        emitter.trigger('eventsSet', buildEventApis(eventStore, context));\n    }\n}\n\n/*\nthis array is exposed on the root namespace so that UMD plugins can add to it.\nsee the rollup-bundles script.\n*/\nconst globalPlugins = [\n    arrayEventSourcePlugin,\n    funcEventSourcePlugin,\n    jsonFeedEventSourcePlugin,\n    simpleRecurringEventsPlugin,\n    changeHandlerPlugin,\n    createPlugin({\n        name: 'misc',\n        isLoadingFuncs: [\n            (state) => computeEventSourcesLoading(state.eventSources),\n        ],\n        propSetHandlers: {\n            dateProfile: handleDateProfile,\n            eventStore: handleEventStore,\n        },\n    }),\n];\n\nclass TaskRunner {\n    constructor(runTaskOption, drainedOption) {\n        this.runTaskOption = runTaskOption;\n        this.drainedOption = drainedOption;\n        this.queue = [];\n        this.delayedRunner = new DelayedRunner(this.drain.bind(this));\n    }\n    request(task, delay) {\n        this.queue.push(task);\n        this.delayedRunner.request(delay);\n    }\n    pause(scope) {\n        this.delayedRunner.pause(scope);\n    }\n    resume(scope, force) {\n        this.delayedRunner.resume(scope, force);\n    }\n    drain() {\n        let { queue } = this;\n        while (queue.length) {\n            let completedTasks = [];\n            let task;\n            while ((task = queue.shift())) {\n                this.runTask(task);\n                completedTasks.push(task);\n            }\n            this.drained(completedTasks);\n        } // keep going, in case new tasks were added in the drained handler\n    }\n    runTask(task) {\n        if (this.runTaskOption) {\n            this.runTaskOption(task);\n        }\n    }\n    drained(completedTasks) {\n        if (this.drainedOption) {\n            this.drainedOption(completedTasks);\n        }\n    }\n}\n\n// Computes what the title at the top of the calendarApi should be for this view\nfunction buildTitle(dateProfile, viewOptions, dateEnv) {\n    let range;\n    // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\n    if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\n        range = dateProfile.currentRange;\n    }\n    else { // for day units or smaller, use the actual day range\n        range = dateProfile.activeRange;\n    }\n    return dateEnv.formatRange(range.start, range.end, createFormatter(viewOptions.titleFormat || buildTitleFormat(dateProfile)), {\n        isEndExclusive: dateProfile.isRangeAllDay,\n        defaultSeparator: viewOptions.titleRangeSeparator,\n    });\n}\n// Generates the format string that should be used to generate the title for the current date range.\n// Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\nfunction buildTitleFormat(dateProfile) {\n    let { currentRangeUnit } = dateProfile;\n    if (currentRangeUnit === 'year') {\n        return { year: 'numeric' };\n    }\n    if (currentRangeUnit === 'month') {\n        return { year: 'numeric', month: 'long' }; // like \"September 2014\"\n    }\n    let days = diffWholeDays(dateProfile.currentRange.start, dateProfile.currentRange.end);\n    if (days !== null && days > 1) {\n        // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n        return { year: 'numeric', month: 'short', day: 'numeric' };\n    }\n    // one day. longer, like \"September 9 2014\"\n    return { year: 'numeric', month: 'long', day: 'numeric' };\n}\n\n// in future refactor, do the redux-style function(state=initial) for initial-state\n// also, whatever is happening in constructor, have it happen in action queue too\nclass CalendarDataManager {\n    constructor(props) {\n        this.computeCurrentViewData = memoize(this._computeCurrentViewData);\n        this.organizeRawLocales = memoize(organizeRawLocales);\n        this.buildLocale = memoize(buildLocale);\n        this.buildPluginHooks = buildBuildPluginHooks();\n        this.buildDateEnv = memoize(buildDateEnv$1);\n        this.buildTheme = memoize(buildTheme);\n        this.parseToolbars = memoize(parseToolbars);\n        this.buildViewSpecs = memoize(buildViewSpecs);\n        this.buildDateProfileGenerator = memoizeObjArg(buildDateProfileGenerator);\n        this.buildViewApi = memoize(buildViewApi);\n        this.buildViewUiProps = memoizeObjArg(buildViewUiProps);\n        this.buildEventUiBySource = memoize(buildEventUiBySource, isPropsEqual);\n        this.buildEventUiBases = memoize(buildEventUiBases);\n        this.parseContextBusinessHours = memoizeObjArg(parseContextBusinessHours);\n        this.buildTitle = memoize(buildTitle);\n        this.emitter = new Emitter();\n        this.actionRunner = new TaskRunner(this._handleAction.bind(this), this.updateData.bind(this));\n        this.currentCalendarOptionsInput = {};\n        this.currentCalendarOptionsRefined = {};\n        this.currentViewOptionsInput = {};\n        this.currentViewOptionsRefined = {};\n        this.currentCalendarOptionsRefiners = {};\n        this.optionsForRefining = [];\n        this.optionsForHandling = [];\n        this.getCurrentData = () => this.data;\n        this.dispatch = (action) => {\n            this.actionRunner.request(action); // protects against recursive calls to _handleAction\n        };\n        this.props = props;\n        this.actionRunner.pause();\n        let dynamicOptionOverrides = {};\n        let optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        let currentViewType = optionsData.calendarOptions.initialView || optionsData.pluginHooks.initialView;\n        let currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        this.emitter.setThisContext(props.calendarApi);\n        this.emitter.setOptions(currentViewData.options);\n        let currentDate = getInitialDate(optionsData.calendarOptions, optionsData.dateEnv);\n        let dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        if (!rangeContainsMarker(dateProfile.activeRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        let calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: this.emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        // needs to be after setThisContext\n        for (let callback of optionsData.pluginHooks.contextInit) {\n            callback(calendarContext);\n        }\n        // NOT DRY\n        let eventSources = initEventSources(optionsData.calendarOptions, dateProfile, calendarContext);\n        let initialState = {\n            dynamicOptionOverrides,\n            currentViewType,\n            currentDate,\n            dateProfile,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            eventSources,\n            eventUiBases: {},\n            eventStore: createEmptyEventStore(),\n            renderableEventStore: createEmptyEventStore(),\n            dateSelection: null,\n            eventSelection: '',\n            eventDrag: null,\n            eventResize: null,\n            selectionConfig: this.buildViewUiProps(calendarContext).selectionConfig,\n        };\n        let contextAndState = Object.assign(Object.assign({}, calendarContext), initialState);\n        for (let reducer of optionsData.pluginHooks.reducers) {\n            Object.assign(initialState, reducer(null, null, contextAndState));\n        }\n        if (computeIsLoading(initialState, calendarContext)) {\n            this.emitter.trigger('loading', true); // NOT DRY\n        }\n        this.state = initialState;\n        this.updateData();\n        this.actionRunner.resume();\n    }\n    resetOptions(optionOverrides, changedOptionNames) {\n        let { props } = this;\n        if (changedOptionNames === undefined) {\n            props.optionOverrides = optionOverrides;\n        }\n        else {\n            props.optionOverrides = Object.assign(Object.assign({}, (props.optionOverrides || {})), optionOverrides);\n            this.optionsForRefining.push(...changedOptionNames);\n        }\n        if (changedOptionNames === undefined || changedOptionNames.length) {\n            this.actionRunner.request({\n                type: 'NOTHING',\n            });\n        }\n    }\n    _handleAction(action) {\n        let { props, state, emitter } = this;\n        let dynamicOptionOverrides = reduceDynamicOptionOverrides(state.dynamicOptionOverrides, action);\n        let optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        let currentViewType = reduceViewType(state.currentViewType, action);\n        let currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        emitter.setThisContext(props.calendarApi);\n        emitter.setOptions(currentViewData.options);\n        let calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        let { currentDate, dateProfile } = state;\n        if (this.data && this.data.dateProfileGenerator !== currentViewData.dateProfileGenerator) { // hack\n            dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        }\n        currentDate = reduceCurrentDate(currentDate, action);\n        dateProfile = reduceDateProfile(dateProfile, action, currentDate, currentViewData.dateProfileGenerator);\n        if (action.type === 'PREV' || // TODO: move this logic into DateProfileGenerator\n            action.type === 'NEXT' || // \"\n            !rangeContainsMarker(dateProfile.currentRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        let eventSources = reduceEventSources(state.eventSources, action, dateProfile, calendarContext);\n        let eventStore = reduceEventStore(state.eventStore, action, eventSources, dateProfile, calendarContext);\n        let isEventsLoading = computeEventSourcesLoading(eventSources); // BAD. also called in this func in computeIsLoading\n        let renderableEventStore = (isEventsLoading && !currentViewData.options.progressiveEventRendering) ?\n            (state.renderableEventStore || eventStore) : // try from previous state\n            eventStore;\n        let { eventUiSingleBase, selectionConfig } = this.buildViewUiProps(calendarContext); // will memoize obj\n        let eventUiBySource = this.buildEventUiBySource(eventSources);\n        let eventUiBases = this.buildEventUiBases(renderableEventStore.defs, eventUiSingleBase, eventUiBySource);\n        let newState = {\n            dynamicOptionOverrides,\n            currentViewType,\n            currentDate,\n            dateProfile,\n            eventSources,\n            eventStore,\n            renderableEventStore,\n            selectionConfig,\n            eventUiBases,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            dateSelection: reduceDateSelection(state.dateSelection, action),\n            eventSelection: reduceSelectedEvent(state.eventSelection, action),\n            eventDrag: reduceEventDrag(state.eventDrag, action),\n            eventResize: reduceEventResize(state.eventResize, action),\n        };\n        let contextAndState = Object.assign(Object.assign({}, calendarContext), newState);\n        for (let reducer of optionsData.pluginHooks.reducers) {\n            Object.assign(newState, reducer(state, action, contextAndState)); // give the OLD state, for old value\n        }\n        let wasLoading = computeIsLoading(state, calendarContext);\n        let isLoading = computeIsLoading(newState, calendarContext);\n        // TODO: use propSetHandlers in plugin system\n        if (!wasLoading && isLoading) {\n            emitter.trigger('loading', true);\n        }\n        else if (wasLoading && !isLoading) {\n            emitter.trigger('loading', false);\n        }\n        this.state = newState;\n        if (props.onAction) {\n            props.onAction(action);\n        }\n    }\n    updateData() {\n        let { props, state } = this;\n        let oldData = this.data;\n        let optionsData = this.computeOptionsData(props.optionOverrides, state.dynamicOptionOverrides, props.calendarApi);\n        let currentViewData = this.computeCurrentViewData(state.currentViewType, optionsData, props.optionOverrides, state.dynamicOptionOverrides);\n        let data = this.data = Object.assign(Object.assign(Object.assign({ viewTitle: this.buildTitle(state.dateProfile, currentViewData.options, optionsData.dateEnv), calendarApi: props.calendarApi, dispatch: this.dispatch, emitter: this.emitter, getCurrentData: this.getCurrentData }, optionsData), currentViewData), state);\n        let changeHandlers = optionsData.pluginHooks.optionChangeHandlers;\n        let oldCalendarOptions = oldData && oldData.calendarOptions;\n        let newCalendarOptions = optionsData.calendarOptions;\n        if (oldCalendarOptions && oldCalendarOptions !== newCalendarOptions) {\n            if (oldCalendarOptions.timeZone !== newCalendarOptions.timeZone) {\n                // hack\n                state.eventSources = data.eventSources = reduceEventSourcesNewTimeZone(data.eventSources, state.dateProfile, data);\n                state.eventStore = data.eventStore = rezoneEventStoreDates(data.eventStore, oldData.dateEnv, data.dateEnv);\n                state.renderableEventStore = data.renderableEventStore = rezoneEventStoreDates(data.renderableEventStore, oldData.dateEnv, data.dateEnv);\n            }\n            for (let optionName in changeHandlers) {\n                if (this.optionsForHandling.indexOf(optionName) !== -1 ||\n                    oldCalendarOptions[optionName] !== newCalendarOptions[optionName]) {\n                    changeHandlers[optionName](newCalendarOptions[optionName], data);\n                }\n            }\n        }\n        this.optionsForHandling = [];\n        if (props.onData) {\n            props.onData(data);\n        }\n    }\n    computeOptionsData(optionOverrides, dynamicOptionOverrides, calendarApi) {\n        // TODO: blacklist options that are handled by optionChangeHandlers\n        if (!this.optionsForRefining.length &&\n            optionOverrides === this.stableOptionOverrides &&\n            dynamicOptionOverrides === this.stableDynamicOptionOverrides) {\n            return this.stableCalendarOptionsData;\n        }\n        let { refinedOptions, pluginHooks, localeDefaults, availableLocaleData, extra, } = this.processRawCalendarOptions(optionOverrides, dynamicOptionOverrides);\n        warnUnknownOptions(extra);\n        let dateEnv = this.buildDateEnv(refinedOptions.timeZone, refinedOptions.locale, refinedOptions.weekNumberCalculation, refinedOptions.firstDay, refinedOptions.weekText, pluginHooks, availableLocaleData, refinedOptions.defaultRangeSeparator);\n        let viewSpecs = this.buildViewSpecs(pluginHooks.views, this.stableOptionOverrides, this.stableDynamicOptionOverrides, localeDefaults);\n        let theme = this.buildTheme(refinedOptions, pluginHooks);\n        let toolbarConfig = this.parseToolbars(refinedOptions, this.stableOptionOverrides, theme, viewSpecs, calendarApi);\n        return this.stableCalendarOptionsData = {\n            calendarOptions: refinedOptions,\n            pluginHooks,\n            dateEnv,\n            viewSpecs,\n            theme,\n            toolbarConfig,\n            localeDefaults,\n            availableRawLocales: availableLocaleData.map,\n        };\n    }\n    // always called from behind a memoizer\n    processRawCalendarOptions(optionOverrides, dynamicOptionOverrides) {\n        let { locales, locale } = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        let availableLocaleData = this.organizeRawLocales(locales);\n        let availableRawLocales = availableLocaleData.map;\n        let localeDefaults = this.buildLocale(locale || availableLocaleData.defaultCode, availableRawLocales).options;\n        let pluginHooks = this.buildPluginHooks(optionOverrides.plugins || [], globalPlugins);\n        let refiners = this.currentCalendarOptionsRefiners = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        let extra = {};\n        let raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            localeDefaults,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        let refined = {};\n        let currentRaw = this.currentCalendarOptionsInput;\n        let currentRefined = this.currentCalendarOptionsRefined;\n        let anyChanges = false;\n        for (let optionName in raw) {\n            if (this.optionsForRefining.indexOf(optionName) === -1 && (raw[optionName] === currentRaw[optionName] || (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                (optionName in currentRaw) &&\n                COMPLEX_OPTION_COMPARATORS[optionName](currentRaw[optionName], raw[optionName])))) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else if (refiners[optionName]) {\n                refined[optionName] = refiners[optionName](raw[optionName]);\n                anyChanges = true;\n            }\n            else {\n                extra[optionName] = currentRaw[optionName];\n            }\n        }\n        if (anyChanges) {\n            this.currentCalendarOptionsInput = raw;\n            this.currentCalendarOptionsRefined = refined;\n            this.stableOptionOverrides = optionOverrides;\n            this.stableDynamicOptionOverrides = dynamicOptionOverrides;\n        }\n        this.optionsForHandling.push(...this.optionsForRefining);\n        this.optionsForRefining = [];\n        return {\n            rawOptions: this.currentCalendarOptionsInput,\n            refinedOptions: this.currentCalendarOptionsRefined,\n            pluginHooks,\n            availableLocaleData,\n            localeDefaults,\n            extra,\n        };\n    }\n    _computeCurrentViewData(viewType, optionsData, optionOverrides, dynamicOptionOverrides) {\n        let viewSpec = optionsData.viewSpecs[viewType];\n        if (!viewSpec) {\n            throw new Error(`viewType \"${viewType}\" is not available. Please make sure you've loaded all neccessary plugins`);\n        }\n        let { refinedOptions, extra } = this.processRawViewOptions(viewSpec, optionsData.pluginHooks, optionsData.localeDefaults, optionOverrides, dynamicOptionOverrides);\n        warnUnknownOptions(extra);\n        let dateProfileGenerator = this.buildDateProfileGenerator({\n            dateProfileGeneratorClass: viewSpec.optionDefaults.dateProfileGeneratorClass,\n            duration: viewSpec.duration,\n            durationUnit: viewSpec.durationUnit,\n            usesMinMaxTime: viewSpec.optionDefaults.usesMinMaxTime,\n            dateEnv: optionsData.dateEnv,\n            calendarApi: this.props.calendarApi,\n            slotMinTime: refinedOptions.slotMinTime,\n            slotMaxTime: refinedOptions.slotMaxTime,\n            showNonCurrentDates: refinedOptions.showNonCurrentDates,\n            dayCount: refinedOptions.dayCount,\n            dateAlignment: refinedOptions.dateAlignment,\n            dateIncrement: refinedOptions.dateIncrement,\n            hiddenDays: refinedOptions.hiddenDays,\n            weekends: refinedOptions.weekends,\n            nowInput: refinedOptions.now,\n            validRangeInput: refinedOptions.validRange,\n            visibleRangeInput: refinedOptions.visibleRange,\n            fixedWeekCount: refinedOptions.fixedWeekCount,\n        });\n        let viewApi = this.buildViewApi(viewType, this.getCurrentData, optionsData.dateEnv);\n        return { viewSpec, options: refinedOptions, dateProfileGenerator, viewApi };\n    }\n    processRawViewOptions(viewSpec, pluginHooks, localeDefaults, optionOverrides, dynamicOptionOverrides) {\n        let raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            viewSpec.optionDefaults,\n            localeDefaults,\n            optionOverrides,\n            viewSpec.optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        let refiners = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), VIEW_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        let refined = {};\n        let currentRaw = this.currentViewOptionsInput;\n        let currentRefined = this.currentViewOptionsRefined;\n        let anyChanges = false;\n        let extra = {};\n        for (let optionName in raw) {\n            if (raw[optionName] === currentRaw[optionName] ||\n                (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                    COMPLEX_OPTION_COMPARATORS[optionName](raw[optionName], currentRaw[optionName]))) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else {\n                if (raw[optionName] === this.currentCalendarOptionsInput[optionName] ||\n                    (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                        COMPLEX_OPTION_COMPARATORS[optionName](raw[optionName], this.currentCalendarOptionsInput[optionName]))) {\n                    if (optionName in this.currentCalendarOptionsRefined) { // might be an \"extra\" prop\n                        refined[optionName] = this.currentCalendarOptionsRefined[optionName];\n                    }\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                }\n                else {\n                    extra[optionName] = raw[optionName];\n                }\n                anyChanges = true;\n            }\n        }\n        if (anyChanges) {\n            this.currentViewOptionsInput = raw;\n            this.currentViewOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentViewOptionsInput,\n            refinedOptions: this.currentViewOptionsRefined,\n            extra,\n        };\n    }\n}\nfunction buildDateEnv$1(timeZone, explicitLocale, weekNumberCalculation, firstDay, weekText, pluginHooks, availableLocaleData, defaultSeparator) {\n    let locale = buildLocale(explicitLocale || availableLocaleData.defaultCode, availableLocaleData.map);\n    return new DateEnv({\n        calendarSystem: 'gregory',\n        timeZone,\n        namedTimeZoneImpl: pluginHooks.namedTimeZonedImpl,\n        locale,\n        weekNumberCalculation,\n        firstDay,\n        weekText,\n        cmdFormatter: pluginHooks.cmdFormatter,\n        defaultSeparator,\n    });\n}\nfunction buildTheme(options, pluginHooks) {\n    let ThemeClass = pluginHooks.themeClasses[options.themeSystem] || StandardTheme;\n    return new ThemeClass(options);\n}\nfunction buildDateProfileGenerator(props) {\n    let DateProfileGeneratorClass = props.dateProfileGeneratorClass || DateProfileGenerator;\n    return new DateProfileGeneratorClass(props);\n}\nfunction buildViewApi(type, getCurrentData, dateEnv) {\n    return new ViewImpl(type, getCurrentData, dateEnv);\n}\nfunction buildEventUiBySource(eventSources) {\n    return mapHash(eventSources, (eventSource) => eventSource.ui);\n}\nfunction buildEventUiBases(eventDefs, eventUiSingleBase, eventUiBySource) {\n    let eventUiBases = { '': eventUiSingleBase };\n    for (let defId in eventDefs) {\n        let def = eventDefs[defId];\n        if (def.sourceId && eventUiBySource[def.sourceId]) {\n            eventUiBases[defId] = eventUiBySource[def.sourceId];\n        }\n    }\n    return eventUiBases;\n}\nfunction buildViewUiProps(calendarContext) {\n    let { options } = calendarContext;\n    return {\n        eventUiSingleBase: createEventUi({\n            display: options.eventDisplay,\n            editable: options.editable,\n            startEditable: options.eventStartEditable,\n            durationEditable: options.eventDurationEditable,\n            constraint: options.eventConstraint,\n            overlap: typeof options.eventOverlap === 'boolean' ? options.eventOverlap : undefined,\n            allow: options.eventAllow,\n            backgroundColor: options.eventBackgroundColor,\n            borderColor: options.eventBorderColor,\n            textColor: options.eventTextColor,\n            color: options.eventColor,\n            // classNames: options.eventClassNames // render hook will handle this\n        }, calendarContext),\n        selectionConfig: createEventUi({\n            constraint: options.selectConstraint,\n            overlap: typeof options.selectOverlap === 'boolean' ? options.selectOverlap : undefined,\n            allow: options.selectAllow,\n        }, calendarContext),\n    };\n}\nfunction computeIsLoading(state, context) {\n    for (let isLoadingFunc of context.pluginHooks.isLoadingFuncs) {\n        if (isLoadingFunc(state)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction parseContextBusinessHours(calendarContext) {\n    return parseBusinessHours(calendarContext.options.businessHours, calendarContext);\n}\nfunction warnUnknownOptions(options, viewName) {\n    for (let optionName in options) {\n        console.warn(`Unknown option '${optionName}'` +\n            (viewName ? ` for view '${viewName}'` : ''));\n    }\n}\n\nclass ToolbarSection extends BaseComponent {\n    render() {\n        let children = this.props.widgetGroups.map((widgetGroup) => this.renderWidgetGroup(widgetGroup));\n        return createElement('div', { className: 'fc-toolbar-chunk' }, ...children);\n    }\n    renderWidgetGroup(widgetGroup) {\n        let { props } = this;\n        let { theme } = this.context;\n        let children = [];\n        let isOnlyButtons = true;\n        for (let widget of widgetGroup) {\n            let { buttonName, buttonClick, buttonText, buttonIcon, buttonHint } = widget;\n            if (buttonName === 'title') {\n                isOnlyButtons = false;\n                children.push(createElement(\"h2\", { className: \"fc-toolbar-title\", id: props.titleId }, props.title));\n            }\n            else {\n                let isPressed = buttonName === props.activeButton;\n                let isDisabled = (!props.isTodayEnabled && buttonName === 'today') ||\n                    (!props.isPrevEnabled && buttonName === 'prev') ||\n                    (!props.isNextEnabled && buttonName === 'next');\n                let buttonClasses = [`fc-${buttonName}-button`, theme.getClass('button')];\n                if (isPressed) {\n                    buttonClasses.push(theme.getClass('buttonActive'));\n                }\n                children.push(createElement(\"button\", { type: \"button\", title: typeof buttonHint === 'function' ? buttonHint(props.navUnit) : buttonHint, disabled: isDisabled, \"aria-pressed\": isPressed, className: buttonClasses.join(' '), onClick: buttonClick }, buttonText || (buttonIcon ? createElement(\"span\", { className: buttonIcon, role: \"img\" }) : '')));\n            }\n        }\n        if (children.length > 1) {\n            let groupClassName = (isOnlyButtons && theme.getClass('buttonGroup')) || '';\n            return createElement('div', { className: groupClassName }, ...children);\n        }\n        return children[0];\n    }\n}\n\nclass Toolbar extends BaseComponent {\n    render() {\n        let { model, extraClassName } = this.props;\n        let forceLtr = false;\n        let startContent;\n        let endContent;\n        let sectionWidgets = model.sectionWidgets;\n        let centerContent = sectionWidgets.center;\n        if (sectionWidgets.left) {\n            forceLtr = true;\n            startContent = sectionWidgets.left;\n        }\n        else {\n            startContent = sectionWidgets.start;\n        }\n        if (sectionWidgets.right) {\n            forceLtr = true;\n            endContent = sectionWidgets.right;\n        }\n        else {\n            endContent = sectionWidgets.end;\n        }\n        let classNames = [\n            extraClassName || '',\n            'fc-toolbar',\n            forceLtr ? 'fc-toolbar-ltr' : '',\n        ];\n        return (createElement(\"div\", { className: classNames.join(' ') },\n            this.renderSection('start', startContent || []),\n            this.renderSection('center', centerContent || []),\n            this.renderSection('end', endContent || [])));\n    }\n    renderSection(key, widgetGroups) {\n        let { props } = this;\n        return (createElement(ToolbarSection, { key: key, widgetGroups: widgetGroups, title: props.title, navUnit: props.navUnit, activeButton: props.activeButton, isTodayEnabled: props.isTodayEnabled, isPrevEnabled: props.isPrevEnabled, isNextEnabled: props.isNextEnabled, titleId: props.titleId }));\n    }\n}\n\nclass ViewHarness extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            availableWidth: null,\n        };\n        this.handleEl = (el) => {\n            this.el = el;\n            setRef(this.props.elRef, el);\n            this.updateAvailableWidth();\n        };\n        this.handleResize = () => {\n            this.updateAvailableWidth();\n        };\n    }\n    render() {\n        let { props, state } = this;\n        let { aspectRatio } = props;\n        let classNames = [\n            'fc-view-harness',\n            (aspectRatio || props.liquid || props.height)\n                ? 'fc-view-harness-active' // harness controls the height\n                : 'fc-view-harness-passive', // let the view do the height\n        ];\n        let height = '';\n        let paddingBottom = '';\n        if (aspectRatio) {\n            if (state.availableWidth !== null) {\n                height = state.availableWidth / aspectRatio;\n            }\n            else {\n                // while waiting to know availableWidth, we can't set height to *zero*\n                // because will cause lots of unnecessary scrollbars within scrollgrid.\n                // BETTER: don't start rendering ANYTHING yet until we know container width\n                // NOTE: why not always use paddingBottom? Causes height oscillation (issue 5606)\n                paddingBottom = `${(1 / aspectRatio) * 100}%`;\n            }\n        }\n        else {\n            height = props.height || '';\n        }\n        return (createElement(\"div\", { \"aria-labelledby\": props.labeledById, ref: this.handleEl, className: classNames.join(' '), style: { height, paddingBottom } }, props.children));\n    }\n    componentDidMount() {\n        this.context.addResizeHandler(this.handleResize);\n    }\n    componentWillUnmount() {\n        this.context.removeResizeHandler(this.handleResize);\n    }\n    updateAvailableWidth() {\n        if (this.el && // needed. but why?\n            this.props.aspectRatio // aspectRatio is the only height setting that needs availableWidth\n        ) {\n            this.setState({ availableWidth: this.el.offsetWidth });\n        }\n    }\n}\n\n/*\nDetects when the user clicks on an event within a DateComponent\n*/\nclass EventClicking extends Interaction {\n    constructor(settings) {\n        super(settings);\n        this.handleSegClick = (ev, segEl) => {\n            let { component } = this;\n            let { context } = component;\n            let seg = getElSeg(segEl);\n            if (seg && // might be the <div> surrounding the more link\n                component.isValidSegDownEl(ev.target)) {\n                // our way to simulate a link click for elements that can't be <a> tags\n                // grab before trigger fired in case trigger trashes DOM thru rerendering\n                let hasUrlContainer = elementClosest(ev.target, '.fc-event-forced-url');\n                let url = hasUrlContainer ? hasUrlContainer.querySelector('a[href]').href : '';\n                context.emitter.trigger('eventClick', {\n                    el: segEl,\n                    event: new EventImpl(component.context, seg.eventRange.def, seg.eventRange.instance),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n                if (url && !ev.defaultPrevented) {\n                    window.location.href = url;\n                }\n            }\n        };\n        this.destroy = listenBySelector(settings.el, 'click', '.fc-event', // on both fg and bg events\n        this.handleSegClick);\n    }\n}\n\n/*\nTriggers events and adds/removes core classNames when the user's pointer\nenters/leaves event-elements of a component.\n*/\nclass EventHovering extends Interaction {\n    constructor(settings) {\n        super(settings);\n        // for simulating an eventMouseLeave when the event el is destroyed while mouse is over it\n        this.handleEventElRemove = (el) => {\n            if (el === this.currentSegEl) {\n                this.handleSegLeave(null, this.currentSegEl);\n            }\n        };\n        this.handleSegEnter = (ev, segEl) => {\n            if (getElSeg(segEl)) { // TODO: better way to make sure not hovering over more+ link or its wrapper\n                this.currentSegEl = segEl;\n                this.triggerEvent('eventMouseEnter', ev, segEl);\n            }\n        };\n        this.handleSegLeave = (ev, segEl) => {\n            if (this.currentSegEl) {\n                this.currentSegEl = null;\n                this.triggerEvent('eventMouseLeave', ev, segEl);\n            }\n        };\n        this.removeHoverListeners = listenToHoverBySelector(settings.el, '.fc-event', // on both fg and bg events\n        this.handleSegEnter, this.handleSegLeave);\n    }\n    destroy() {\n        this.removeHoverListeners();\n    }\n    triggerEvent(publicEvName, ev, segEl) {\n        let { component } = this;\n        let { context } = component;\n        let seg = getElSeg(segEl);\n        if (!ev || component.isValidSegDownEl(ev.target)) {\n            context.emitter.trigger(publicEvName, {\n                el: segEl,\n                event: new EventImpl(context, seg.eventRange.def, seg.eventRange.instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        }\n    }\n}\n\nclass CalendarContent extends PureComponent {\n    constructor() {\n        super(...arguments);\n        this.buildViewContext = memoize(buildViewContext);\n        this.buildViewPropTransformers = memoize(buildViewPropTransformers);\n        this.buildToolbarProps = memoize(buildToolbarProps);\n        this.headerRef = createRef();\n        this.footerRef = createRef();\n        this.interactionsStore = {};\n        // eslint-disable-next-line\n        this.state = {\n            viewLabelId: getUniqueDomId(),\n        };\n        // Component Registration\n        // -----------------------------------------------------------------------------------------------------------------\n        this.registerInteractiveComponent = (component, settingsInput) => {\n            let settings = parseInteractionSettings(component, settingsInput);\n            let DEFAULT_INTERACTIONS = [\n                EventClicking,\n                EventHovering,\n            ];\n            let interactionClasses = DEFAULT_INTERACTIONS.concat(this.props.pluginHooks.componentInteractions);\n            let interactions = interactionClasses.map((TheInteractionClass) => new TheInteractionClass(settings));\n            this.interactionsStore[component.uid] = interactions;\n            interactionSettingsStore[component.uid] = settings;\n        };\n        this.unregisterInteractiveComponent = (component) => {\n            let listeners = this.interactionsStore[component.uid];\n            if (listeners) {\n                for (let listener of listeners) {\n                    listener.destroy();\n                }\n                delete this.interactionsStore[component.uid];\n            }\n            delete interactionSettingsStore[component.uid];\n        };\n        // Resizing\n        // -----------------------------------------------------------------------------------------------------------------\n        this.resizeRunner = new DelayedRunner(() => {\n            this.props.emitter.trigger('_resize', true); // should window resizes be considered \"forced\" ?\n            this.props.emitter.trigger('windowResize', { view: this.props.viewApi });\n        });\n        this.handleWindowResize = (ev) => {\n            let { options } = this.props;\n            if (options.handleWindowResize &&\n                ev.target === window // avoid jqui events\n            ) {\n                this.resizeRunner.request(options.windowResizeDelay);\n            }\n        };\n    }\n    /*\n    renders INSIDE of an outer div\n    */\n    render() {\n        let { props } = this;\n        let { toolbarConfig, options } = props;\n        let toolbarProps = this.buildToolbarProps(props.viewSpec, props.dateProfile, props.dateProfileGenerator, props.currentDate, getNow(props.options.now, props.dateEnv), // TODO: use NowTimer????\n        props.viewTitle);\n        let viewVGrow = false;\n        let viewHeight = '';\n        let viewAspectRatio;\n        if (props.isHeightAuto || props.forPrint) {\n            viewHeight = '';\n        }\n        else if (options.height != null) {\n            viewVGrow = true;\n        }\n        else if (options.contentHeight != null) {\n            viewHeight = options.contentHeight;\n        }\n        else {\n            viewAspectRatio = Math.max(options.aspectRatio, 0.5); // prevent from getting too tall\n        }\n        let viewContext = this.buildViewContext(props.viewSpec, props.viewApi, props.options, props.dateProfileGenerator, props.dateEnv, props.theme, props.pluginHooks, props.dispatch, props.getCurrentData, props.emitter, props.calendarApi, this.registerInteractiveComponent, this.unregisterInteractiveComponent);\n        let viewLabelId = (toolbarConfig.header && toolbarConfig.header.hasTitle)\n            ? this.state.viewLabelId\n            : undefined;\n        return (createElement(ViewContextType.Provider, { value: viewContext },\n            toolbarConfig.header && (createElement(Toolbar, Object.assign({ ref: this.headerRef, extraClassName: \"fc-header-toolbar\", model: toolbarConfig.header, titleId: viewLabelId }, toolbarProps))),\n            createElement(ViewHarness, { liquid: viewVGrow, height: viewHeight, aspectRatio: viewAspectRatio, labeledById: viewLabelId },\n                this.renderView(props),\n                this.buildAppendContent()),\n            toolbarConfig.footer && (createElement(Toolbar, Object.assign({ ref: this.footerRef, extraClassName: \"fc-footer-toolbar\", model: toolbarConfig.footer, titleId: \"\" }, toolbarProps)))));\n    }\n    componentDidMount() {\n        let { props } = this;\n        this.calendarInteractions = props.pluginHooks.calendarInteractions\n            .map((CalendarInteractionClass) => new CalendarInteractionClass(props));\n        window.addEventListener('resize', this.handleWindowResize);\n        let { propSetHandlers } = props.pluginHooks;\n        for (let propName in propSetHandlers) {\n            propSetHandlers[propName](props[propName], props);\n        }\n    }\n    componentDidUpdate(prevProps) {\n        let { props } = this;\n        let { propSetHandlers } = props.pluginHooks;\n        for (let propName in propSetHandlers) {\n            if (props[propName] !== prevProps[propName]) {\n                propSetHandlers[propName](props[propName], props);\n            }\n        }\n    }\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.handleWindowResize);\n        this.resizeRunner.clear();\n        for (let interaction of this.calendarInteractions) {\n            interaction.destroy();\n        }\n        this.props.emitter.trigger('_unmount');\n    }\n    buildAppendContent() {\n        let { props } = this;\n        let children = props.pluginHooks.viewContainerAppends.map((buildAppendContent) => buildAppendContent(props));\n        return createElement(Fragment, {}, ...children);\n    }\n    renderView(props) {\n        let { pluginHooks } = props;\n        let { viewSpec } = props;\n        let viewProps = {\n            dateProfile: props.dateProfile,\n            businessHours: props.businessHours,\n            eventStore: props.renderableEventStore,\n            eventUiBases: props.eventUiBases,\n            dateSelection: props.dateSelection,\n            eventSelection: props.eventSelection,\n            eventDrag: props.eventDrag,\n            eventResize: props.eventResize,\n            isHeightAuto: props.isHeightAuto,\n            forPrint: props.forPrint,\n        };\n        let transformers = this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);\n        for (let transformer of transformers) {\n            Object.assign(viewProps, transformer.transform(viewProps, props));\n        }\n        let ViewComponent = viewSpec.component;\n        return (createElement(ViewComponent, Object.assign({}, viewProps)));\n    }\n}\nfunction buildToolbarProps(viewSpec, dateProfile, dateProfileGenerator, currentDate, now, title) {\n    // don't force any date-profiles to valid date profiles (the `false`) so that we can tell if it's invalid\n    let todayInfo = dateProfileGenerator.build(now, undefined, false); // TODO: need `undefined` or else INFINITE LOOP for some reason\n    let prevInfo = dateProfileGenerator.buildPrev(dateProfile, currentDate, false);\n    let nextInfo = dateProfileGenerator.buildNext(dateProfile, currentDate, false);\n    return {\n        title,\n        activeButton: viewSpec.type,\n        navUnit: viewSpec.singleUnit,\n        isTodayEnabled: todayInfo.isValid && !rangeContainsMarker(dateProfile.currentRange, now),\n        isPrevEnabled: prevInfo.isValid,\n        isNextEnabled: nextInfo.isValid,\n    };\n}\n// Plugin\n// -----------------------------------------------------------------------------------------------------------------\nfunction buildViewPropTransformers(theClasses) {\n    return theClasses.map((TheClass) => new TheClass());\n}\n\nclass Calendar extends CalendarImpl {\n    constructor(el, optionOverrides = {}) {\n        super();\n        this.isRendering = false;\n        this.isRendered = false;\n        this.currentClassNames = [];\n        this.customContentRenderId = 0;\n        this.handleAction = (action) => {\n            // actions we know we want to render immediately\n            switch (action.type) {\n                case 'SET_EVENT_DRAG':\n                case 'SET_EVENT_RESIZE':\n                    this.renderRunner.tryDrain();\n            }\n        };\n        this.handleData = (data) => {\n            this.currentData = data;\n            this.renderRunner.request(data.calendarOptions.rerenderDelay);\n        };\n        this.handleRenderRequest = () => {\n            if (this.isRendering) {\n                this.isRendered = true;\n                let { currentData } = this;\n                flushSync(() => {\n                    render(createElement(CalendarRoot, { options: currentData.calendarOptions, theme: currentData.theme, emitter: currentData.emitter }, (classNames, height, isHeightAuto, forPrint) => {\n                        this.setClassNames(classNames);\n                        this.setHeight(height);\n                        return (createElement(RenderId.Provider, { value: this.customContentRenderId },\n                            createElement(CalendarContent, Object.assign({ isHeightAuto: isHeightAuto, forPrint: forPrint }, currentData))));\n                    }), this.el);\n                });\n            }\n            else if (this.isRendered) {\n                this.isRendered = false;\n                render(null, this.el);\n                this.setClassNames([]);\n                this.setHeight('');\n            }\n        };\n        ensureElHasStyles(el);\n        this.el = el;\n        this.renderRunner = new DelayedRunner(this.handleRenderRequest);\n        new CalendarDataManager({\n            optionOverrides,\n            calendarApi: this,\n            onAction: this.handleAction,\n            onData: this.handleData,\n        });\n    }\n    render() {\n        let wasRendering = this.isRendering;\n        if (!wasRendering) {\n            this.isRendering = true;\n        }\n        else {\n            this.customContentRenderId += 1;\n        }\n        this.renderRunner.request();\n        if (wasRendering) {\n            this.updateSize();\n        }\n    }\n    destroy() {\n        if (this.isRendering) {\n            this.isRendering = false;\n            this.renderRunner.request();\n        }\n    }\n    updateSize() {\n        flushSync(() => {\n            super.updateSize();\n        });\n    }\n    batchRendering(func) {\n        this.renderRunner.pause('batchRendering');\n        func();\n        this.renderRunner.resume('batchRendering');\n    }\n    pauseRendering() {\n        this.renderRunner.pause('pauseRendering');\n    }\n    resumeRendering() {\n        this.renderRunner.resume('pauseRendering', true);\n    }\n    resetOptions(optionOverrides, changedOptionNames) {\n        this.currentDataManager.resetOptions(optionOverrides, changedOptionNames);\n    }\n    setClassNames(classNames) {\n        if (!isArraysEqual(classNames, this.currentClassNames)) {\n            let { classList } = this.el;\n            for (let className of this.currentClassNames) {\n                classList.remove(className);\n            }\n            for (let className of classNames) {\n                classList.add(className);\n            }\n            this.currentClassNames = classNames;\n        }\n    }\n    setHeight(height) {\n        applyStyleProp(this.el, 'height', height);\n    }\n}\n\nfunction formatDate(dateInput, options = {}) {\n    let dateEnv = buildDateEnv(options);\n    let formatter = createFormatter(options);\n    let dateMeta = dateEnv.createMarkerMeta(dateInput);\n    if (!dateMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.format(dateMeta.marker, formatter, {\n        forcedTzo: dateMeta.forcedTzo,\n    });\n}\nfunction formatRange(startInput, endInput, options) {\n    let dateEnv = buildDateEnv(typeof options === 'object' && options ? options : {}); // pass in if non-null object\n    let formatter = createFormatter(options);\n    let startMeta = dateEnv.createMarkerMeta(startInput);\n    let endMeta = dateEnv.createMarkerMeta(endInput);\n    if (!startMeta || !endMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.formatRange(startMeta.marker, endMeta.marker, formatter, {\n        forcedStartTzo: startMeta.forcedTzo,\n        forcedEndTzo: endMeta.forcedTzo,\n        isEndExclusive: options.isEndExclusive,\n        defaultSeparator: BASE_OPTION_DEFAULTS.defaultRangeSeparator,\n    });\n}\n// TODO: more DRY and optimized\nfunction buildDateEnv(settings) {\n    let locale = buildLocale(settings.locale || 'en', organizeRawLocales([]).map); // TODO: don't hardcode 'en' everywhere\n    return new DateEnv(Object.assign(Object.assign({ timeZone: BASE_OPTION_DEFAULTS.timeZone, calendarSystem: 'gregory' }, settings), { locale }));\n}\n\n// HELPERS\n/*\nif nextDayThreshold is specified, slicing is done in an all-day fashion.\nyou can get nextDayThreshold from context.nextDayThreshold\n*/\nfunction sliceEvents(props, allDay) {\n    return sliceEventStore(props.eventStore, props.eventUiBases, props.dateProfile.activeRange, allDay ? props.nextDayThreshold : null).fg;\n}\n\nconst version = '6.1.11';\n\nexport { Calendar, createPlugin, formatDate, formatRange, globalLocales, globalPlugins, sliceEvents, version };\n","export const OPTION_IS_COMPLEX = {\n    headerToolbar: true,\n    footerToolbar: true,\n    events: true,\n    eventSources: true,\n    resources: true\n};\n//# sourceMappingURL=options.js.map","import { defineComponent, h, Fragment, Teleport } from 'vue';\nimport { Calendar } from '@fullcalendar/core';\nimport { CustomRenderingStore } from '@fullcalendar/core/internal';\nimport { OPTION_IS_COMPLEX } from './options.js';\nconst FullCalendar = defineComponent({\n    props: {\n        options: Object\n    },\n    data() {\n        return {\n            renderId: 0,\n            customRenderingMap: new Map()\n        };\n    },\n    methods: {\n        getApi() {\n            return getSecret(this).calendar;\n        },\n        buildOptions(suppliedOptions) {\n            return {\n                ...suppliedOptions,\n                customRenderingMetaMap: kebabToCamelKeys(this.$slots),\n                handleCustomRendering: getSecret(this).handleCustomRendering,\n            };\n        },\n    },\n    render() {\n        const customRenderingNodes = [];\n        for (const customRendering of this.customRenderingMap.values()) {\n            customRenderingNodes.push(h(CustomRenderingComponent, {\n                key: customRendering.id,\n                customRendering,\n            }));\n        }\n        return h('div', {\n            // when renderId is changed, Vue will trigger a real-DOM async rerender, calling beforeUpdate/updated\n            attrs: { 'data-fc-render-id': this.renderId }\n        }, h(Fragment, customRenderingNodes)); // for containing CustomRendering keys\n    },\n    mounted() {\n        const customRenderingStore = new CustomRenderingStore();\n        getSecret(this).handleCustomRendering = customRenderingStore.handle.bind(customRenderingStore);\n        const calendarOptions = this.buildOptions(this.options);\n        const calendar = new Calendar(this.$el, calendarOptions);\n        getSecret(this).calendar = calendar;\n        calendar.render();\n        customRenderingStore.subscribe((customRenderingMap) => {\n            this.customRenderingMap = customRenderingMap; // likely same reference, so won't rerender\n            this.renderId++; // force rerender\n            getSecret(this).needCustomRenderingResize = true;\n        });\n    },\n    beforeUpdate() {\n        this.getApi().resumeRendering(); // the watcher handlers paused it\n    },\n    updated() {\n        if (getSecret(this).needCustomRenderingResize) {\n            getSecret(this).needCustomRenderingResize = false;\n            this.getApi().updateSize();\n        }\n    },\n    beforeUnmount() {\n        this.getApi().destroy();\n    },\n    watch: buildWatchers()\n});\nexport default FullCalendar;\n// Custom Rendering\n// -------------------------------------------------------------------------------------------------\nconst CustomRenderingComponent = defineComponent({\n    props: {\n        customRendering: Object\n    },\n    render() {\n        const customRendering = this.customRendering;\n        const innerContent = typeof customRendering.generatorMeta === 'function' ?\n            customRendering.generatorMeta(customRendering.renderProps) : // vue-normalized slot function\n            customRendering.generatorMeta; // probably a vue JSX node returned from content-inject func\n        return h(Teleport, { to: customRendering.containerEl }, innerContent);\n    }\n});\n// storing internal state:\n// https://github.com/vuejs/vue/issues/1988#issuecomment-163013818\nfunction getSecret(inst) {\n    return inst;\n}\nfunction buildWatchers() {\n    let watchers = {\n        // watches changes of ALL options and their nested objects,\n        // but this is only a means to be notified of top-level non-complex options changes.\n        options: {\n            deep: true,\n            handler(options) {\n                let calendar = this.getApi();\n                calendar.pauseRendering();\n                let calendarOptions = this.buildOptions(options);\n                calendar.resetOptions(calendarOptions);\n                this.renderId++; // will queue a rerender\n            }\n        }\n    };\n    for (let complexOptionName in OPTION_IS_COMPLEX) {\n        // handlers called when nested objects change\n        watchers[`options.${complexOptionName}`] = {\n            deep: true,\n            handler(val) {\n                // unfortunately the handler is called with undefined if new props were set, but the complex one wasn't ever set\n                if (val !== undefined) {\n                    let calendar = this.getApi();\n                    calendar.pauseRendering();\n                    calendar.resetOptions({\n                        [complexOptionName]: val\n                    }, [complexOptionName]);\n                    this.renderId++; // will queue a rerender\n                }\n            }\n        };\n    }\n    return watchers;\n}\n// General Utils\n// -------------------------------------------------------------------------------------------------\nfunction kebabToCamelKeys(map) {\n    const newMap = {};\n    for (const key in map) {\n        newMap[kebabToCamel(key)] = map[key];\n    }\n    return newMap;\n}\nfunction kebabToCamel(s) {\n    return s\n        .split('-')\n        .map((word, index) => index ? capitalize(word) : word)\n        .join('');\n}\nfunction capitalize(s) {\n    return s.charAt(0).toUpperCase() + s.slice(1);\n}\n//# sourceMappingURL=FullCalendar.js.map","import FullCalendarComponent from './FullCalendar.js';\nexport default FullCalendarComponent;\n//# sourceMappingURL=index.js.map","import { DateComponent, getStickyHeaderDates, ViewContainer, SimpleScrollGrid, getStickyFooterScrollbar, renderScrollShim, createFormatter, BaseComponent, StandardEvent, buildSegTimeText, EventContainer, getSegAnchorAttrs, memoize, MoreLinkContainer, getSegMeta, getUniqueDomId, setRef, DayCellContainer, WeekNumberContainer, buildNavLinkAttrs, hasCustomDayCellContent, addMs, intersectRanges, addDays, SegHierarchy, buildEntryKey, intersectSpans, RefMap, sortEventSegs, isPropsEqual, buildEventRangeKey, BgEvent, renderFill, PositionCache, NowTimer, formatIsoMonthStr, formatDayString, Slicer, DayHeader, DaySeriesModel, DayTableModel, DateProfileGenerator, addWeeks, diffWeeks, injectStyles } from '@fullcalendar/core/internal.js';\nimport { createRef, createElement, Fragment } from '@fullcalendar/core/preact.js';\n\n/* An abstract class for the daygrid views, as well as month view. Renders one or more rows of day cells.\n----------------------------------------------------------------------------------------------------------------------*/\n// It is a manager for a Table subcomponent, which does most of the heavy lifting.\n// It is responsible for managing width/height.\nclass TableView extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.headerElRef = createRef();\n    }\n    renderSimpleLayout(headerRowContent, bodyContent) {\n        let { props, context } = this;\n        let sections = [];\n        let stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunk: { content: bodyContent },\n        });\n        return (createElement(ViewContainer, { elClasses: ['fc-daygrid'], viewSpec: context.viewSpec },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [] /* TODO: make optional? */, sections: sections })));\n    }\n    renderHScrollLayout(headerRowContent, bodyContent, colCnt, dayMinWidth) {\n        let ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        let { props, context } = this;\n        let stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        let stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        let sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunks: [{\n                        key: 'main',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    }],\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunks: [{\n                    key: 'main',\n                    content: bodyContent,\n                }],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                type: 'footer',\n                key: 'footer',\n                isSticky: true,\n                chunks: [{\n                        key: 'main',\n                        content: renderScrollShim,\n                    }],\n            });\n        }\n        return (createElement(ViewContainer, { elClasses: ['fc-daygrid'], viewSpec: context.viewSpec },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, forPrint: props.forPrint, collapsibleWidth: props.forPrint, colGroups: [{ cols: [{ span: colCnt, minWidth: dayMinWidth }] }], sections: sections })));\n    }\n}\n\nfunction splitSegsByRow(segs, rowCnt) {\n    let byRow = [];\n    for (let i = 0; i < rowCnt; i += 1) {\n        byRow[i] = [];\n    }\n    for (let seg of segs) {\n        byRow[seg.row].push(seg);\n    }\n    return byRow;\n}\nfunction splitSegsByFirstCol(segs, colCnt) {\n    let byCol = [];\n    for (let i = 0; i < colCnt; i += 1) {\n        byCol[i] = [];\n    }\n    for (let seg of segs) {\n        byCol[seg.firstCol].push(seg);\n    }\n    return byCol;\n}\nfunction splitInteractionByRow(ui, rowCnt) {\n    let byRow = [];\n    if (!ui) {\n        for (let i = 0; i < rowCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (let i = 0; i < rowCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (let seg of ui.segs) {\n            byRow[seg.row].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nconst DEFAULT_TABLE_EVENT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'narrow',\n});\nfunction hasListItemDisplay(seg) {\n    let { display } = seg.eventRange.ui;\n    return display === 'list-item' || (display === 'auto' &&\n        !seg.eventRange.def.allDay &&\n        seg.firstCol === seg.lastCol && // can't be multi-day\n        seg.isStart && // \"\n        seg.isEnd // \"\n    );\n}\n\nclass TableBlockEvent extends BaseComponent {\n    render() {\n        let { props } = this;\n        return (createElement(StandardEvent, Object.assign({}, props, { elClasses: ['fc-daygrid-event', 'fc-daygrid-block-event', 'fc-h-event'], defaultTimeFormat: DEFAULT_TABLE_EVENT_TIME_FORMAT, defaultDisplayEventEnd: props.defaultDisplayEventEnd, disableResizing: !props.seg.eventRange.def.allDay })));\n    }\n}\n\nclass TableListItemEvent extends BaseComponent {\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let { seg } = props;\n        let timeFormat = options.eventTimeFormat || DEFAULT_TABLE_EVENT_TIME_FORMAT;\n        let timeText = buildSegTimeText(seg, timeFormat, context, true, props.defaultDisplayEventEnd);\n        return (createElement(EventContainer, Object.assign({}, props, { elTag: \"a\", elClasses: ['fc-daygrid-event', 'fc-daygrid-dot-event'], elAttrs: getSegAnchorAttrs(props.seg, context), defaultGenerator: renderInnerContent, timeText: timeText, isResizing: false, isDateSelecting: false })));\n    }\n}\nfunction renderInnerContent(renderProps) {\n    return (createElement(Fragment, null,\n        createElement(\"div\", { className: \"fc-daygrid-event-dot\", style: { borderColor: renderProps.borderColor || renderProps.backgroundColor } }),\n        renderProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, renderProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title\" }, renderProps.event.title || createElement(Fragment, null, \"\\u00A0\"))));\n}\n\nclass TableCellMoreLink extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.compileSegs = memoize(compileSegs);\n    }\n    render() {\n        let { props } = this;\n        let { allSegs, invisibleSegs } = this.compileSegs(props.singlePlacements);\n        return (createElement(MoreLinkContainer, { elClasses: ['fc-daygrid-more-link'], dateProfile: props.dateProfile, todayRange: props.todayRange, allDayDate: props.allDayDate, moreCnt: props.moreCnt, allSegs: allSegs, hiddenSegs: invisibleSegs, alignmentElRef: props.alignmentElRef, alignGridTop: props.alignGridTop, extraDateSpan: props.extraDateSpan, popoverContent: () => {\n                let isForcedInvisible = (props.eventDrag ? props.eventDrag.affectedInstances : null) ||\n                    (props.eventResize ? props.eventResize.affectedInstances : null) ||\n                    {};\n                return (createElement(Fragment, null, allSegs.map((seg) => {\n                    let instanceId = seg.eventRange.instance.instanceId;\n                    return (createElement(\"div\", { className: \"fc-daygrid-event-harness\", key: instanceId, style: {\n                            visibility: isForcedInvisible[instanceId] ? 'hidden' : '',\n                        } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, Object.assign({ seg: seg, isDragging: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange)))) : (createElement(TableBlockEvent, Object.assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange))))));\n                })));\n            } }));\n    }\n}\nfunction compileSegs(singlePlacements) {\n    let allSegs = [];\n    let invisibleSegs = [];\n    for (let placement of singlePlacements) {\n        allSegs.push(placement.seg);\n        if (!placement.isVisible) {\n            invisibleSegs.push(placement.seg);\n        }\n    }\n    return { allSegs, invisibleSegs };\n}\n\nconst DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'narrow' });\nclass TableCell extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.rootElRef = createRef();\n        this.state = {\n            dayNumberId: getUniqueDomId(),\n        };\n        this.handleRootEl = (el) => {\n            setRef(this.rootElRef, el);\n            setRef(this.props.elRef, el);\n        };\n    }\n    render() {\n        let { context, props, state, rootElRef } = this;\n        let { options, dateEnv } = context;\n        let { date, dateProfile } = props;\n        // TODO: memoize this?\n        const isMonthStart = props.showDayNumber &&\n            shouldDisplayMonthStart(date, dateProfile.currentRange, dateEnv);\n        return (createElement(DayCellContainer, { elTag: \"td\", elRef: this.handleRootEl, elClasses: [\n                'fc-daygrid-day',\n                ...(props.extraClassNames || []),\n            ], elAttrs: Object.assign(Object.assign(Object.assign({}, props.extraDataAttrs), (props.showDayNumber ? { 'aria-labelledby': state.dayNumberId } : {})), { role: 'gridcell' }), defaultGenerator: renderTopInner, date: date, dateProfile: dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, isMonthStart: isMonthStart, extraRenderProps: props.extraRenderProps }, (InnerContent, renderProps) => (createElement(\"div\", { ref: props.innerElRef, className: \"fc-daygrid-day-frame fc-scrollgrid-sync-inner\", style: { minHeight: props.minHeight } },\n            props.showWeekNumber && (createElement(WeekNumberContainer, { elTag: \"a\", elClasses: ['fc-daygrid-week-number'], elAttrs: buildNavLinkAttrs(context, date, 'week'), date: date, defaultFormat: DEFAULT_WEEK_NUM_FORMAT })),\n            !renderProps.isDisabled &&\n                (props.showDayNumber || hasCustomDayCellContent(options) || props.forceDayTop) ? (createElement(\"div\", { className: \"fc-daygrid-day-top\" },\n                createElement(InnerContent, { elTag: \"a\", elClasses: [\n                        'fc-daygrid-day-number',\n                        isMonthStart && 'fc-daygrid-month-start',\n                    ], elAttrs: Object.assign(Object.assign({}, buildNavLinkAttrs(context, date)), { id: state.dayNumberId }) }))) : props.showDayNumber ? (\n            // for creating correct amount of space (see issue #7162)\n            createElement(\"div\", { className: \"fc-daygrid-day-top\", style: { visibility: 'hidden' } },\n                createElement(\"a\", { className: \"fc-daygrid-day-number\" }, \"\\u00A0\"))) : undefined,\n            createElement(\"div\", { className: \"fc-daygrid-day-events\", ref: props.fgContentElRef },\n                props.fgContent,\n                createElement(\"div\", { className: \"fc-daygrid-day-bottom\", style: { marginTop: props.moreMarginTop } },\n                    createElement(TableCellMoreLink, { allDayDate: date, singlePlacements: props.singlePlacements, moreCnt: props.moreCnt, alignmentElRef: rootElRef, alignGridTop: !props.showDayNumber, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange }))),\n            createElement(\"div\", { className: \"fc-daygrid-day-bg\" }, props.bgContent)))));\n    }\n}\nfunction renderTopInner(props) {\n    return props.dayNumberText || createElement(Fragment, null, \"\\u00A0\");\n}\nfunction shouldDisplayMonthStart(date, currentRange, dateEnv) {\n    const { start: currentStart, end: currentEnd } = currentRange;\n    const currentEndIncl = addMs(currentEnd, -1);\n    const currentFirstYear = dateEnv.getYear(currentStart);\n    const currentFirstMonth = dateEnv.getMonth(currentStart);\n    const currentLastYear = dateEnv.getYear(currentEndIncl);\n    const currentLastMonth = dateEnv.getMonth(currentEndIncl);\n    // spans more than one month?\n    return !(currentFirstYear === currentLastYear && currentFirstMonth === currentLastMonth) &&\n        Boolean(\n        // first date in current view?\n        date.valueOf() === currentStart.valueOf() ||\n            // a month-start that's within the current range?\n            (dateEnv.getDay(date) === 1 && date.valueOf() < currentEnd.valueOf()));\n}\n\nfunction generateSegKey(seg) {\n    return seg.eventRange.instance.instanceId + ':' + seg.firstCol;\n}\nfunction generateSegUid(seg) {\n    return generateSegKey(seg) + ':' + seg.lastCol;\n}\nfunction computeFgSegPlacement(segs, // assumed already sorted\ndayMaxEvents, dayMaxEventRows, strictOrder, segHeights, maxContentHeight, cells) {\n    let hierarchy = new DayGridSegHierarchy((segEntry) => {\n        // TODO: more DRY with generateSegUid\n        let segUid = segs[segEntry.index].eventRange.instance.instanceId +\n            ':' + segEntry.span.start +\n            ':' + (segEntry.span.end - 1);\n        // if no thickness known, assume 1 (if 0, so small it always fits)\n        return segHeights[segUid] || 1;\n    });\n    hierarchy.allowReslicing = true;\n    hierarchy.strictOrder = strictOrder;\n    if (dayMaxEvents === true || dayMaxEventRows === true) {\n        hierarchy.maxCoord = maxContentHeight;\n        hierarchy.hiddenConsumes = true;\n    }\n    else if (typeof dayMaxEvents === 'number') {\n        hierarchy.maxStackCnt = dayMaxEvents;\n    }\n    else if (typeof dayMaxEventRows === 'number') {\n        hierarchy.maxStackCnt = dayMaxEventRows;\n        hierarchy.hiddenConsumes = true;\n    }\n    // create segInputs only for segs with known heights\n    let segInputs = [];\n    let unknownHeightSegs = [];\n    for (let i = 0; i < segs.length; i += 1) {\n        let seg = segs[i];\n        let segUid = generateSegUid(seg);\n        let eventHeight = segHeights[segUid];\n        if (eventHeight != null) {\n            segInputs.push({\n                index: i,\n                span: {\n                    start: seg.firstCol,\n                    end: seg.lastCol + 1,\n                },\n            });\n        }\n        else {\n            unknownHeightSegs.push(seg);\n        }\n    }\n    let hiddenEntries = hierarchy.addSegs(segInputs);\n    let segRects = hierarchy.toRects();\n    let { singleColPlacements, multiColPlacements, leftoverMargins } = placeRects(segRects, segs, cells);\n    let moreCnts = [];\n    let moreMarginTops = [];\n    // add segs with unknown heights\n    for (let seg of unknownHeightSegs) {\n        multiColPlacements[seg.firstCol].push({\n            seg,\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (let col = seg.firstCol; col <= seg.lastCol; col += 1) {\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // add the hidden entries\n    for (let col = 0; col < cells.length; col += 1) {\n        moreCnts.push(0);\n    }\n    for (let hiddenEntry of hiddenEntries) {\n        let seg = segs[hiddenEntry.index];\n        let hiddenSpan = hiddenEntry.span;\n        multiColPlacements[hiddenSpan.start].push({\n            seg: resliceSeg(seg, hiddenSpan.start, hiddenSpan.end, cells),\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (let col = hiddenSpan.start; col < hiddenSpan.end; col += 1) {\n            moreCnts[col] += 1;\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // deal with leftover margins\n    for (let col = 0; col < cells.length; col += 1) {\n        moreMarginTops.push(leftoverMargins[col]);\n    }\n    return { singleColPlacements, multiColPlacements, moreCnts, moreMarginTops };\n}\n// rects ordered by top coord, then left\nfunction placeRects(allRects, segs, cells) {\n    let rectsByEachCol = groupRectsByEachCol(allRects, cells.length);\n    let singleColPlacements = [];\n    let multiColPlacements = [];\n    let leftoverMargins = [];\n    for (let col = 0; col < cells.length; col += 1) {\n        let rects = rectsByEachCol[col];\n        // compute all static segs in singlePlacements\n        let singlePlacements = [];\n        let currentHeight = 0;\n        let currentMarginTop = 0;\n        for (let rect of rects) {\n            let seg = segs[rect.index];\n            singlePlacements.push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: true,\n                isAbsolute: false,\n                absoluteTop: rect.levelCoord,\n                marginTop: rect.levelCoord - currentHeight,\n            });\n            currentHeight = rect.levelCoord + rect.thickness;\n        }\n        // compute mixed static/absolute segs in multiPlacements\n        let multiPlacements = [];\n        currentHeight = 0;\n        currentMarginTop = 0;\n        for (let rect of rects) {\n            let seg = segs[rect.index];\n            let isAbsolute = rect.span.end - rect.span.start > 1; // multi-column?\n            let isFirstCol = rect.span.start === col;\n            currentMarginTop += rect.levelCoord - currentHeight; // amount of space since bottom of previous seg\n            currentHeight = rect.levelCoord + rect.thickness; // height will now be bottom of current seg\n            if (isAbsolute) {\n                currentMarginTop += rect.thickness;\n                if (isFirstCol) {\n                    multiPlacements.push({\n                        seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                        isVisible: true,\n                        isAbsolute: true,\n                        absoluteTop: rect.levelCoord,\n                        marginTop: 0,\n                    });\n                }\n            }\n            else if (isFirstCol) {\n                multiPlacements.push({\n                    seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                    isVisible: true,\n                    isAbsolute: false,\n                    absoluteTop: rect.levelCoord,\n                    marginTop: currentMarginTop, // claim the margin\n                });\n                currentMarginTop = 0;\n            }\n        }\n        singleColPlacements.push(singlePlacements);\n        multiColPlacements.push(multiPlacements);\n        leftoverMargins.push(currentMarginTop);\n    }\n    return { singleColPlacements, multiColPlacements, leftoverMargins };\n}\nfunction groupRectsByEachCol(rects, colCnt) {\n    let rectsByEachCol = [];\n    for (let col = 0; col < colCnt; col += 1) {\n        rectsByEachCol.push([]);\n    }\n    for (let rect of rects) {\n        for (let col = rect.span.start; col < rect.span.end; col += 1) {\n            rectsByEachCol[col].push(rect);\n        }\n    }\n    return rectsByEachCol;\n}\nfunction resliceSeg(seg, spanStart, spanEnd, cells) {\n    if (seg.firstCol === spanStart && seg.lastCol === spanEnd - 1) {\n        return seg;\n    }\n    let eventRange = seg.eventRange;\n    let origRange = eventRange.range;\n    let slicedRange = intersectRanges(origRange, {\n        start: cells[spanStart].date,\n        end: addDays(cells[spanEnd - 1].date, 1),\n    });\n    return Object.assign(Object.assign({}, seg), { firstCol: spanStart, lastCol: spanEnd - 1, eventRange: {\n            def: eventRange.def,\n            ui: Object.assign(Object.assign({}, eventRange.ui), { durationEditable: false }),\n            instance: eventRange.instance,\n            range: slicedRange,\n        }, isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(), isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf() });\n}\nclass DayGridSegHierarchy extends SegHierarchy {\n    constructor() {\n        super(...arguments);\n        // config\n        this.hiddenConsumes = false;\n        // allows us to keep hidden entries in the hierarchy so they take up space\n        this.forceHidden = {};\n    }\n    addSegs(segInputs) {\n        const hiddenSegs = super.addSegs(segInputs);\n        const { entriesByLevel } = this;\n        const excludeHidden = (entry) => !this.forceHidden[buildEntryKey(entry)];\n        // remove the forced-hidden segs\n        for (let level = 0; level < entriesByLevel.length; level += 1) {\n            entriesByLevel[level] = entriesByLevel[level].filter(excludeHidden);\n        }\n        return hiddenSegs;\n    }\n    handleInvalidInsertion(insertion, entry, hiddenEntries) {\n        const { entriesByLevel, forceHidden } = this;\n        const { touchingEntry, touchingLevel, touchingLateral } = insertion;\n        // the entry that the new insertion is touching must be hidden\n        if (this.hiddenConsumes && touchingEntry) {\n            const touchingEntryId = buildEntryKey(touchingEntry);\n            if (!forceHidden[touchingEntryId]) {\n                if (this.allowReslicing) {\n                    // split up the touchingEntry, reinsert it\n                    const hiddenEntry = Object.assign(Object.assign({}, touchingEntry), { span: intersectSpans(touchingEntry.span, entry.span) });\n                    // reinsert the area that turned into a \"more\" link (so no other entries try to\n                    // occupy the space) but mark it forced-hidden\n                    const hiddenEntryId = buildEntryKey(hiddenEntry);\n                    forceHidden[hiddenEntryId] = true;\n                    entriesByLevel[touchingLevel][touchingLateral] = hiddenEntry;\n                    hiddenEntries.push(hiddenEntry);\n                    this.splitEntry(touchingEntry, entry, hiddenEntries);\n                }\n                else {\n                    forceHidden[touchingEntryId] = true;\n                    hiddenEntries.push(touchingEntry);\n                }\n            }\n        }\n        // will try to reslice...\n        super.handleInvalidInsertion(insertion, entry, hiddenEntries);\n    }\n}\n\nclass TableRow extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.cellElRefs = new RefMap(); // the <td>\n        this.frameElRefs = new RefMap(); // the fc-daygrid-day-frame\n        this.fgElRefs = new RefMap(); // the fc-daygrid-day-events\n        this.segHarnessRefs = new RefMap(); // indexed by \"instanceId:firstCol\"\n        this.rootElRef = createRef();\n        this.state = {\n            framePositions: null,\n            maxContentHeight: null,\n            segHeights: {},\n        };\n        this.handleResize = (isForced) => {\n            if (isForced) {\n                this.updateSizing(true); // isExternal=true\n            }\n        };\n    }\n    render() {\n        let { props, state, context } = this;\n        let { options } = context;\n        let colCnt = props.cells.length;\n        let businessHoursByCol = splitSegsByFirstCol(props.businessHourSegs, colCnt);\n        let bgEventSegsByCol = splitSegsByFirstCol(props.bgEventSegs, colCnt);\n        let highlightSegsByCol = splitSegsByFirstCol(this.getHighlightSegs(), colCnt);\n        let mirrorSegsByCol = splitSegsByFirstCol(this.getMirrorSegs(), colCnt);\n        let { singleColPlacements, multiColPlacements, moreCnts, moreMarginTops } = computeFgSegPlacement(sortEventSegs(props.fgEventSegs, options.eventOrder), props.dayMaxEvents, props.dayMaxEventRows, options.eventOrderStrict, state.segHeights, state.maxContentHeight, props.cells);\n        let isForcedInvisible = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        return (createElement(\"tr\", { ref: this.rootElRef, role: \"row\" },\n            props.renderIntro && props.renderIntro(),\n            props.cells.map((cell, col) => {\n                let normalFgNodes = this.renderFgSegs(col, props.forPrint ? singleColPlacements[col] : multiColPlacements[col], props.todayRange, isForcedInvisible);\n                let mirrorFgNodes = this.renderFgSegs(col, buildMirrorPlacements(mirrorSegsByCol[col], multiColPlacements), props.todayRange, {}, Boolean(props.eventDrag), Boolean(props.eventResize), false);\n                return (createElement(TableCell, { key: cell.key, elRef: this.cellElRefs.createRef(cell.key), innerElRef: this.frameElRefs.createRef(cell.key) /* FF <td> problem, but okay to use for left/right. TODO: rename prop */, dateProfile: props.dateProfile, date: cell.date, showDayNumber: props.showDayNumbers, showWeekNumber: props.showWeekNumbers && col === 0, forceDayTop: props.showWeekNumbers /* even displaying weeknum for row, not necessarily day */, todayRange: props.todayRange, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, extraRenderProps: cell.extraRenderProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, moreCnt: moreCnts[col], moreMarginTop: moreMarginTops[col], singlePlacements: singleColPlacements[col], fgContentElRef: this.fgElRefs.createRef(cell.key), fgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        createElement(Fragment, null, normalFgNodes),\n                        createElement(Fragment, null, mirrorFgNodes))), bgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        this.renderFillSegs(highlightSegsByCol[col], 'highlight'),\n                        this.renderFillSegs(businessHoursByCol[col], 'non-business'),\n                        this.renderFillSegs(bgEventSegsByCol[col], 'bg-event'))), minHeight: props.cellMinHeight }));\n            })));\n    }\n    componentDidMount() {\n        this.updateSizing(true);\n        this.context.addResizeHandler(this.handleResize);\n    }\n    componentDidUpdate(prevProps, prevState) {\n        let currentProps = this.props;\n        this.updateSizing(!isPropsEqual(prevProps, currentProps));\n    }\n    componentWillUnmount() {\n        this.context.removeResizeHandler(this.handleResize);\n    }\n    getHighlightSegs() {\n        let { props } = this;\n        if (props.eventDrag && props.eventDrag.segs.length) { // messy check\n            return props.eventDrag.segs;\n        }\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return props.dateSelectionSegs;\n    }\n    getMirrorSegs() {\n        let { props } = this;\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return [];\n    }\n    renderFgSegs(col, segPlacements, todayRange, isForcedInvisible, isDragging, isResizing, isDateSelecting) {\n        let { context } = this;\n        let { eventSelection } = this.props;\n        let { framePositions } = this.state;\n        let defaultDisplayEventEnd = this.props.cells.length === 1; // colCnt === 1\n        let isMirror = isDragging || isResizing || isDateSelecting;\n        let nodes = [];\n        if (framePositions) {\n            for (let placement of segPlacements) {\n                let { seg } = placement;\n                let { instanceId } = seg.eventRange.instance;\n                let isVisible = placement.isVisible && !isForcedInvisible[instanceId];\n                let isAbsolute = placement.isAbsolute;\n                let left = '';\n                let right = '';\n                if (isAbsolute) {\n                    if (context.isRtl) {\n                        right = 0;\n                        left = framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol];\n                    }\n                    else {\n                        left = 0;\n                        right = framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol];\n                    }\n                }\n                /*\n                known bug: events that are force to be list-item but span multiple days still take up space in later columns\n                todo: in print view, for multi-day events, don't display title within non-start/end segs\n                */\n                nodes.push(createElement(\"div\", { className: 'fc-daygrid-event-harness' + (isAbsolute ? ' fc-daygrid-event-harness-abs' : ''), key: generateSegKey(seg), ref: isMirror ? null : this.segHarnessRefs.createRef(generateSegUid(seg)), style: {\n                        visibility: isVisible ? '' : 'hidden',\n                        marginTop: isAbsolute ? '' : placement.marginTop,\n                        top: isAbsolute ? placement.absoluteTop : '',\n                        left,\n                        right,\n                    } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, Object.assign({ seg: seg, isDragging: isDragging, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange)))) : (createElement(TableBlockEvent, Object.assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange))))));\n            }\n        }\n        return nodes;\n    }\n    renderFillSegs(segs, fillType) {\n        let { isRtl } = this.context;\n        let { todayRange } = this.props;\n        let { framePositions } = this.state;\n        let nodes = [];\n        if (framePositions) {\n            for (let seg of segs) {\n                let leftRightCss = isRtl ? {\n                    right: 0,\n                    left: framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol],\n                } : {\n                    left: 0,\n                    right: framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol],\n                };\n                nodes.push(createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-daygrid-bg-harness\", style: leftRightCss }, fillType === 'bg-event' ?\n                    createElement(BgEvent, Object.assign({ seg: seg }, getSegMeta(seg, todayRange))) :\n                    renderFill(fillType)));\n            }\n        }\n        return createElement(Fragment, {}, ...nodes);\n    }\n    updateSizing(isExternalSizingChange) {\n        let { props, state, frameElRefs } = this;\n        if (!props.forPrint &&\n            props.clientWidth !== null // positioning ready?\n        ) {\n            if (isExternalSizingChange) {\n                let frameEls = props.cells.map((cell) => frameElRefs.currentMap[cell.key]);\n                if (frameEls.length) {\n                    let originEl = this.rootElRef.current;\n                    let newPositionCache = new PositionCache(originEl, frameEls, true, // isHorizontal\n                    false);\n                    if (!state.framePositions || !state.framePositions.similarTo(newPositionCache)) {\n                        this.setState({\n                            framePositions: new PositionCache(originEl, frameEls, true, // isHorizontal\n                            false),\n                        });\n                    }\n                }\n            }\n            const oldSegHeights = this.state.segHeights;\n            const newSegHeights = this.querySegHeights();\n            const limitByContentHeight = props.dayMaxEvents === true || props.dayMaxEventRows === true;\n            this.safeSetState({\n                // HACK to prevent oscillations of events being shown/hidden from max-event-rows\n                // Essentially, once you compute an element's height, never null-out.\n                // TODO: always display all events, as visibility:hidden?\n                segHeights: Object.assign(Object.assign({}, oldSegHeights), newSegHeights),\n                maxContentHeight: limitByContentHeight ? this.computeMaxContentHeight() : null,\n            });\n        }\n    }\n    querySegHeights() {\n        let segElMap = this.segHarnessRefs.currentMap;\n        let segHeights = {};\n        // get the max height amongst instance segs\n        for (let segUid in segElMap) {\n            let height = Math.round(segElMap[segUid].getBoundingClientRect().height);\n            segHeights[segUid] = Math.max(segHeights[segUid] || 0, height);\n        }\n        return segHeights;\n    }\n    computeMaxContentHeight() {\n        let firstKey = this.props.cells[0].key;\n        let cellEl = this.cellElRefs.currentMap[firstKey];\n        let fcContainerEl = this.fgElRefs.currentMap[firstKey];\n        return cellEl.getBoundingClientRect().bottom - fcContainerEl.getBoundingClientRect().top;\n    }\n    getCellEls() {\n        let elMap = this.cellElRefs.currentMap;\n        return this.props.cells.map((cell) => elMap[cell.key]);\n    }\n}\nTableRow.addStateEquality({\n    segHeights: isPropsEqual,\n});\nfunction buildMirrorPlacements(mirrorSegs, colPlacements) {\n    if (!mirrorSegs.length) {\n        return [];\n    }\n    let topsByInstanceId = buildAbsoluteTopHash(colPlacements); // TODO: cache this at first render?\n    return mirrorSegs.map((seg) => ({\n        seg,\n        isVisible: true,\n        isAbsolute: true,\n        absoluteTop: topsByInstanceId[seg.eventRange.instance.instanceId],\n        marginTop: 0,\n    }));\n}\nfunction buildAbsoluteTopHash(colPlacements) {\n    let topsByInstanceId = {};\n    for (let placements of colPlacements) {\n        for (let placement of placements) {\n            topsByInstanceId[placement.seg.eventRange.instance.instanceId] = placement.absoluteTop;\n        }\n    }\n    return topsByInstanceId;\n}\n\nclass TableRows extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.splitBusinessHourSegs = memoize(splitSegsByRow);\n        this.splitBgEventSegs = memoize(splitSegsByRow);\n        this.splitFgEventSegs = memoize(splitSegsByRow);\n        this.splitDateSelectionSegs = memoize(splitSegsByRow);\n        this.splitEventDrag = memoize(splitInteractionByRow);\n        this.splitEventResize = memoize(splitInteractionByRow);\n        this.rowRefs = new RefMap();\n    }\n    render() {\n        let { props, context } = this;\n        let rowCnt = props.cells.length;\n        let businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, rowCnt);\n        let bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, rowCnt);\n        let fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, rowCnt);\n        let dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, rowCnt);\n        let eventDragByRow = this.splitEventDrag(props.eventDrag, rowCnt);\n        let eventResizeByRow = this.splitEventResize(props.eventResize, rowCnt);\n        // for DayGrid view with many rows, force a min-height on cells so doesn't appear squished\n        // choose 7 because a month view will have max 6 rows\n        let cellMinHeight = (rowCnt >= 7 && props.clientWidth) ?\n            props.clientWidth / context.options.aspectRatio / 6 :\n            null;\n        return (createElement(NowTimer, { unit: \"day\" }, (nowDate, todayRange) => (createElement(Fragment, null, props.cells.map((cells, row) => (createElement(TableRow, { ref: this.rowRefs.createRef(row), key: cells.length\n                ? cells[0].date.toISOString() /* best? or put key on cell? or use diff formatter? */\n                : row // in case there are no cells (like when resource view is loading)\n            , showDayNumbers: rowCnt > 1, showWeekNumbers: props.showWeekNumbers, todayRange: todayRange, dateProfile: props.dateProfile, cells: cells, renderIntro: props.renderRowIntro, businessHourSegs: businessHourSegsByRow[row], eventSelection: props.eventSelection, bgEventSegs: bgEventSegsByRow[row].filter(isSegAllDay) /* hack */, fgEventSegs: fgEventSegsByRow[row], dateSelectionSegs: dateSelectionSegsByRow[row], eventDrag: eventDragByRow[row], eventResize: eventResizeByRow[row], dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, clientWidth: props.clientWidth, clientHeight: props.clientHeight, cellMinHeight: cellMinHeight, forPrint: props.forPrint })))))));\n    }\n    componentDidMount() {\n        this.registerInteractiveComponent();\n    }\n    componentDidUpdate() {\n        // for if started with zero cells\n        this.registerInteractiveComponent();\n    }\n    registerInteractiveComponent() {\n        if (!this.rootEl) {\n            // HACK: need a daygrid wrapper parent to do positioning\n            // NOTE: a daygrid resource view w/o resources can have zero cells\n            const firstCellEl = this.rowRefs.currentMap[0].getCellEls()[0];\n            const rootEl = firstCellEl ? firstCellEl.closest('.fc-daygrid-body') : null;\n            if (rootEl) {\n                this.rootEl = rootEl;\n                this.context.registerInteractiveComponent(this, {\n                    el: rootEl,\n                    isHitComboAllowed: this.props.isHitComboAllowed,\n                });\n            }\n        }\n    }\n    componentWillUnmount() {\n        if (this.rootEl) {\n            this.context.unregisterInteractiveComponent(this);\n            this.rootEl = null;\n        }\n    }\n    // Hit System\n    // ----------------------------------------------------------------------------------------------------\n    prepareHits() {\n        this.rowPositions = new PositionCache(this.rootEl, this.rowRefs.collect().map((rowObj) => rowObj.getCellEls()[0]), // first cell el in each row. TODO: not optimal\n        false, true);\n        this.colPositions = new PositionCache(this.rootEl, this.rowRefs.currentMap[0].getCellEls(), // cell els in first row\n        true, // horizontal\n        false);\n    }\n    queryHit(positionLeft, positionTop) {\n        let { colPositions, rowPositions } = this;\n        let col = colPositions.leftToIndex(positionLeft);\n        let row = rowPositions.topToIndex(positionTop);\n        if (row != null && col != null) {\n            let cell = this.props.cells[row][col];\n            return {\n                dateProfile: this.props.dateProfile,\n                dateSpan: Object.assign({ range: this.getCellRange(row, col), allDay: true }, cell.extraDateSpan),\n                dayEl: this.getCellEl(row, col),\n                rect: {\n                    left: colPositions.lefts[col],\n                    right: colPositions.rights[col],\n                    top: rowPositions.tops[row],\n                    bottom: rowPositions.bottoms[row],\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    }\n    getCellEl(row, col) {\n        return this.rowRefs.currentMap[row].getCellEls()[col]; // TODO: not optimal\n    }\n    getCellRange(row, col) {\n        let start = this.props.cells[row][col].date;\n        let end = addDays(start, 1);\n        return { start, end };\n    }\n}\nfunction isSegAllDay(seg) {\n    return seg.eventRange.def.allDay;\n}\n\nclass Table extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.elRef = createRef();\n        this.needsScrollReset = false;\n    }\n    render() {\n        let { props } = this;\n        let { dayMaxEventRows, dayMaxEvents, expandRows } = props;\n        let limitViaBalanced = dayMaxEvents === true || dayMaxEventRows === true;\n        // if rows can't expand to fill fixed height, can't do balanced-height event limit\n        // TODO: best place to normalize these options?\n        if (limitViaBalanced && !expandRows) {\n            limitViaBalanced = false;\n            dayMaxEventRows = null;\n            dayMaxEvents = null;\n        }\n        let classNames = [\n            'fc-daygrid-body',\n            limitViaBalanced ? 'fc-daygrid-body-balanced' : 'fc-daygrid-body-unbalanced',\n            expandRows ? '' : 'fc-daygrid-body-natural', // will height of one row depend on the others?\n        ];\n        return (createElement(\"div\", { ref: this.elRef, className: classNames.join(' '), style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(\"table\", { role: \"presentation\", className: \"fc-scrollgrid-sync-table\", style: {\n                    width: props.clientWidth,\n                    minWidth: props.tableMinWidth,\n                    height: expandRows ? props.clientHeight : '',\n                } },\n                props.colGroupNode,\n                createElement(\"tbody\", { role: \"presentation\" },\n                    createElement(TableRows, { dateProfile: props.dateProfile, cells: props.cells, renderRowIntro: props.renderRowIntro, showWeekNumbers: props.showWeekNumbers, clientWidth: props.clientWidth, clientHeight: props.clientHeight, businessHourSegs: props.businessHourSegs, bgEventSegs: props.bgEventSegs, fgEventSegs: props.fgEventSegs, dateSelectionSegs: props.dateSelectionSegs, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows, forPrint: props.forPrint, isHitComboAllowed: props.isHitComboAllowed })))));\n    }\n    componentDidMount() {\n        this.requestScrollReset();\n    }\n    componentDidUpdate(prevProps) {\n        if (prevProps.dateProfile !== this.props.dateProfile) {\n            this.requestScrollReset();\n        }\n        else {\n            this.flushScrollReset();\n        }\n    }\n    requestScrollReset() {\n        this.needsScrollReset = true;\n        this.flushScrollReset();\n    }\n    flushScrollReset() {\n        if (this.needsScrollReset &&\n            this.props.clientWidth // sizes computed?\n        ) {\n            const subjectEl = getScrollSubjectEl(this.elRef.current, this.props.dateProfile);\n            if (subjectEl) {\n                const originEl = subjectEl.closest('.fc-daygrid-body');\n                const scrollEl = originEl.closest('.fc-scroller');\n                const scrollTop = subjectEl.getBoundingClientRect().top -\n                    originEl.getBoundingClientRect().top;\n                scrollEl.scrollTop = scrollTop ? (scrollTop + 1) : 0; // overcome border\n            }\n            this.needsScrollReset = false;\n        }\n    }\n}\nfunction getScrollSubjectEl(containerEl, dateProfile) {\n    let el;\n    if (dateProfile.currentRangeUnit.match(/year|month/)) {\n        el = containerEl.querySelector(`[data-date=\"${formatIsoMonthStr(dateProfile.currentDate)}-01\"]`);\n        // even if view is month-based, first-of-month might be hidden...\n    }\n    if (!el) {\n        el = containerEl.querySelector(`[data-date=\"${formatDayString(dateProfile.currentDate)}\"]`);\n        // could still be hidden if an interior-view hidden day\n    }\n    return el;\n}\n\nclass DayTableSlicer extends Slicer {\n    constructor() {\n        super(...arguments);\n        this.forceDayIfListItem = true;\n    }\n    sliceRange(dateRange, dayTableModel) {\n        return dayTableModel.sliceRange(dateRange);\n    }\n}\n\nclass DayTable extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.slicer = new DayTableSlicer();\n        this.tableRef = createRef();\n    }\n    render() {\n        let { props, context } = this;\n        return (createElement(Table, Object.assign({ ref: this.tableRef }, this.slicer.sliceProps(props, props.dateProfile, props.nextDayThreshold, context, props.dayTableModel), { dateProfile: props.dateProfile, cells: props.dayTableModel.cells, colGroupNode: props.colGroupNode, tableMinWidth: props.tableMinWidth, renderRowIntro: props.renderRowIntro, dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, showWeekNumbers: props.showWeekNumbers, expandRows: props.expandRows, headerAlignElRef: props.headerAlignElRef, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })));\n    }\n}\n\nclass DayTableView extends TableView {\n    constructor() {\n        super(...arguments);\n        this.buildDayTableModel = memoize(buildDayTableModel);\n        this.headerRef = createRef();\n        this.tableRef = createRef();\n        // can't override any lifecycle methods from parent\n    }\n    render() {\n        let { options, dateProfileGenerator } = this.context;\n        let { props } = this;\n        let dayTableModel = this.buildDayTableModel(props.dateProfile, dateProfileGenerator);\n        let headerContent = options.dayHeaders && (createElement(DayHeader, { ref: this.headerRef, dateProfile: props.dateProfile, dates: dayTableModel.headerDates, datesRepDistinctDays: dayTableModel.rowCnt === 1 }));\n        let bodyContent = (contentArg) => (createElement(DayTable, { ref: this.tableRef, dateProfile: props.dateProfile, dayTableModel: dayTableModel, businessHours: props.businessHours, dateSelection: props.dateSelection, eventStore: props.eventStore, eventUiBases: props.eventUiBases, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, nextDayThreshold: options.nextDayThreshold, colGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, dayMaxEvents: options.dayMaxEvents, dayMaxEventRows: options.dayMaxEventRows, showWeekNumbers: options.weekNumbers, expandRows: !props.isHeightAuto, headerAlignElRef: this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint }));\n        return options.dayMinWidth\n            ? this.renderHScrollLayout(headerContent, bodyContent, dayTableModel.colCnt, options.dayMinWidth)\n            : this.renderSimpleLayout(headerContent, bodyContent);\n    }\n}\nfunction buildDayTableModel(dateProfile, dateProfileGenerator) {\n    let daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));\n}\n\nclass TableDateProfileGenerator extends DateProfileGenerator {\n    // Computes the date range that will be rendered\n    buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay) {\n        let renderRange = super.buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay);\n        let { props } = this;\n        return buildDayTableRenderRange({\n            currentRange: renderRange,\n            snapToWeek: /^(year|month)$/.test(currentRangeUnit),\n            fixedWeekCount: props.fixedWeekCount,\n            dateEnv: props.dateEnv,\n        });\n    }\n}\nfunction buildDayTableRenderRange(props) {\n    let { dateEnv, currentRange } = props;\n    let { start, end } = currentRange;\n    let endOfWeek;\n    // year and month views should be aligned with weeks. this is already done for week\n    if (props.snapToWeek) {\n        start = dateEnv.startOfWeek(start);\n        // make end-of-week if not already\n        endOfWeek = dateEnv.startOfWeek(end);\n        if (endOfWeek.valueOf() !== end.valueOf()) {\n            end = addWeeks(endOfWeek, 1);\n        }\n    }\n    // ensure 6 weeks\n    if (props.fixedWeekCount) {\n        // TODO: instead of these date-math gymnastics (for multimonth view),\n        // compute dateprofiles of all months, then use start of first and end of last.\n        let lastMonthRenderStart = dateEnv.startOfWeek(dateEnv.startOfMonth(addDays(currentRange.end, -1)));\n        let rowCnt = Math.ceil(// could be partial weeks due to hiddenDays\n        diffWeeks(lastMonthRenderStart, end));\n        end = addWeeks(end, 6 - rowCnt);\n    }\n    return { start, end };\n}\n\nvar css_248z = \":root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:\\\"\\\";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:\\\"\\\";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}\";\ninjectStyles(css_248z);\n\nexport { DayTableView as DayGridView, DayTable, DayTableSlicer, Table, TableDateProfileGenerator, TableRows, TableView, buildDayTableModel, buildDayTableRenderRange };\n","import { createPlugin } from '@fullcalendar/core/index.js';\nimport { DayGridView as DayTableView, TableDateProfileGenerator } from './internal.js';\nimport '@fullcalendar/core/internal.js';\nimport '@fullcalendar/core/preact.js';\n\nvar index = createPlugin({\n    name: '@fullcalendar/daygrid',\n    initialView: 'dayGridMonth',\n    views: {\n        dayGrid: {\n            component: DayTableView,\n            dateProfileGeneratorClass: TableDateProfileGenerator,\n        },\n        dayGridDay: {\n            type: 'dayGrid',\n            duration: { days: 1 },\n        },\n        dayGridWeek: {\n            type: 'dayGrid',\n            duration: { weeks: 1 },\n        },\n        dayGridMonth: {\n            type: 'dayGrid',\n            duration: { months: 1 },\n            fixedWeekCount: true,\n        },\n        dayGridYear: {\n            type: 'dayGrid',\n            duration: { years: 1 },\n        },\n    },\n});\n\nexport { index as default };\n","import { render } from \"./CalendarModel.vue?vue&type=template&id=16a747a3\"\nimport script from \"./CalendarModel.vue?vue&type=script&lang=js\"\nexport * from \"./CalendarModel.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<!-- eslint-disable max-len -->\n<!-- eslint-disable vuejs-accessibility/label-has-for -->\n<template>\n  <section class=\"container\">\n    <!-- input -->\n    <div class=\"input-group mb-3\">\n      <input\n        type=\"text\"\n        class=\"form-control\"\n        placeholder=\"...\"\n        aria-label=\"Recipient's username\"\n        aria-describedby=\"button-addon2\"\n        v-model=\"title\"\n      />\n      <button\n        class=\"btn btn-secondary\"\n        type=\"button\"\n        id=\"button-addon2\"\n        @click=\"postTodo\"\n      >\n        <i class=\"bi bi-plus-lg h3 p-3\"></i>\n      </button>\n    </div>\n    <!-- form -->\n    <template v-for=\"(item, index) in todoList\" :key=\"index\">\n      <div\n        class=\"d-flex justify-content-between align-items-center ps-3 border-bottom border-1\"\n        :class=\"[\n          item.isCheck\n            ? 'border-primary-subtle text-primary-emphasis bg-primary-subtle'\n            : '',\n        ]\"\n      >\n        <div class=\"form-check\">\n          <input\n            class=\"form-check-input h5\"\n            type=\"checkbox\"\n            value=\"\"\n            :id=\"index\"\n            @click=\"editTodo(item)\"\n            :checked=\"item.isCheck\"\n          />\n          <label class=\"form-check-label\" :for=\"index\">\n            <div class=\"d-flex flex-column h4\">\n              {{ item.title }}\n            </div>\n          </label>\n        </div>\n        <div>\n          <!-- <button class=\"btn\" @click=\"postTodo\">\n            <i class=\"bi bi-pencil\"></i>\n          </button> -->\n          <button class=\"btn\" @click=\"deleteTodo(item._id)\">\n            <i class=\"bi bi-trash3 h4\"></i>\n          </button>\n        </div>\n      </div>\n    </template>\n  </section>\n</template>\n\n<script>\nimport {\n  apiGetTodos,\n  apiPostTodo,\n  apiPatchTodo,\n  apiDeleteTodo,\n} from '@/assets/javascript/api';\n\nexport default {\n  data() {\n    return {\n      todoList: [],\n      title: '',\n      tempData: {},\n    };\n  },\n  methods: {\n    getTodos() {\n      apiGetTodos()\n        .then((res) => {\n          this.todoList = res.data.data;\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    postTodo() {\n      apiPostTodo({ title: this.title })\n        .then((res) => {\n          console.log(res);\n          this.title = '';\n          this.getTodos();\n        })\n        .catch((err) => {\n          this.title = '';\n          console.log(err);\n        });\n    },\n    editTodo(data) {\n      apiPatchTodo(data)\n        .then((res) => {\n          console.log(res);\n          this.getTodos();\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    deleteTodo(id) {\n      apiDeleteTodo(id)\n        .then((res) => {\n          this.getTodos();\n          console.log(res);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n  },\n  mounted() {\n    this.getTodos();\n  },\n};\n</script>\n","import { render } from \"./TodoList.vue?vue&type=template&id=3d778d7c\"\nimport script from \"./TodoList.vue?vue&type=script&lang=js\"\nexport * from \"./TodoList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./HomeView.vue?vue&type=template&id=c535a5a6\"\nimport script from \"./HomeView.vue?vue&type=script&lang=js\"\nexport * from \"./HomeView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_Fragment","_createVNode","_component_Infor","workerList","$data","comapnyList","orderList","_component_Bar","_hoisted_1","_hoisted_2","_hoisted_3","_component_Q1","_hoisted_4","_hoisted_5","_component_Line","_hoisted_6","_hoisted_7","_hoisted_8","_component_Calendar","_hoisted_9","_hoisted_10","_hoisted_11","_component_Todolist","_toDisplayString","$toCurrency","orderNum","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","total","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","workerNum","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","companyNum","_hoisted_33","data","props","watch","this","length","forEach","item","__exports__","_createBlock","id","options","chartOptions","chartData","round","v","lim","l","h","Math","max","min","p2b","n2b","b2n","n2p","map$1","A","B","C","D","E","F","a","b","c","d","e","f","hex","h1","h2","eq","isShort","r","g","hexParse","str","ret","len","alpha","hexString","undefined","HUE_RE","hsl2rgbn","s","n","k","hsv2rgbn","hwb2rgbn","w","rgb","i","hueValue","rgb2hsl","range","calln","Array","isArray","map","hsl2rgb","hwb2rgb","hsv2rgb","hue","hueParse","m","exec","p1","p2","rotate","deg","hslString","x","Z","Y","X","W","V","U","T","S","R","Q","P","O","N","M","L","K","G","H","I","J","names$1","OiceXe","antiquewEte","aqua","aquamarRe","azuY","beige","bisque","black","blanKedOmond","Xe","XeviTet","bPwn","burlywood","caMtXe","KartYuse","KocTate","cSO","cSnflowerXe","cSnsilk","crimson","cyan","xXe","xcyan","xgTMnPd","xWay","xgYF","xgYy","xkhaki","xmagFta","xTivegYF","xSange","xScEd","xYd","xsOmon","xsHgYF","xUXe","xUWay","xUgYy","xQe","xviTet","dAppRk","dApskyXe","dimWay","dimgYy","dodgerXe","fiYbrick","flSOwEte","foYstWAn","fuKsia","gaRsbSo","ghostwEte","gTd","gTMnPd","Way","gYF","gYFLw","gYy","honeyMw","hotpRk","RdianYd","Rdigo","ivSy","khaki","lavFMr","lavFMrXsh","lawngYF","NmoncEffon","ZXe","ZcSO","Zcyan","ZgTMnPdLw","ZWay","ZgYF","ZgYy","ZpRk","ZsOmon","ZsHgYF","ZskyXe","ZUWay","ZUgYy","ZstAlXe","ZLw","lime","limegYF","lRF","magFta","maPon","VaquamarRe","VXe","VScEd","VpurpN","VsHgYF","VUXe","VsprRggYF","VQe","VviTetYd","midnightXe","mRtcYam","mistyPse","moccasR","navajowEte","navy","Tdlace","Tive","TivedBb","Sange","SangeYd","ScEd","pOegTMnPd","pOegYF","pOeQe","pOeviTetYd","papayawEp","pHKpuff","peru","pRk","plum","powMrXe","purpN","YbeccapurpN","Yd","Psybrown","PyOXe","saddNbPwn","sOmon","sandybPwn","sHgYF","sHshell","siFna","silver","skyXe","UXe","UWay","UgYy","snow","sprRggYF","stAlXe","tan","teO","tEstN","tomato","Qe","viTet","JHt","wEte","wEtesmoke","Lw","LwgYF","unpack","unpacked","keys","Object","tkeys","j","ok","nk","replace","parseInt","names","nameParse","transparent","toLowerCase","RGB_RE","rgbParse","rgbString","to","pow","from","interpolate","rgb1","rgb2","t","modHSL","ratio","tmp","clone","proto","assign","fromObject","input","functionParse","charAt","Color","constructor","type","_rgb","_valid","valid","obj","mix","color","weight","c1","c2","w2","p","w1","clearer","greyscale","val","opaquer","negate","lighten","darken","saturate","desaturate","noop","uid","isNullOrUndef","value","prototype","toString","call","slice","isObject","isNumberFinite","Number","isFinite","finiteOrDefault","defaultValue","valueOrDefault","toDimension","dimension","endsWith","parseFloat","callback","fn","args","thisArg","apply","each","loopable","reverse","_elementsEqual","a0","a1","ilen","v0","v1","datasetIndex","index","source","target","create","klen","isValidKey","key","indexOf","_merger","tval","sval","merge","sources","merger","current","mergeIf","_mergerIf","hasOwnProperty","keyResolvers","o","y","_splitKey","parts","split","part","push","_getKeyResolver","resolveObjectKey","resolver","_capitalize","toUpperCase","defined","isFunction","setsEqual","size","has","_isClickEvent","PI","TAU","PITAU","INFINITY","POSITIVE_INFINITY","RAD_PER_DEG","HALF_PI","QUARTER_PI","TWO_THIRDS_PI","log10","sign","almostEquals","epsilon","abs","niceNum","roundedRange","niceRange","floor","fraction","niceFraction","_factorize","result","sqrt","sort","pop","isNumber","isNaN","almostWhole","rounded","_setMinAndMaxByKey","array","property","toRadians","degrees","toDegrees","radians","_decimalPlaces","getAngleFromPoint","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","angle","atan2","distance","distanceBetweenPoints","pt1","pt2","_angleDiff","_normalizeAngle","_angleBetween","start","end","sameAngleIsFullCircle","angleToStart","angleToEnd","startToAngle","endToAngle","_limitValue","_int16Range","_isBetween","_lookup","table","cmp","mid","hi","lo","_lookupByKey","last","ti","_rlookupByKey","_filterBetween","values","arrayEvents","listenArrayEvents","listener","_chartjs","listeners","defineProperty","configurable","enumerable","method","base","res","object","unlistenArrayEvents","stub","splice","_arrayUnique","items","set","Set","requestAnimFrame","window","requestAnimationFrame","throttled","argsToUse","ticking","debounce","delay","timeout","clearTimeout","setTimeout","_toLeftRightCenter","align","_alignStartEnd","_textX","left","right","rtl","check","_getStartAndCountOfVisiblePoints","meta","points","animationsDisabled","pointCount","count","_sorted","iScale","_parsed","axis","minDefined","maxDefined","getUserBounds","getPixelForValue","_scaleRangesChanged","xScale","yScale","_scaleRanges","newRanges","xmin","xmax","ymin","ymax","changed","atEdge","elasticIn","sin","elasticOut","effects","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","isPatternOrGradient","getHoverColor","numbers","colors","applyAnimationsDefaults","defaults","duration","easing","loop","describe","_fallback","_indexable","_scriptable","name","properties","active","animation","resize","show","animations","visible","hide","applyLayoutsDefaults","autoPadding","padding","top","bottom","intlCache","Map","getNumberFormat","locale","cacheKey","JSON","stringify","formatter","get","Intl","NumberFormat","formatNumber","num","format","formatters","numeric","tickValue","ticks","chart","notation","delta","maxTick","calculateDelta","logDelta","numDecimal","minimumFractionDigits","maximumFractionDigits","logarithmic","remain","significand","includes","Ticks","applyScaleDefaults","display","offset","beginAtZero","bounds","clip","grace","grid","lineWidth","drawOnChartArea","drawTicks","tickLength","tickWidth","_ctx","tickColor","border","dash","dashOffset","width","title","text","minRotation","maxRotation","mirror","textStrokeWidth","textStrokeColor","autoSkip","autoSkipPadding","labelOffset","minor","major","crossAlign","showLabelBackdrop","backdropColor","backdropPadding","route","startsWith","overrides","descriptors","getScope$1","node","root","scope","Defaults","_descriptors","_appliers","backgroundColor","borderColor","datasets","devicePixelRatio","context","platform","getDevicePixelRatio","elements","events","font","family","style","lineHeight","hover","hoverBackgroundColor","ctx","hoverBorderColor","hoverColor","indexAxis","interaction","mode","intersect","includeInvisible","maintainAspectRatio","onHover","onClick","parsing","plugins","responsive","scale","scales","showLine","drawActiveElementsOnTop","override","targetScope","targetName","scopeObject","targetScopeObject","privateName","defineProperties","writable","local","appliers","toFontString","_measureText","gc","longest","string","textWidth","measureText","_alignPixel","pixel","currentDevicePixelRatio","halfWidth","clearCanvas","canvas","getContext","save","resetTransform","clearRect","height","restore","drawPoint","drawPointLegend","xOffset","yOffset","cornerRadius","xOffsetW","yOffsetW","pointStyle","rotation","radius","rad","translate","drawImage","beginPath","ellipse","arc","closePath","moveTo","lineTo","SQRT1_2","rect","fill","borderWidth","stroke","_isPointInArea","point","area","margin","clipArea","unclipArea","_steppedLineTo","previous","flip","midpoint","_bezierCurveTo","bezierCurveTo","cp1x","cp2x","cp1y","cp2y","setRenderOpts","opts","translation","fillStyle","textAlign","textBaseline","decorateText","line","strikethrough","underline","metrics","actualBoundingBoxLeft","actualBoundingBoxRight","actualBoundingBoxAscent","actualBoundingBoxDescent","yDecoration","strokeStyle","decorationWidth","drawBackdrop","oldColor","fillRect","renderText","lines","strokeWidth","strokeColor","backdrop","strokeText","maxWidth","fillText","addRoundedRectPath","topLeft","bottomLeft","bottomRight","topRight","LINE_HEIGHT","FONT_STYLE","toLineHeight","matches","match","numberOrZero","_readValueToProps","objProps","read","prop","toTRBL","toTRBLCorners","toPadding","toFont","fallback","console","warn","resolve","inputs","info","cacheable","_addGrace","minmax","change","keepZero","add","createContext","parentContext","_createResolver","scopes","prefixes","rootScopes","getTarget","finalRootScopes","_resolve","cache","Symbol","toStringTag","_cacheable","_scopes","_rootScopes","_getTarget","Proxy","deleteProperty","_keys","_cached","_resolveWithPrefixes","getOwnPropertyDescriptor","Reflect","getPrototypeOf","getKeysFromAllScopes","ownKeys","storage","_storage","_attachContext","proxy","subProxy","descriptorDefaults","_proxy","_context","_subProxy","_stack","setContext","receiver","_resolveWithContext","allKeys","scriptable","indexable","_allKeys","isScriptable","isIndexable","readKey","prefix","needsSubResolver","_resolveScriptable","_resolveArray","getValue","Error","join","delete","createSubResolver","arr","filter","resolveFallback","getScope","parent","addScopes","parentScopes","parentFallback","allScopes","addScopesFromKey","subGetTarget","resolveKeysFromAllScopes","EPSILON","getPoint","skip","getValueAxis","splineCurve","firstPoint","middlePoint","afterPoint","next","d01","d12","s01","s12","fa","fb","monotoneAdjust","deltaK","mK","pointsLen","alphaK","betaK","tauK","squaredMagnitude","pointCurrent","pointAfter","monotoneCompute","valueAxis","pointBefore","iPixel","vPixel","splineCurveMonotone","slopeDelta","capControlPoint","pt","capBezierPoints","inArea","inAreaPrev","inAreaNext","_updateBezierControlPoints","controlPoints","spanGaps","cubicInterpolationMode","prev","tension","_isDomSupported","document","_getParentNode","domNode","parentNode","host","parseMaxStyle","styleValue","parentProperty","valueInPixels","getComputedStyle","element","ownerDocument","defaultView","getStyle","el","getPropertyValue","positions","getPositionedStyle","styles","suffix","pos","useOffsetPos","shadowRoot","getCanvasPosition","touches","offsetX","offsetY","box","getBoundingClientRect","clientX","clientY","getRelativePosition","event","borderBox","boxSizing","paddings","borders","getContainerSize","maxHeight","container","containerStyle","containerBorder","containerPadding","clientWidth","clientHeight","round1","getMaximumSize","bbWidth","bbHeight","aspectRatio","margins","containerSize","maintainHeight","retinaScale","forceRatio","forceStyle","pixelRatio","deviceHeight","deviceWidth","setTransform","supportsEventListenerOptions","passiveSupported","passive","addEventListener","removeEventListener","readUsedSize","_pointInLine","_steppedInterpolation","_bezierInterpolation","cp1","cp2","getRightToLeftAdapter","rectX","setWidth","xPlus","leftForLtr","itemWidth","getLeftToRightAdapter","_itemWidth","getRtlAdapter","overrideTextDirection","direction","original","getPropertyPriority","setProperty","prevTextDirection","restoreTextDirection","propertyFn","between","compare","normalize","normalizeSegment","getSegment","segment","startBound","endBound","_boundSegment","prevValue","inside","subStart","startIsBefore","endIsBefore","shouldStart","shouldStop","_boundSegments","segments","sub","findStartAndEnd","solidSegments","cur","stop","_computeSegments","segmentOptions","_loop","splitByStyles","completeLoop","_fullLoop","doSplitByStyles","chartContext","_chart","baseStyle","readStyle","_datasetIndex","prevStyle","addStyle","st","dir","p0","p0DataIndex","p1DataIndex","styleChanged","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","replacer","Animator","_request","_charts","_running","_lastDate","_notify","anims","date","callbacks","numSteps","initial","currentStep","_refresh","_update","Date","now","remaining","running","draw","_active","_total","tick","_getAnims","charts","complete","progress","listen","cb","reduce","acc","_duration","cancel","remove","animator","interpolators","boolean","factor","c0","number","Animation","cfg","currentValue","_fn","_easing","_start","_target","_prop","_from","_to","_promises","update","elapsed","wait","promises","Promise","rej","resolved","Animations","config","_properties","configure","animationOptions","animatedProps","getOwnPropertyNames","option","_animateOptions","newOptions","resolveTargetOptions","_createAnimations","$shared","awaitAll","$animations","then","anim","all","scaleClip","allowedOverflow","defaultClip","toClip","disabled","getSortedDatasetIndices","filterVisible","metasets","_getSortedDatasetMetas","applyStack","stack","dsIndex","singleMode","otherValue","convertObjectDataToArray","adata","isStacked","stacked","getStackKey","indexScale","valueScale","NEGATIVE_INFINITY","getOrCreateStack","stacks","stackKey","indexValue","subStack","getLastIndexInStack","vScale","positive","getMatchingVisibleMetas","updateStacks","controller","parsed","_cachedMeta","_stacks","iAxis","vAxis","itemStacks","_top","_bottom","visualValues","_visualValues","getFirstScaleId","shift","createDatasetContext","dataset","createDataContext","dataIndex","raw","clearStacks","isDirectUpdateMode","cloneIfNotShared","cached","shared","createStack","canStack","hidden","_stacked","DatasetController","static","_cachedDataOpts","getMeta","_type","_parsing","_data","_objectData","_sharedOptions","_drawStart","_drawCount","enableOptionSharing","supportsDecimation","$context","_syncList","datasetElementType","dataElementType","initialize","linkScales","addElements","isPluginEnabled","updateIndex","getDataset","chooseId","xid","xAxisID","yid","yAxisID","rid","rAxisID","iid","iAxisID","vid","vAxisID","getScaleForId","rScale","getDatasetMeta","scaleID","_getOtherScale","reset","_destroy","_dataCheck","isExtensible","buildOrUpdateElements","resetNewElements","stackChanged","oldStacked","_resyncElements","scopeKeys","datasetScopeKeys","getOptionScopes","createResolver","parse","sorted","parseArrayData","parseObjectData","parsePrimitiveData","isNotInOrderComparedToPrev","labels","getLabels","singleScale","xAxisKey","yAxisKey","getParsed","getDataElement","updateRangeFromParsed","parsedValue","NaN","getMinMax","otherScale","otherMin","otherMax","_skip","getAllParsedValues","getMaxOverflow","getLabelAndValue","label","getLabelForValue","_clip","chartArea","resolveDatasetElementOptions","resolveDataElementOptions","_resolveElementOptions","elementType","sharing","datasetElementScopeKeys","resolveNamedOptions","freeze","_resolveAnimations","transition","datasetAnimationScopeKeys","getSharedOptions","includeOptions","sharedOptions","_animationsDisabled","_getSharedOptions","firstOpts","previouslySharedOptions","updateSharedOptions","updateElement","_setStyle","removeHoverStyle","setHoverStyle","_removeDatasetHoverStyle","_setDatasetHoverStyle","arg1","arg2","numMeta","numData","_insertElements","_removeElements","move","updateElements","removed","_sync","_dataChanges","_onDataPush","arguments","_onDataPop","_onDataShift","_onDataSplice","newCount","_onDataUnshift","getAllScaleValues","_cache","$bar","visibleMetas","concat","computeMinSampleSize","curr","_length","updateMinAndPrev","getPixelForTick","computeFitCategoryTraits","ruler","stackCount","thickness","barThickness","categoryPercentage","barPercentage","chunk","pixels","computeFlexCategoryTraits","percent","parseFloatBar","entry","startValue","endValue","barStart","barEnd","_custom","parseValue","parseArrayOrPrimitive","isFloatBar","custom","barSign","actualBase","isHorizontal","borderProps","horizontal","setBorderSkipped","edge","borderSkipped","enableBorderRadius","parseEdge","swap","startEnd","orig","v2","setInflateAmount","inflateAmount","BarController","grouped","_index_","_value_","iAxisKey","vAxisKey","super","bars","getBasePixel","_getRuler","vpixels","head","_calculateBarValuePixels","ipixels","_calculateBarIndexPixels","center","_getStacks","skipNull","_getStackCount","_getStackIndex","_startPixel","_endPixel","baseValue","minBarLength","floating","getDataVisibility","startPixel","getPixelForDecimal","endPixel","getValueForPixel","halfGrid","getLineWidthForValue","maxBarThickness","Infinity","stackIndex","rects","LineController","_dataset","_decimated","animated","maxGapLength","directUpdate","pointsCount","prevParsed","nullData","lastPoint","updateControlPoints","DateAdapterBase","members","init","formats","diff","startOf","endOf","adapters","_date","binarySearch","metaset","lookupMethod","_reversePixels","getRange","evaluateInteractionItems","position","handler","getSortedVisibleDatasetMetas","getDistanceMetricForAxis","useX","useY","deltaX","deltaY","getIntersectItems","useFinalPosition","isPointInArea","evaluationFunc","inRange","getNearestRadialItems","startAngle","endAngle","getProps","getNearestCartesianItems","distanceMetric","minDistance","getCenterPoint","pointInArea","getNearestItems","getAxisItems","rangeMethod","intersectsItem","Interaction","modes","nearest","STATIC_POSITIONS","filterByPosition","filterDynamicPositionByAxis","sortByWeight","wrapBoxes","boxes","layoutBoxes","stackWeight","buildStacks","layouts","wrap","placed","setLayoutDims","params","vBoxMaxWidth","hBoxMaxHeight","layout","fullSize","availableWidth","availableHeight","buildLayoutBoxes","centerHorizontal","centerVertical","leftAndTop","rightAndBottom","vertical","getCombinedMax","maxPadding","updateMaxPadding","boxPadding","updateDims","getPadding","newWidth","outerWidth","newHeight","outerHeight","widthChanged","heightChanged","same","other","handleMaxPadding","updatePos","getMargins","marginForPositions","fitBoxes","refitBoxes","refit","setBoxDims","placeBoxes","userPadding","addBox","_layers","z","removeBox","layoutItem","minPadding","verticalBoxes","horizontalBoxes","beforeLayout","visibleVerticalBoxCount","BasePlatform","acquireContext","releaseContext","isAttached","updateConfig","BasicPlatform","EXPANDO_KEY","EVENT_TYPES","touchstart","touchmove","touchend","pointerenter","pointerdown","pointermove","pointerup","pointerleave","pointerout","isNullOrEmpty","initCanvas","renderHeight","getAttribute","renderWidth","displayWidth","displayHeight","eventListenerOptions","addListener","removeListener","fromNativeEvent","native","nodeListContains","nodeList","contains","createAttachObserver","observer","MutationObserver","entries","trigger","addedNodes","removedNodes","observe","childList","subtree","createDetachObserver","drpListeningCharts","oldDevicePixelRatio","onWindowResize","dpr","listenDevicePixelRatioChanges","unlistenDevicePixelRatioChanges","createResizeObserver","ResizeObserver","contentRect","releaseObserver","disconnect","createProxyAndListen","DomPlatform","removeAttribute","setAttribute","proxies","$proxies","handlers","attach","detach","isConnected","_detectPlatform","OffscreenCanvas","Element","tooltipPosition","hasValue","final","tickOpts","determinedMaxTicks","determineMaxTicks","ticksLimit","maxTicksLimit","majorIndices","enabled","getMajorIndices","numMajorIndices","first","newTicks","skipMajors","spacing","calculateSpacing","avgMajorSpacing","_tickSize","maxScale","maxChart","_maxLength","evenMajorSpacing","getEvenSpacing","factors","ceil","majorStart","majorEnd","reverseAlign","offsetFromEdge","getTicksLimit","ticksLength","sample","numItems","increment","getPixelForGridLine","offsetGridLines","validIndex","lineValue","garbageCollect","caches","gcLen","getTickMarkLength","getTitleHeight","createScaleContext","createTickContext","titleAlign","titleArgs","titleX","titleY","positionAxisID","Scale","_margins","paddingTop","paddingBottom","paddingLeft","paddingRight","labelRotation","_range","_gridLineItems","_labelItems","_labelSizes","_longestTextCache","_userMax","_userMin","_suggestedMax","_suggestedMin","_ticksLength","_borderValue","_dataLimitsCached","suggestedMin","suggestedMax","metas","getTicks","xLabels","yLabels","getLabelItems","_computeLabelItems","beforeUpdate","sampleSize","beforeSetDimensions","setDimensions","afterSetDimensions","beforeDataLimits","determineDataLimits","afterDataLimits","beforeBuildTicks","buildTicks","afterBuildTicks","samplingEnabled","_convertTicksToLabels","beforeCalculateLabelRotation","calculateLabelRotation","afterCalculateLabelRotation","afterAutoSkip","beforeFit","fit","afterFit","afterUpdate","reversePixels","_alignToPixels","alignToPixels","_callHooks","notifyPlugins","beforeTickToLabelConversion","generateTickLabels","afterTickToLabelConversion","numTicks","maxLabelDiagonal","_isVisible","labelSizes","_getLabelSizes","maxLabelWidth","widest","maxLabelHeight","highest","asin","minSize","titleOpts","gridOpts","titleHeight","tickPadding","angleRadians","labelHeight","labelWidth","_calculatePadding","_handleMargins","isRotated","labelsBelowTicks","offsetLeft","offsetRight","isFullSize","_computeLabelSizes","widths","heights","jlen","tickFont","fontString","nestedLabel","widestLabelSize","highestLabelSize","_resolveTickFontOptions","valueAt","idx","decimal","getDecimalForPixel","getBaseValue","optionTicks","rot","_computeGridLineItems","tl","borderOpts","axisWidth","axisHalfWidth","alignBorderValue","borderValue","alignedLineValue","tx1","ty1","tx2","ty2","x1","y1","x2","y2","limit","step","optsAtIndex","optsAtIndexBorder","lineColor","tickBorderDash","tickBorderDashOffset","tickAndPadding","hTickAndPadding","lineCount","textOffset","_getXAxisLabelAlignment","_getYAxisLabelAlignment","halfCount","tickTextAlign","labelPadding","_computeLabelArea","drawBackground","findIndex","drawGrid","drawLine","setLineDash","lineDashOffset","drawBorder","lastLineWidth","drawLabels","renderTextOptions","drawTitle","tz","gz","bz","axisID","_maxDigits","fontSize","TypedRegistry","isForType","isPrototypeOf","register","parentScope","isIChartComponent","registerDefaults","unregister","itemDefaults","defaultRoutes","routeDefaults","routes","propertyParts","sourceName","sourceScope","Registry","controllers","_typedRegistries","_each","addControllers","addPlugins","addScales","getController","_get","getElement","getPlugin","getScale","removeControllers","removeElements","removePlugins","removeScales","typedRegistry","arg","reg","_getRegistryForType","_exec","itemReg","registry","component","camelMethod","PluginService","_init","notify","hook","_createDescriptors","descriptor","plugin","cancelable","invalidate","_oldCache","_notifyStateChanges","allPlugins","createDescriptors","previousDescriptors","some","localIds","getOpts","pluginOpts","pluginScopeKeys","getIndexAxis","datasetDefaults","datasetOptions","getAxisFromDefaultScaleID","getDefaultScaleIDFromAxis","idMatchesAxis","axisFromPosition","determineAxis","scaleOptions","getAxisFromDataset","retrieveAxisFromDatasets","boundDs","mergeScaleConfig","chartDefaults","configScales","chartIndexAxis","scaleConf","error","defaultId","defaultScaleOptions","defaultID","initOptions","initData","initConfig","keyCache","keysCached","cachedKeys","generate","addIfFound","Config","_config","_scopeCache","_resolverCache","clearCache","clear","datasetType","additionalOptionScopes","_cachedScopes","mainScope","resetCache","keyLists","chartOptionScopes","subPrefixes","getResolver","needContext","subResolver","resolverCache","hasFunction","version","KNOWN_POSITIONS","positionIsHorizontal","compare2Level","l1","l2","onAnimationsComplete","onComplete","onAnimationProgress","onProgress","getCanvas","getElementById","instances","getChart","moveNumericKeys","intKey","determineLastEvent","lastEvent","inChartArea","isClick","getSizeForArea","field","getDatasetArea","Chart","invalidatePlugins","userConfig","initialCanvas","existingChart","_options","_aspectRatio","_metasets","_lastEvent","_listeners","_responsiveListeners","_sortedMetasets","_plugins","_hiddenIndices","attached","_doResize","resizeDelay","_initialize","bindEvents","_resizeBeforeDraw","_resize","newSize","newRatio","onResize","render","ensureScalesHaveIDs","scalesOptions","axisOptions","buildOrUpdateScales","scaleOpts","updated","isRadial","dposition","dtype","scaleType","scaleClass","hasUpdated","_updateMetasets","_destroyDatasetMeta","_removeUnreferencedMetasets","buildOrUpdateControllers","newControllers","order","isDatasetVisible","ControllerClass","_resetElements","animsDisabled","_updateScales","_checkEventBindings","_updateHiddenIndices","_minPadding","_updateLayout","_updateDatasets","_eventHandler","_updateHoverStyles","existingEvents","newEvents","unbindEvents","changes","_getUniformDataChanges","datasetCount","makeSet","changeSet","noArea","_idx","_updateDataset","layers","_drawDatasets","_drawDataset","useClip","getElementsAtEventForMode","getVisibleDatasetCount","setDatasetVisibility","toggleDataVisibility","_updateVisibility","_stop","destroy","toBase64Image","toDataURL","bindUserEvents","bindResponsiveEvents","_add","_remove","detached","updateHoverStyle","getActiveElements","setActiveElements","activeElements","lastActive","pluginId","replay","hoverOptions","deactivated","activated","eventFilter","_handleEvent","_getActiveElements","setStyle","lineCap","lineJoin","getLineMethod","stepped","pathVars","paramsStart","paramsEnd","segmentStart","segmentEnd","outside","pathSegment","lineMethod","fastPathSegment","prevX","minY","maxY","lastY","avgX","countX","pointIndex","drawX","truncX","_getSegmentMethod","useFastPath","_getInterpolationMethod","strokePathWithCache","path","_path","Path2D","strokePathDirect","segmentMethod","usePath2D","LineElement","_points","_segments","_pointsUpdated","_interpolate","interpolated","inRange$1","hitRadius","PointElement","hoverBorderWidth","hoverRadius","mouseX","mouseY","inXRange","inYRange","getBarBounds","bar","half","skipOrLimit","parseBorderWidth","maxW","maxH","parseBorderRadius","borderRadius","maxR","enableBorder","boundingRects","outer","inner","skipX","skipY","skipBoth","hasRadius","addNormalRectPath","inflateRect","amount","refRect","BarElement","addRectPath","getBoxSize","labelOpts","boxHeight","boxWidth","usePointStyle","pointStyleWidth","itemHeight","itemsEqual","Legend","_added","legendHitBoxes","_hoveredItem","doughnutMode","legendItems","columnSizes","lineWidths","buildLabels","generateLabels","labelFont","_computeTitleHeight","_fitRows","_fitCols","hitboxes","totalHeight","row","legendItem","_itemHeight","heightLimit","totalWidth","currentColWidth","currentColHeight","col","calculateItemSize","adjustHitBoxes","rtlHelper","hitbox","_draw","defaultColor","halfFontSize","cursor","drawLegendBox","lineDash","drawOptions","SQRT2","centerX","centerY","yBoxTop","xBoxLeft","textDirection","fontColor","realX","fontLineHeight","calculateLegendItemHeight","titleFont","titlePadding","topPaddingPlusHalfFontSize","_getLegendItemAt","hitBox","lh","handleEvent","isListened","hoveredItem","sameItem","onLeave","calculateItemWidth","calculateItemHeight","legendItemText","plugin_legend","_element","_args","legend","afterEvent","ci","useBorderRadius","Title","_padding","textSize","_drawArgs","fontOpts","createTitle","titleBlock","plugin_title","WeakMap","positioners","average","xSet","xAverage","eventPosition","nearestElement","tp","pushOrConcat","toPush","splitNewlines","String","createTooltipItem","formattedValue","getTooltipSize","tooltip","body","footer","bodyFont","footerFont","titleLineCount","footerLineCount","bodyLineItemCount","combinedBodyLength","bodyItem","before","after","beforeBody","afterBody","titleSpacing","titleMarginBottom","bodyLineHeight","displayColors","bodySpacing","footerMarginTop","footerSpacing","widthPadding","maxLineWidth","determineYAlign","doesNotFitWithAlign","xAlign","caret","caretSize","caretPadding","determineXAlign","yAlign","chartWidth","determineAlignment","alignX","alignY","paddingAndSize","getBackgroundPoint","alignment","getAlignedX","getBeforeAfterBodyLines","createTooltipContext","tooltipItems","overrideCallbacks","defaultCallbacks","beforeTitle","labelCount","afterTitle","beforeLabel","tooltipItem","labelColor","labelTextColor","bodyColor","labelPointStyle","afterLabel","beforeFooter","afterFooter","invokeCallbackWithFallback","Tooltip","opacity","_eventPosition","_size","_cachedAnimations","_tooltipItems","dataPoints","caretX","caretY","labelColors","labelPointStyles","labelTextColors","getTitle","getBeforeBody","getBody","bodyItems","scoped","getAfterBody","getFooter","_createItems","itemSort","positionAndSize","backgroundPoint","external","drawCaret","tooltipPoint","caretPosition","getCaretPosition","x3","y3","ptX","ptY","titleColor","_drawColorBox","colorX","rtlColorX","yOffSet","colorY","multiKeyBackground","outerX","innerX","strokeRect","drawBody","bodyAlign","xLinePadding","fillLineOfText","bodyAlignForCalculation","textColor","drawFooter","footerAlign","footerColor","tooltipSize","quadraticCurveTo","_updateAnimationTarget","animX","animY","_willRender","hasTooltipContent","globalAlpha","positionChanged","_positionChanged","_ignoreReplayEvents","plugin_tooltip","afterInit","afterDraw","addIfString","addedLabels","unshift","findOrAddLabel","lastIndexOf","_getLabelForValue","CategoryScale","_startValue","_valueRange","_addedLabels","added","generateTicks$1","generationOptions","dataRange","MIN_SPACING","precision","maxTicks","maxDigits","includeBounds","unit","maxSpaces","rmin","rmax","countDefined","minSpacing","niceMin","niceMax","numSpaces","decimalPlaces","relativeLabelSize","LinearScaleBase","_endValue","handleTickRangeOptions","setMin","setMax","minSign","maxSign","getTickLimit","stepSize","computeTickLimit","numericGeneratorOptions","LinearScale","INTERVALS","millisecond","common","steps","second","minute","hour","day","week","month","quarter","year","UNITS","sorter","adapter","_adapter","parser","isoWeekday","_parseOpts","determineUnitForAutoTicks","minUnit","capacity","interval","MAX_SAFE_INTEGER","determineUnitForFormatting","determineMajorUnit","addTick","time","timestamps","timestamp","setMajorTicks","majorUnit","ticksFromTimestamps","TimeScale","displayFormats","_unit","_majorUnit","_offsets","_normalized","normalized","_applyBounds","_getLabelBounds","getLabelTimestamps","timeOpts","_generate","_getLabelCapacity","initOffsets","offsetAfterAutoskip","getDecimalForValue","weekday","hasWeekday","getDataTimestamps","tooltipFormat","datetime","fmt","_tickFormatFunction","minorFormat","majorFormat","offsets","_getLabelSize","ticksOpts","tickLabelWidth","cosRotation","sinRotation","tickFontSize","exampleTime","exampleLabel","CommonProps","required","default","datasetIdKey","updateMode","A11yProps","ariaLabel","ariaDescribedby","Props","compatProps","internals","attrs","toRawIfProxy","cloneProxy","src","setOptions","nextOptions","setLabels","currentData","nextLabels","setDatasets","nextDatasets","addedDatasets","nextDataset","currentDataset","find","cloneData","nextData","setup","param","expose","slots","canvasRef","chartRef","renderChart","clonedData","proxiedData","destroyChart","param1","nextOptionsProxy","nextDataProxy","prevOptionsProxy","prevDataProxy","shouldUpdate","prevOptions","prevLabels","prevDatasets","deep","role","ref","createTypedChart","registerables","reforwardRef","Bar","Line","ChartJS","components","_component_FullCalendar","calendarOptions","u","removeChild","children","defaultProps","__k","__","__b","__e","__d","__c","__h","__v","vnode","_","test","cssText","$","__r","debounceRendering","__P","__n","ownerSVGElement","nextSibling","q","appendChild","insertBefore","contextType","__E","state","_sb","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","diffed","localName","nodeType","createTextNode","createElementNS","createElement","is","childNodes","dangerouslySetInnerHTML","attributes","__html","innerHTML","checked","unmount","componentWillUnmount","firstChild","Consumer","Provider","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","bind","__H","__N","__V","cancelAnimationFrame","isPureReactComponent","__f","for","__u","__a","__R","__O","revealOrder","containerInfo","isReactComponent","cancelBubble","defaultPrevented","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","nn","tn","multiple","selected","className","$$typeof","en","styleTexts","styleEls","injectStyles","styleText","styleEl","appendStylesTo","ensureElHasStyles","getRootNode","registerStylesRoot","rootNode","querySelector","nonce","getNonceValue","parentEl","hydrateStylesRoot","sheet","ruleCnt","cssRules","styleStr","trim","insertRule","queriedNonceValue","queryNonceValue","metaWithNonce","hasAttribute","elWithNonce","css_248z","DelayedRunner","drainedOption","isRunning","isDirty","pauseDepths","timeoutId","request","isPaused","tryDrain","pause","resume","force","depth","drained","removeElement","elementClosest","selector","closest","documentElement","elementMatches","parentElement","matchesSelector","msMatchesSelector","findElements","containers","HTMLElement","allMatches","querySelectorAll","PIXEL_PROP_RE","applyStyle","propName","applyStyleProp","getEventTargetViaRoot","ev","_a","_b","composedPath","guid$1","getUniqueDomId","buildDelegationHandler","matchedChild","listenBySelector","eventType","attachedHandler","listenToHoverBySelector","onMouseEnter","onMouseLeave","currentMatchedChild","mouseOverEv","realOnMouseLeave","mouseLeaveEv","createAriaClickAttrs","createAriaKeyboardAttrs","tabIndex","onKeyDown","preventDefault","guidNumber","guid","parseFieldSpecs","token","specs","tokens","substring","func","compareByFieldSpecs","obj0","obj1","fieldSpecs","compareByFieldSpec","fieldSpec","flexibleCompare","localeCompare","padStart","substr","formatWithOrdinals","fallbackText","isInt","computeSmallestCellWidth","cellEl","allWidthEl","contentWidthEl","PARSE_RE","createDuration","parseString","parseObject","years","months","days","milliseconds","hours","minutes","seconds","ms","weeks","specifiedWeeks","durationsEqual","d0","d1","subtractDurations","asRoughYears","dur","asRoughDays","asRoughMonths","asRoughMs","greatestDurationDenominator","isArraysEqual","equalityFunc","DAY_IDS","addWeeks","dateToUtcArray","arrayToUtcDate","addDays","addMs","diffWeeks","m0","m1","diffDays","valueOf","diffHours","diffMinutes","diffSeconds","diffDayAndTime","m0day","startOfDay","m1day","diffWholeWeeks","diffWholeDays","timeAsMs","getUTCFullYear","getUTCMonth","getUTCDate","startOfHour","getUTCHours","startOfMinute","getUTCMinutes","startOfSecond","getUTCSeconds","weekOfYear","marker","dow","doy","weekOfGivenYear","nextW","firstWeekStart","firstWeekOffset","dayStart","fwd","fwdlw","getUTCDay","dateToLocalArray","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","arrayToLocalDate","getUTCMilliseconds","UTC","isValidDate","buildIsoString","timeZoneOffset","stripZeroTime","toISOString","formatTimeZoneOffset","formatDayString","formatIsoMonthStr","doIso","mins","memoize","workerFunc","resEquality","teardownFunc","currentArgs","currentRes","newArgs","memoizeObjArg","currentArg","newArg","isPropsEqual","EXTENDED_SETTINGS_AND_SEVERITIES","separator","omitZeroMinute","meridiem","omitCommas","STANDARD_DATE_PROP_SEVERITIES","timeZoneName","era","MERIDIEM_RE","COMMA_RE","MULTI_SPACE_RE","LTR_RE","UTC_RE","NativeFormatter","formatSettings","standardDateProps","extendedSettings","severity","buildFormattingFunc","formatRange","betterDefaultSeparator","diffSeverity","computeMarkerDiffSeverity","calendarSystem","biggestUnitForPartial","full0","full1","partialDateProps","computePartialFormattingOptions","partialFormattingFunc","partial0","partial1","insertion","findCommonInsertion","defaultSeparator","getLargestUnit","standardDatePropCnt","formatWeekNumber","computeWeekNumber","weekText","weekTextLong","buildNativeFormattingFunc","sanitizeSettings","timeZone","zeroFormat","normalFormat","DateTimeFormat","codes","zeroProps","postProcess","injectTzoStr","toLocaleLowerCase","tzoStr","replaced","simpleNumberFormat","ca","getMarkerYear","getMarkerMonth","getMarkerDay","biggestUnit","partialOptions","i0","found0","before0","after0","i1","found1","before1","after1","expandZonedMarker","dateInfo","markerToArray","createVerboseFormattingArg","startInfo","endInfo","localeCodes","CmdFormatter","cmdStr","cmdFormatter","FuncFormatter","BASE_OPTION_REFINERS","navLinkDayClick","identity","navLinkWeekClick","bootstrapFontAwesome","buttonIcons","customButtons","defaultAllDayEventDuration","defaultTimedEventDuration","nextDayThreshold","scrollTime","scrollTimeReset","Boolean","slotMinTime","slotMaxTime","dayPopoverFormat","slotDuration","snapDuration","headerToolbar","footerToolbar","defaultRangeSeparator","titleRangeSeparator","forceEventDuration","dayHeaders","dayHeaderFormat","dayHeaderClassNames","dayHeaderContent","dayHeaderDidMount","dayHeaderWillUnmount","dayCellClassNames","dayCellContent","dayCellDidMount","dayCellWillUnmount","initialView","weekends","weekNumberCalculation","weekNumbers","weekNumberClassNames","weekNumberContent","weekNumberDidMount","weekNumberWillUnmount","editable","viewClassNames","viewDidMount","viewWillUnmount","nowIndicator","nowIndicatorClassNames","nowIndicatorContent","nowIndicatorDidMount","nowIndicatorWillUnmount","showNonCurrentDates","lazyFetching","startParam","endParam","timeZoneParam","locales","themeSystem","dragRevertDuration","dragScroll","allDayMaintainDuration","unselectAuto","dropAccept","eventOrder","eventOrderStrict","handleWindowResize","windowResizeDelay","longPressDelay","eventDragMinDistance","expandRows","contentHeight","weekNumberFormat","eventResizableFromStart","displayEventTime","displayEventEnd","progressiveEventRendering","businessHours","initialDate","eventDataTransform","stickyHeaderDates","stickyFooterScrollbar","viewHeight","defaultAllDay","eventSourceFailure","eventSourceSuccess","eventDisplay","eventStartEditable","eventDurationEditable","eventOverlap","eventConstraint","eventAllow","eventBackgroundColor","eventBorderColor","eventTextColor","eventColor","eventClassNames","eventContent","eventDidMount","eventWillUnmount","selectConstraint","selectOverlap","selectAllow","droppable","unselectCancel","slotLabelFormat","slotLaneClassNames","slotLaneContent","slotLaneDidMount","slotLaneWillUnmount","slotLabelClassNames","slotLabelContent","slotLabelDidMount","slotLabelWillUnmount","dayMaxEvents","dayMaxEventRows","dayMinWidth","slotLabelInterval","allDayText","allDayClassNames","allDayContent","allDayDidMount","allDayWillUnmount","slotMinWidth","navLinks","eventTimeFormat","rerenderDelay","moreLinkText","moreLinkHint","selectMinDistance","selectable","selectLongPressDelay","eventLongPressDelay","selectMirror","eventMaxStack","eventMinHeight","eventMinWidth","eventShortHeight","slotEventOverlap","firstDay","dayCount","dateAlignment","dateIncrement","hiddenDays","fixedWeekCount","validRange","visibleRange","titleFormat","eventInteractive","noEventsText","viewHint","navLinkHint","closeHint","timeHint","eventHint","moreLinkClick","moreLinkClassNames","moreLinkContent","moreLinkDidMount","moreLinkWillUnmount","monthStartFormat","handleCustomRendering","customRenderingMetaMap","customRenderingReplaces","CALENDAR_LISTENER_REFINERS","datesSet","eventsSet","eventAdd","eventChange","eventRemove","windowResize","eventClick","eventMouseEnter","eventMouseLeave","select","unselect","loading","_unmount","_beforeprint","_afterprint","_noEventDrop","_noEventResize","_scrollRequest","CALENDAR_OPTION_REFINERS","buttonText","buttonHints","views","initialEvents","eventSources","COMPLEX_OPTION_COMPARATORS","isMaybeObjectsEqual","isMaybeArraysEqual","VIEW_OPTION_REFINERS","buttonTextKey","dateProfileGeneratorClass","usesMinMaxTime","classNames","content","didMount","willUnmount","mergeRawOptions","optionSets","mergeProps","refineProps","refiners","refined","extra","propObjs","complexPropsMap","dest","complexObjs","filterHash","hash","filtered","mapHash","newHash","arrayToHash","hashValuesToArray","HANDLER_RE","isNonHandlerPropsEqual","getUnequalProps","compareObjs","oldProps","newProps","equalityFuncs","isObjValsEqual","val0","val1","comparator","collectFromHash","startIndex","endIndex","calendarSystemClassMap","registerCalendarSystem","theClass","createCalendarSystem","GregorianCalendarSystem","arrayToMarker","ISO_RE","isTimeUnspecified","settings","isNamedTimeZone","namedTimeZoneImpl","canComputeOffset","weekDow","weekDoy","weekNumberFunc","createMarker","createMarkerMeta","createNowMarker","timestampToMarker","forcedTzo","getYear","getDay","subtract","addYears","addMonths","diffWholeYears","diffWholeMonths","greatestWholeUnit","countDurationsBetween","startOfYear","startOfMonth","startOfWeek","toDate","dateOptions","offsetForMarker","isEndExclusive","forcedStartTzo","forcedEndTzo","formatIso","extraOptions","omitTimeZoneOffset","omitTime","timestampToArray","getTimezoneOffset","offsetForArray","Theme","iconOverrideOption","setIconOverride","iconOverrideHash","iconClassesCopy","buttonName","iconClasses","applyIconOverridePrefix","iconOverridePrefix","getClass","classes","getIconClass","isRtl","rtlIconClasses","baseIconClass","getCustomButtonIconClass","customButtonProps","iconOverrideCustomButtonOption","flushSync","runBeforeFlush","oldDebounceRendering","callbackQ","execCallbackSync","FakeComponent","ContextType","origProvider","isNew","subs","_props","old","ScrollResponder","execFunc","emitter","handleScrollRequest","queuedRequest","drain","on","fireInitialScroll","off","isDatesNew","ViewContextType","buildViewContext","viewSpec","viewApi","viewOptions","dateProfileGenerator","dateEnv","theme","pluginHooks","dispatch","getCurrentData","calendarApi","registerInteractiveComponent","unregisterInteractiveComponent","addResizeHandler","removeResizeHandler","createScrollResponder","PureComponent","nextProps","nextState","debug","log","propEquality","stateEquality","safeSetState","newState","addPropsEquality","addStateEquality","BaseComponent","setRef","ContentInjector","queuedDomNodes","currentDomNodes","handleEl","generatorName","hasCustomRenderingHandler","updateElRef","elRef","customGenerator","defaultGenerator","renderProps","buildElAttrs","innerContent","currentGeneratorMeta","useDefault","customGeneratorRes","html","domNodes","elTag","applyQueueudDomNodes","triggerCustomRendering","isActive","generatorMeta","containerEl","reportNewContainerEl","elClasses","isTruthy","newNode","extraClassNames","elAttrs","elStyle","RenderId","ContentContainer","InnerContent","InnerContentInjector","didMountMisfire","generatedClassNames","generateClassNames","classNameGenerator","renderId","containerComponent","parentProps","ViewContainer","view","buildViewClassNames","parseRange","invertRanges","ranges","constraintRange","dateRange","invertedRanges","compareRanges","range0","range1","intersectRanges","newRange","rangesIntersect","rangeContainsMarker","constrainMarkerToRange","computeAlignedDayRange","timedRange","dayCnt","computeVisibleDayRange","startDay","endDay","endTimeMS","diffDates","date0","date1","largeUnit","reduceCurrentDate","currentDate","action","dateMarker","getInitialDate","initialDateInput","getNow","nowInput","DateProfileGenerator","nowDate","initHiddenDays","buildPrev","currentDateProfile","forceToValid","prevDate","currentRangeUnit","build","buildNext","nextDate","currentInfo","isRangeAllDay","renderRange","activeRange","isValid","buildValidRange","trimHiddenDays","buildCurrentRangeInfo","buildRenderRange","adjustActiveRange","currentRange","buildDateIncrement","validRangeInput","simpleInput","refineRange","durationUnit","buildRangeFromDuration","buildRangeFromDayCount","buildCustomVisibleRange","getFallbackDuration","computeRes","isHiddenDay","skipHiddenDays","runningCount","visibleRangeInput","customAlignment","rangeInput","isHiddenDayHash","inc","isExclusive","createEventInstance","defId","instanceId","parseRecurring","recurringTypes","allDay","allDayGuess","typeData","typeId","expandRecurring","eventStore","framingRange","defs","instance","recurringDef","def","starts","expandRecurringRanges","eventDef","typeDef","markers","expand","EVENT_NON_DATE_REFINERS","groupId","url","interactive","EVENT_DATE_REFINERS","EVENT_REFINERS","extendedProps","parseEvent","eventSource","allowOpenRange","buildEventRefiners","defIdMap","instanceIdMap","refineEventDef","computeIsDefaultAllDay","recurringRes","parseEventDef","sourceId","singleRes","parseSingle","hasEnd","publicId","EVENT_UI_REFINERS","eventRefiners","ui","createEventUi","memberAdder","eventDefMemberAdders","startMeta","endMeta","startMarker","endMarker","startInput","parseEvents","rawEvents","createEmptyEventStore","rawEvent","tuple","eventTupleToStore","getRelevantEvents","newStore","filterEventStoreDefs","lookDef","isEventDefsGrouped","def0","def1","mergeEventStores","store0","store1","filterFunc","excludeSubEventStore","master","filteredDefs","filteredInstances","normalizeConstraint","parseClassNames","startEditable","durationEditable","constraint","overlap","allow","EMPTY_EVENT_UI","constraints","allows","combineEventUis","uis","combineTwoEventUis","item0","item1","EVENT_SOURCE_REFINERS","success","failure","parseEventSource","buildEventSourceRefiners","rawObj","metaRes","buildEventSourceMeta","_raw","isFetching","latestFetchId","fetchRange","sourceDefId","eventSourceRefiners","eventSourceDefs","parseMeta","reduceEventStore","dateProfile","receiveRawEvents","fetchId","resetRawEvents","addEvent","excludeEventsBySourceId","subset","transformRawEvents","existingEventStore","buildPublicIdMaps","newEventStore","calEachTransform","sourceEachTransform","transformEachRawEvent","refinedEvents","refinedEvent","expandRange","rezoneEventStoreDates","oldDateEnv","newDateEnv","Emitter","thisContext","setThisContext","addToHash","removeFromHash","attachedHandlers","optionHandler","hasHandlers","DEF_DEFAULTS","startTime","endTime","daysOfWeek","parseBusinessHours","refineInputs","rawDefs","rawDef","triggerDateSelect","selection","pev","buildDateSpanApiWithContext","jsEvent","origEvent","triggerDateUnselect","dateSpan","transform","dateSpanTransforms","buildDateSpanApi","getDefaultEventEnd","applyMutationToEventStore","eventConfigBase","mutation","eventConfigs","compileEventUis","applyMutationToEventDef","applyMutationToEventInstance","eventConfig","standardProps","startDelta","endDelta","copy","applier","eventDefMutationAppliers","eventInstance","forceAllDay","clearEnd","datesDelta","EventSourceImpl","internalEventSource","refetch","sourceIds","isRefetch","EventImpl","_def","_instance","setProp","mutate","setExtendedProp","setStart","instanceRange","granularity","maintainDuration","setEnd","endInput","setDates","moveStart","deltaInput","moveEnd","moveDates","setAllDay","formatInput","relevantEvents","oldEvent","relatedEvents","buildEventApis","revert","asStore","eventApiToStore","startStr","endStr","toPlainObject","collapseColor","collapseExtendedProps","toJSON","eventApi","excludeInstance","eventApis","excludeInstanceId","eventUiBases","inverseBgByGroupId","inverseBgByDefId","defByGroupId","bgRanges","fgRanges","eventUis","origRange","normalRange","slicedRange","isStart","isEnd","invertedRange","bg","fg","setElSeg","seg","fcSeg","getElSeg","eventDefs","compileEventUi","sortEventSegs","segs","eventOrderSpecs","objs","buildSegCompareObj","_seg","eventRange","computeSegDraggable","transformers","isDraggableTransformers","transformer","computeSegStartResizable","computeSegEndResizable","buildSegTimeText","timeFormat","defaultDisplayEventTime","defaultDisplayEventEnd","startOverride","endOverride","wholeEventStart","wholeEventEnd","segStart","segEnd","isStartDay","isEndDay","getSegMeta","todayRange","segRange","isPast","isFuture","isToday","getEventClassNames","isMirror","isDraggable","isStartResizable","isEndResizable","isDragging","isResizing","isSelected","buildEventRangeKey","getSegAnchorAttrs","href","STANDARD_PROPS","parseDateSpan","defaultDuration","span","parseOpenDateSpan","buildRangeApi","buildRangeApiWithTimeZone","fabricateEventRange","unpromisify","normalizedSuccessCallback","normalizedFailureCallback","isResolved","wrappedSuccess","wrappedFailure","JsonRequestError","message","response","requestJson","fetchOptions","URLSearchParams","headers","fetch","fetchRes","json","parsedResponse","canVGrowWithinCell","getCanVGrowWithinCell","computeCanVGrowWithinCell","div","possible","offsetHeight","CalendarRoot","forPrint","handleBeforePrint","handleAfterPrint","isHeightAuto","isHitComboAllowed","parseInteractionSettings","useEventCenter","interactionSettingsStore","CalendarImpl","currentDataManager","batchRendering","updateSize","setOption","optionName","rawOptionValue","getOption","currentCalendarOptionsInput","getAvailableLocaleCodes","availableRawLocales","handlerName","currentCalendarOptionsRefiners","changeView","viewType","dateOrRange","zoomTo","spec","viewSpecs","getUnitViewSpec","toolbarConfig","viewTypes","header","viewsWithButtons","singleUnit","prevYear","nextYear","today","gotoDate","zonedDateInput","incrementDate","formatDate","dateOrObj","endDate","selectionInput","dateSelection","eventInput","sourceInput","triggerEventAdd","sourceApi","getEventSourceById","newEventApi","getEventById","getEvents","removeAllEvents","getEventSources","sourceHash","sourceApis","internalId","addEventSource","removeAllEventSources","refetchEvents","scrollToTime","timeInput","intersectRects","rect1","rect2","getDateMeta","isDisabled","isOther","getDayClassNames","DAY_FORMAT","WEEK_FORMAT","buildNavLinkAttrs","isTabbable","dateStr","zonedDate","handleInteraction","customAction","_scrollbarWidths","getScrollbarWidths","computeScrollbarWidths","overflow","computeScrollbarWidthsForEl","offsetWidth","computeClippedClientRect","clippingParents","getClippingParents","clippingParent","intersection","parents","computedStyle","overflowY","overflowX","PositionCache","originEl","els","isVertical","originClientRect","buildElHorizontals","buildElVerticals","originClientLeft","lefts","rights","originClientTop","tops","bottoms","leftToIndex","leftPosition","topToIndex","topPosition","getWidth","leftIndex","getHeight","topIndex","similarTo","otherCache","similarNumArrays","DateComponent","prepareHits","queryHit","positionLeft","positionTop","elWidth","elHeight","isValidSegDownEl","eventDrag","eventResize","isValidDateDownEl","SegHierarchy","getEntryThickness","strictOrder","allowReslicing","maxCoord","maxStackCnt","levelCoords","entriesByLevel","stackCnts","addSegs","hiddenEntries","insertEntry","findInsertion","isInsertionValid","insertEntryAt","handleInvalidInsertion","levelCoord","stackCnt","touchingEntry","hiddenEntry","intersectSpans","splitEntry","barrier","entrySpan","barrierSpan","lateral","insertAt","level","buildEntryKey","newEntry","levelCnt","candidateCoord","touchingLevel","touchingLateral","trackingLevel","trackingCoord","trackingEntry","trackingEntries","searchRes","getEntrySpanEnd","lateralIndex","trackingEntryBottom","destLevel","destLateral","toRects","span0","span1","searchVal","getItemVal","middleIndex","middleVal","computeFallbackHeaderFormat","datesRepDistinctDays","CLASS_NAME","renderInner$1","TableDateCell","dayMeta","navLinkAttrs","colCnt","extraRenderProps","colSpan","extraDataAttrs","InnerContainer","isSticky","WEEKDAY_FORMAT","TableDowCell","dateMeta","NowTimer","initialNowDate","initialNowQueriedMs","computeTiming","currentState","prevProps","unroundedNow","currentUnitStart","nextUnitStart","waitMs","buildDayRange","DayHeader","createDayHeaderFormatter","dates","renderIntro","explicitFormat","dateCnt","DaySeriesModel","indices","dayIndex","cnt","sliceRange","firstIndex","getDateDayIndex","lastIndex","clippedFirstIndex","clippedLastIndex","dayOffset","DayTableModel","daySeries","breakOnWeeks","daysPerRow","rowCnt","cells","buildCells","headerDates","buildHeaderDates","rows","buildCell","seriesSeg","nextIndex","firstCol","lastCol","Slicer","sliceBusinessHours","_sliceBusinessHours","sliceDateSelection","_sliceDateSpan","sliceEventStore","_sliceEventStore","sliceEventDrag","_sliceInteraction","sliceEventResize","forceDayIfListItem","sliceProps","extraArgs","eventSegs","dateSelectionSegs","businessHourSegs","fgEventSegs","bgEventSegs","eventSelection","sliceNowDate","computeActiveRange","rangeRes","sliceEventRanges","mutatedEvents","affectedInstances","affectedEvents","isEvent","activeDateSpanRange","eventRanges","sliceEventRange","isComponentAllDay","VISIBLE_HIDDEN_RE","Scroller","liquid","liquidIsAbsolute","isAbsolute","overcomeLeft","overcomeRight","overcomeBottom","marginLeft","marginRight","marginBottom","needsXScrolling","realClientWidth","getYScrollbarWidth","childEl","needsYScrolling","realClientHeight","getXScrollbarWidth","RefMap","masterCallback","currentMap","depths","callbackMap","handleValue","createRef","refCallback","collect","getAll","computeShrinkWidth","chunkEls","shrinkCells","largestWidth","shrinkCell","getSectionHasLiquidHeight","sectionConfig","getAllowYScrolling","renderChunkContent","chunkConfig","isHeader","tableClassName","syncRowHeights","minWidth","tableMinWidth","tableColGroupNode","rowContent","isColPropsEqual","cols0","cols1","renderMicroColGroup","cols","shrinkWidth","colNodes","colProps","sanitizeShrinkWidth","hasShrinkWidth","getScrollGridClassNames","getSectionClassNames","wholeTableVGrow","renderScrollShim","getStickyHeaderDates","getStickyFooterScrollbar","SimpleScrollGrid","processCols","scrollerRefs","scrollerElRefs","_handleScrollerEl","forceYScrollbars","scrollerClientWidths","scrollerClientHeights","handleSizing","computeScrollerDims","sectionConfigs","sections","microColGroupNode","collapsibleWidth","currentConfig","configCnt","configI","headSectionNodes","bodySectionNodes","footSectionNodes","renderSection","isBuggy","roleAttrs","outerContent","renderChunkTd","isLiquid","sectionKey","rowSyncHeights","reportRowHeightChange","scrollerEl","section","getSectionByKey","scrollerElRef","scrollbarWidth","scroller","harnessEl","EventContainer","timeText","disableDragging","disableResizing","isDateSelecting","StandardEvent","defaultTimeFormat","renderInnerContent$1","eventContentArg","innerProps","DAY_NUM_FORMAT","DayCellContainer","refineRenderProps","isMonthStart","showDayNumber","hasCustomDayCellContent","dayNumberText","BgEvent","renderInnerContent","renderFill","fillType","WeekNumberContainer","defaultFormat","renderInner","PADDING_FROM_VIEWPORT","Popover","titleId","handleRootEl","rootEl","handleDocumentMouseDown","handleCloseClick","handleDocumentKeyDown","onClose","extraAttrs","alignmentEl","alignGridTop","alignmentRect","popoverDims","popoverTop","popoverLeft","origin","offsetParent","MorePopover","startDate","forceTimed","extraDateSpan","dayEl","layer","MoreLinkContainer","isPopoverOpen","popoverId","handleLinkEl","linkEl","handleClick","computeRange","buildPublicSeg","allDayDate","allSegs","hiddenSegs","handlePopoverClose","moreCnt","hint","shortText","renderMoreLinkInner","alignmentElRef","popoverContent","updateParentEl","computeEarliestSegStart","computeLatestSegEnd","pickEarliestStart","seg0","seg1","pickLatestEnd","Store","subscribe","CustomRenderingStore","handle","customRendering","globalLocales","MINIMAL_RAW_EN_LOCALE","code","list","RAW_EN_LOCALE","eventCnt","organizeRawLocales","explicitRawLocales","defaultCode","allRawLocales","rawLocaleMap","rawLocale","buildLocale","inputSingular","available","queryLocale","parseLocale","codeArg","queryRawLocale","simpleId","merged","createPlugin","premiumReleaseDate","deps","reducers","isLoadingFuncs","contextInit","eventDragMutationMassagers","dateSelectionTransformers","datePointTransforms","viewPropsTransformers","isPropsValid","externalDefTransforms","viewContainerAppends","eventDropTransformers","componentInteractions","calendarInteractions","themeClasses","namedTimeZonedImpl","elementDraggingImpl","optionChangeHandlers","scrollGridImpl","listenerRefiners","optionRefiners","propSetHandlers","buildPluginHooks","pluginDefs","globalDefs","currentPluginIds","hooks","addDefs","pluginName","currentId","combineHooks","buildBuildPluginHooks","currentHooks","currentOverrideDefs","currentGlobalDefs","overrideDefs","hooks0","hooks1","compareOptionalDates","StandardTheme","compileViewDefs","defaultConfigs","overrideConfigs","ensureViewDef","viewDef","buildViewDef","defaultConfig","overrideConfig","queryProp","theComponent","superType","superDef","rawOptions","parseViewConfigs","parseViewConfig","createViewHookComponent","viewProps","buildViewSpecs","defaultInputs","optionOverrides","dynamicOptionOverrides","localeDefaults","viewDefs","buildViewSpec","durationInput","singleUnitOverrides","createDurationCached","denom","queryButtonText","optionsSubset","buttonTextMap","queryButtonTitle","buttonKey","optionDefaults","buttonTextOverride","buttonTextDefault","buttonTitleOverride","buttonHint","buttonTitleDefault","tableCellShaded","buttonGroup","button","buttonActive","close","durationInputMap","reduceViewType","reduceDynamicOptionOverrides","reduceDateProfile","dp","initEventSources","addSources","parseInitialSources","reduceEventSources","removeSource","fetchDirtySources","fetchSourcesByIds","excludeStaticSources","receiveResponse","reduceEventSourcesNewTimeZone","computeEventSourcesLoading","eventSourceHash","isSourceDirty","doesSourceNeedRange","prevSources","sourceIdHash","nextSources","fetchSource","sourceDef","errorHandled","rawSources","rawSource","ignoreRange","reduceDateSelection","currentSelection","reduceSelectedEvent","currentInstanceId","eventInstanceId","reduceEventDrag","currentDrag","newDrag","reduceEventResize","currentResize","newResize","parseToolbars","calendarOptionOverrides","parseToolbar","sectionStrHash","sectionWidgets","hasTitle","sectionName","sectionStr","sectionRes","parseSection","widgets","calendarCustomButtons","calendarButtonTextOverrides","calendarButtonText","calendarButtonHintOverrides","calendarButtonHints","sectionSubstrs","buttonGroupStr","buttonClick","buttonIcon","click","textFallback","prevOrNext","navUnit","ViewImpl","calendar","viewTitle","activeStart","activeEnd","currentStart","currentEnd","eventSourceDef$2","successCallback","arrayEventSourcePlugin","eventSourceDef$1","errorCallback","funcEventSourcePlugin","JSON_FEED_EVENT_SOURCE_REFINERS","extraParams","eventSourceDef","requestParams","buildRequestParams","jsonFeedEventSourcePlugin","customRequestParams","SIMPLE_RECURRING_REFINERS","startRecur","endRecur","recurring","recurringData","clippedFramingRange","expandRanges","simpleRecurringEventsPlugin","dowHash","dayMarker","instanceStarts","instanceStart","changeHandlerPlugin","handleEventSources","unfoundSources","newInputs","inputFound","unfoundSource","newInput","handleDateProfile","handleEventStore","globalPlugins","TaskRunner","runTaskOption","queue","delayedRunner","task","completedTasks","runTask","buildTitle","buildTitleFormat","CalendarDataManager","computeCurrentViewData","_computeCurrentViewData","buildDateEnv","buildDateEnv$1","buildTheme","buildDateProfileGenerator","buildViewApi","buildViewUiProps","buildEventUiBySource","buildEventUiBases","parseContextBusinessHours","actionRunner","_handleAction","updateData","currentCalendarOptionsRefined","currentViewOptionsInput","currentViewOptionsRefined","optionsForRefining","optionsForHandling","optionsData","computeOptionsData","currentViewType","currentViewData","calendarContext","initialState","renderableEventStore","selectionConfig","contextAndState","reducer","computeIsLoading","resetOptions","changedOptionNames","isEventsLoading","eventUiSingleBase","eventUiBySource","wasLoading","isLoading","onAction","oldData","changeHandlers","oldCalendarOptions","newCalendarOptions","onData","stableOptionOverrides","stableDynamicOptionOverrides","stableCalendarOptionsData","refinedOptions","availableLocaleData","processRawCalendarOptions","warnUnknownOptions","currentRaw","currentRefined","anyChanges","processRawViewOptions","explicitLocale","ThemeClass","DateProfileGeneratorClass","isLoadingFunc","viewName","ToolbarSection","widgetGroups","widgetGroup","renderWidgetGroup","isOnlyButtons","widget","isPressed","activeButton","isTodayEnabled","isPrevEnabled","isNextEnabled","buttonClasses","groupClassName","Toolbar","startContent","endContent","model","extraClassName","forceLtr","centerContent","ViewHarness","updateAvailableWidth","handleResize","labeledById","EventClicking","handleSegClick","segEl","hasUrlContainer","location","EventHovering","handleEventElRemove","currentSegEl","handleSegLeave","handleSegEnter","triggerEvent","removeHoverListeners","publicEvName","CalendarContent","buildViewPropTransformers","buildToolbarProps","headerRef","footerRef","interactionsStore","viewLabelId","settingsInput","DEFAULT_INTERACTIONS","interactionClasses","interactions","TheInteractionClass","resizeRunner","viewAspectRatio","toolbarProps","viewVGrow","viewContext","renderView","buildAppendContent","CalendarInteractionClass","ViewComponent","todayInfo","prevInfo","nextInfo","theClasses","TheClass","Calendar","isRendering","isRendered","currentClassNames","customContentRenderId","handleAction","renderRunner","handleData","handleRenderRequest","setClassNames","setHeight","wasRendering","pauseRendering","resumeRendering","classList","OPTION_IS_COMPLEX","resources","FullCalendar","customRenderingMap","methods","getApi","getSecret","buildOptions","suppliedOptions","kebabToCamelKeys","$slots","customRenderingNodes","CustomRenderingComponent","mounted","customRenderingStore","$el","needCustomRenderingResize","beforeUnmount","buildWatchers","inst","watchers","complexOptionName","newMap","kebabToCamel","word","capitalize","TableView","headerElRef","renderSimpleLayout","headerRowContent","bodyContent","renderHScrollLayout","ScrollGrid","chunks","colGroups","splitSegsByRow","byRow","splitSegsByFirstCol","byCol","splitInteractionByRow","DEFAULT_TABLE_EVENT_TIME_FORMAT","hasListItemDisplay","TableBlockEvent","TableListItemEvent","TableCellMoreLink","compileSegs","invisibleSegs","singlePlacements","isForcedInvisible","visibility","placement","isVisible","DEFAULT_WEEK_NUM_FORMAT","TableCell","rootElRef","dayNumberId","shouldDisplayMonthStart","renderTopInner","innerElRef","minHeight","showWeekNumber","forceDayTop","fgContentElRef","fgContent","marginTop","moreMarginTop","bgContent","currentEndIncl","currentFirstYear","currentFirstMonth","currentLastYear","currentLastMonth","generateSegKey","generateSegUid","computeFgSegPlacement","segHeights","maxContentHeight","hierarchy","DayGridSegHierarchy","segEntry","segUid","hiddenConsumes","segInputs","unknownHeightSegs","eventHeight","segRects","singleColPlacements","multiColPlacements","leftoverMargins","placeRects","moreCnts","moreMarginTops","absoluteTop","resliceSeg","hiddenSpan","allRects","rectsByEachCol","groupRectsByEachCol","currentHeight","currentMarginTop","multiPlacements","isFirstCol","spanStart","spanEnd","forceHidden","excludeHidden","touchingEntryId","hiddenEntryId","TableRow","cellElRefs","frameElRefs","fgElRefs","segHarnessRefs","framePositions","isForced","updateSizing","businessHoursByCol","bgEventSegsByCol","highlightSegsByCol","getHighlightSegs","mirrorSegsByCol","getMirrorSegs","cell","normalFgNodes","renderFgSegs","mirrorFgNodes","buildMirrorPlacements","showDayNumbers","showWeekNumbers","renderFillSegs","cellMinHeight","prevState","currentProps","segPlacements","nodes","leftRightCss","isExternalSizingChange","frameEls","newPositionCache","oldSegHeights","newSegHeights","querySegHeights","limitByContentHeight","computeMaxContentHeight","segElMap","firstKey","fcContainerEl","getCellEls","elMap","mirrorSegs","colPlacements","topsByInstanceId","buildAbsoluteTopHash","placements","TableRows","splitBusinessHourSegs","splitBgEventSegs","splitFgEventSegs","splitDateSelectionSegs","splitEventDrag","splitEventResize","rowRefs","businessHourSegsByRow","bgEventSegsByRow","fgEventSegsByRow","dateSelectionSegsByRow","eventDragByRow","eventResizeByRow","renderRowIntro","isSegAllDay","firstCellEl","rowPositions","rowObj","colPositions","getCellRange","getCellEl","Table","needsScrollReset","limitViaBalanced","colGroupNode","requestScrollReset","flushScrollReset","subjectEl","getScrollSubjectEl","scrollEl","scrollTop","DayTableSlicer","dayTableModel","DayTable","slicer","tableRef","headerAlignElRef","DayTableView","buildDayTableModel","headerContent","contentArg","TableDateProfileGenerator","buildDayTableRenderRange","snapToWeek","endOfWeek","lastMonthRenderStart","dayGrid","dayGridDay","dayGridWeek","dayGridMonth","dayGridYear","dayGridPlugin","placeholder","$event","$options","postTodo","_renderList","todoList","_normalizeClass","isCheck","editTodo","deleteTodo","_id","tempData","getTodos","apiGetTodos","catch","err","apiPostTodo","apiPatchTodo","apiDeleteTodo","Infor","Q1","Todolist","getWorkers","apiGetWorkers","getCompanys","apiGetCompanys","getOrders","apiGetOrders"],"sourceRoot":""}